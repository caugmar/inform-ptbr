%PDF-1.4
1 0 obj
<<
/Type /Catalog
/Version /1.4
/Pages 10 0 R
/ViewerPreferences 3 0 R
>>
endobj
2 0 obj
<<
/Producer (RSF \(root-software-formatter\))
/CreationDate (10101)
/ModDate (20040227)
>>
endobj
3 0 obj
<<
>>
endobj
4 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F4
/BaseFont /Helvetica-Oblique
/Encoding /WinAnsiEncoding
>>
endobj
5 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F5
/BaseFont /Helvetica-Bold
/Encoding /WinAnsiEncoding
>>
endobj
6 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F6
/BaseFont /Helvetica
/Encoding /WinAnsiEncoding
>>
endobj
7 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F7
/BaseFont /Courier-Oblique
/Encoding /WinAnsiEncoding
>>
endobj
8 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F8
/BaseFont /Courier
/Encoding /WinAnsiEncoding
>>
endobj
9 0 obj
<<
/Type /Font
/Subtype /Type1
/Name /F9
/BaseFont /Courier-Bold
/Encoding /WinAnsiEncoding
>>
endobj
10 0 obj
<<
/Type /Pages
/Count 163
/Kids [
11 0 R 13 0 R 15 0 R 17 0 R 19 0 R 21 0 R 23 0 R 25 0 R 27 0 R 29 0 R 31 0 R 33 0 R 35 0 R 37 0 R 39 0 R 41 0 R 43 0 R 45 0 R 47 0 R 49 0 R 51 0 R 53 0 R 55 0 R 57 0 R 59 0 R 61 0 R 63 0 R 65 0 R 67 0 R 69 0 R 71 0 R 73 0 R 75 0 R 77 0 R 79 0 R 81 0 R 83 0 R 85 0 R 87 0 R 89 0 R 91 0 R 93 0 R 95 0 R 97 0 R 99 0 R 101 0 R 103 0 R 105 0 R 107 0 R 109 0 R 111 0 R 113 0 R 115 0 R 117 0 R 119 0 R 121 0 R 123 0 R 125 0 R 127 0 R 129 0 R 131 0 R 133 0 R 135 0 R 137 0 R 139 0 R 141 0 R 143 0 R 145 0 R 147 0 R 149 0 R 151 0 R 153 0 R 155 0 R 157 0 R 159 0 R 161 0 R 163 0 R 165 0 R 167 0 R 169 0 R 171 0 R 173 0 R 175 0 R 177 0 R 179 0 R 181 0 R 183 0 R 185 0 R 187 0 R 189 0 R 191 0 R 193 0 R 195 0 R 197 0 R 199 0 R 201 0 R 203 0 R 205 0 R 207 0 R 209 0 R 211 0 R 213 0 R 215 0 R 217 0 R 219 0 R 221 0 R 223 0 R 225 0 R 227 0 R 229 0 R 231 0 R 233 0 R 235 0 R 237 0 R 239 0 R 241 0 R 243 0 R 245 0 R 247 0 R 249 0 R 251 0 R 253 0 R 255 0 R 257 0 R 259 0 R 261 0 R 263 0 R 265 0 R 267 0 R 269 0 R 271 0 R 273 0 R 275 0 R 277 0 R 279 0 R 281 0 R 283 0 R 285 0 R 287 0 R 289 0 R 291 0 R 293 0 R 295 0 R 297 0 R 299 0 R 301 0 R 303 0 R 305 0 R 307 0 R 309 0 R 311 0 R 313 0 R 315 0 R 317 0 R 319 0 R 321 0 R 323 0 R 325 0 R 327 0 R 329 0 R 331 0 R 333 0 R 335 0 R ]
>>
endobj
11 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 12 0 R
>>
endobj
12 0 obj
<</Length 189>>
stream
q
379.843 0 0 246.898 28.346 266.4 cm
/I339 Do
Q
BT
0 g
/F4 9.87 Tf
122.979 133.2 Td
(Compiled from the OnyxRing article archive on) Tj
ET
BT
176.44 120.444 Td
(2/27/2004 1:13:54 AM) Tj
ET
endstream
endobj
>>
13 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet []
/Font <<
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 14 0 R
>>
endobj
14 0 obj
<</Length 0>>
stream
endstream
endobj
>>
15 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 16 0 R
>>
endobj
16 0 obj
<</Length 4347>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
405.289 42.52 Td
(i) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
160.549 568.205 Td
(T a b l e   O f   C o n t e n t s) Tj
ET
BT
/F6 9.87 Tf
42.52 529.937 Td
(About This Guide) Tj
ET
BT
42.52 517.181 Td
(     Introduction to the Printed Version) Tj
ET
BT
215.411 517.181 Td
(.................................................................   3) Tj
ET
BT
42.52 504.425 Td
(     Introduction) Tj
ET
BT
119.377 504.425 Td
(....................................................................................................   5) Tj
ET
BT
42.52 491.669 Td
(     FAQ) Tj
ET
BT
89.195 491.669 Td
(...............................................................................................................   6) Tj
ET
BT
42.52 478.913 Td
(Backgrounders) Tj
ET
BT
42.52 466.157 Td
(     What is IF?) Tj
ET
BT
116.633 466.157 Td
(....................................................................................................  13) Tj
ET
BT
42.52 453.402 Td
(Baby Steps) Tj
ET
BT
42.52 440.646 Td
(     Starting Point) Tj
ET
BT
124.865 440.646 Td
(.................................................................................................  17) Tj
ET
BT
42.52 427.89 Td
(Intermediate Coding) Tj
ET
BT
42.52 415.134 Td
(     Arrays, strings and other Inform goodies) Tj
ET
BT
245.594 415.134 Td
(.....................................................  23) Tj
ET
BT
42.52 402.378 Td
(     Code Reuse: Developing a Personal Library) Tj
ET
BT
262.057 402.378 Td
(...............................................  44) Tj
ET
BT
42.52 389.622 Td
(     Print Rules) Tj
ET
BT
113.889 389.622 Td
(.....................................................................................................  48) Tj
ET
BT
42.52 376.866 Td
(     Bitwise and Logical Operators in Inform) Tj
ET
BT
237.362 376.866 Td
(........................................................  54) Tj
ET
BT
42.52 364.11 Td
(Advanced Topics) Tj
ET
BT
42.52 351.354 Td
(     Inform Extensions Voodoo) Tj
ET
BT
182.485 351.354 Td
(............................................................................  69) Tj
ET
BT
42.52 338.598 Td
(     Advanced NPCs: Introduction) Tj
ET
BT
196.204 338.598 Td
(.......................................................................  78) Tj
ET
BT
42.52 325.843 Td
(     Advanced NPCs, Part 1: Pronouns on Steroids) Tj
ET
BT
270.288 325.843 Td
(............................................  80) Tj
ET
BT
42.52 313.087 Td
(     Advanced NPCs, Part 2a: Conversation and Learning) Tj
ET
BT
303.214 313.087 Td
(................................  90) Tj
ET
BT
42.52 300.331 Td
(     Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
303.214 300.331 Td
(................................  97) Tj
ET
BT
42.52 287.575 Td
(     Advanced NPCs, Part 2c: Conversation and Learning) Tj
ET
BT
300.47 287.575 Td
(................................ 111) Tj
ET
BT
42.52 274.819 Td
(     Advanced NPCs, Part 3: NPC Actions) Tj
ET
BT
234.618 274.819 Td
(........................................................ 120) Tj
ET
BT
42.52 262.063 Td
(Tutorials) Tj
ET
BT
42.52 249.307 Td
(     The Wade War Tutorial \(place holder\)) Tj
ET
BT
234.618 249.307 Td
(........................................................ 133) Tj
ET
BT
42.52 236.551 Td
(Informed Tips) Tj
ET
BT
42.52 223.795 Td
(     Randomizing Random) Tj
ET
BT
163.278 223.795 Td
(.................................................................................. 137) Tj
ET
BT
42.52 211.039 Td
(     Making VERBOSE the default mode) Tj
ET
BT
226.387 211.039 Td
(........................................................... 140) Tj
ET
BT
42.52 198.283 Td
(     Using TextPad with Inform) Tj
ET
BT
185.229 198.283 Td
(.......................................................................... 142) Tj
ET
BT
42.52 185.528 Td
(     REPLAYing command scripts) Tj
ET
BT
198.948 185.528 Td
(..................................................................... 146) Tj
ET
BT
42.52 172.772 Td
(     Using SYSTEM_FILE & REPLACE in the Same Source) Tj
ET
BT
311.446 172.772 Td
(............................ 149) Tj
ET
BT
42.52 160.016 Td
(IF Theory) Tj
ET
BT
42.52 147.26 Td
(     NPC Conversations: Ask/Tell Theory) Tj
ET
BT
229.131 147.26 Td
(.......................................................... 153) Tj
ET
endstream
endobj
>>
17 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 18 0 R
>>
endobj
18 0 obj
<</Length 148>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(ii) Tj
ET
BT
186.048 42.52 Td
(Table of Contents) Tj
ET
endstream
endobj
>>
19 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 20 0 R
>>
endobj
20 0 obj
<</Length 239>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
401.993 42.52 Td
(1) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
210.467 333 Td
(Part A) Tj
ET
BT
183.872 320.244 Td
(About This Guide) Tj
ET
endstream
endobj
>>
21 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 22 0 R
>>
endobj
22 0 obj
<</Length 144>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(2) Tj
ET
BT
186.872 42.52 Td
(About This Guide) Tj
ET
endstream
endobj
>>
23 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 24 0 R
>>
endobj
24 0 obj
<</Length 3162>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
401.993 42.52 Td
(3) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(An Inform Developer's Guide: Introduction to the printed version) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(This guide, in its latest form exists at www.OnyxRing.com. All of the articles) Tj
ET
BT
42.52 542.693 Td
(contained here are stored as HTML fragments in a database. When a browser) Tj
ET
BT
42.52 529.937 Td
(requests an article the HTML fragment is pulled from the database, munged) Tj
ET
BT
42.52 517.181 Td
(together with generic web-site code and displayed. This is how the site's article) Tj
ET
BT
42.52 504.425 Td
(archive has been designed and it has operated successfully in this fashion for) Tj
ET
BT
42.52 491.669 Td
(years now. One page, one article. For a time, everything was good... or so I) Tj
ET
BT
42.52 478.913 Td
(thought. ) Tj
ET
BT
42.52 453.402 Td
(As the web site began to accumulate more and more regular hits, and the number) Tj
ET
BT
42.52 440.646 Td
(of articles began to grow, I began to receive innocent e-mail requests: ) Tj
ET
BT
/F7 9.079 Tf
70.866 425.339 Td
("Mr. Fisher, I really love your site, but I really) Tj
ET
BT
70.866 416.154 Td
(would like to print off all the articles at one time.) Tj
ET
BT
70.866 406.97 Td
(Can you produce a single version that I can print off?") Tj
ET
BT
70.866 370.233 Td
("Hey OnyxRing guy! It hurts my eyes staring at the) Tj
ET
BT
70.866 361.049 Td
(screen all the time. Can you produce a single version) Tj
ET
BT
70.866 351.865 Td
(of your Inform Guide?") Tj
ET
BT
70.866 315.128 Td
("Jim, I'm tired of this whole Internet thing and I) Tj
ET
BT
70.866 305.943 Td
(really hate having to look at your site's articles one) Tj
ET
BT
70.866 296.759 Td
(at a time. Can you produce a PDF file or something?") Tj
ET
BT
70.866 260.022 Td
("Look you lazy, Dweeb! You should quit holding Roger) Tj
ET
BT
70.866 250.838 Td
(Firth's awesome TextPad article hostage for site-hits) Tj
ET
BT
70.866 241.654 Td
(and share it everyone else. Why don't you make a PDF) Tj
ET
BT
70.866 232.469 Td
(file or something. The DM4 and IBG are both in that) Tj
ET
BT
70.866 223.285 Td
(format. It can't be that stinking hard, you selfish) Tj
ET
BT
70.866 214.101 Td
(twit!") Tj
ET
BT
/F6 9.87 Tf
42.52 192.161 Td
(So, deciding to give in to this constructive stream of suggestions, I began to look) Tj
ET
BT
42.52 179.405 Td
(into what it would take to do a conversion. Obviously a major concern was the) Tj
ET
BT
42.52 166.649 Td
(frequency in which the site articles changed. A conversion needed to be relatively) Tj
ET
BT
42.52 153.893 Td
(painless since it would need to be updated frequently. ) Tj
ET
BT
42.52 128.381 Td
(In the end, being a somewhat lazy individual \(as one person pointed out\), I wrote a) Tj
ET
BT
42.52 115.625 Td
(little code to do this for me. My HTML to PDF converter took a few weeks to write,) Tj
ET
BT
42.52 102.869 Td
(but seemed to be more or less successful at what I was trying to accomplish. If you) Tj
ET
BT
42.52 90.113 Td
(are reading this from Adobe Acrobat or flipping through a printed hard copy, then) Tj
ET
endstream
endobj
>>
25 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 26 0 R
>>
endobj
26 0 obj
<</Length 1601>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Introduction to the Printed Version) Tj
ET
BT
42.52 42.52 Td
(4) Tj
ET
BT
186.872 42.52 Td
(About This Guide) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(you are reviewing the result. ) Tj
ET
BT
42.52 555.449 Td
(Some of the articles translated extremely well to the printed version. Others) Tj
ET
BT
42.52 542.693 Td
(translated with a lesser degree of success. For example, the FAQ -- which was) Tj
ET
BT
42.52 529.937 Td
(designed to be read online -- is riddled with references to Cascading Styling Sheets) Tj
ET
BT
42.52 517.181 Td
(and the Article Rating System \(neither of which exist in the printed version\).) Tj
ET
BT
42.52 504.425 Td
(Hyperlinks also have not been translated so particularly ugly remarks akin to "click ) Tj
ET
BT
/F4 9.87 Tf
42.52 491.669 Td
(here) Tj
ET
BT
/F6 9.87 Tf
62.269 491.669 Td
( to see such-and-such" seem particularly out of place. As time goes by, I) Tj
ET
BT
42.52 478.913 Td
(hope to modify the articles to make them more agreeable to both web and printed) Tj
ET
BT
42.52 466.157 Td
(mediums. ) Tj
ET
BT
42.52 440.646 Td
(Despite short comings in the translation, this product represents a sizeable) Tj
ET
BT
42.52 427.89 Td
(amount of work, and I am proud to present what has been repeatedly requested of) Tj
ET
BT
42.52 415.134 Td
(me for several years: An Inform Developer's Guide in PDF form, the most recent) Tj
ET
BT
42.52 402.378 Td
(version of which can be found at:) Tj
ET
BT
42.52 376.866 Td
(www.OnyxRing.com/downloads/AIDG.PDF) Tj
ET
BT
42.52 351.354 Td
(Thank you,) Tj
ET
BT
42.52 325.843 Td
(Jim Fisher ) Tj
ET
endstream
endobj
>>
27 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 28 0 R
>>
endobj
28 0 obj
<</Length 3237>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
401.993 42.52 Td
(5) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(An Inform Developer's Guide: Introduction) Tj
ET
q
51.024 0 0 44.646 42.52 517.181 cm
/I345 Do
Q
BT
/F6 9.87 Tf
99.213 555.449 Td
(et me begin with some clarification. As the name states, this is not) Tj
ET
BT
99.213 542.693 Td
("THE Inform Developer's Guide." There are already several works on) Tj
ET
BT
99.213 529.937 Td
(the net that qualify as developer guides for the Inform language.) Tj
ET
BT
99.213 517.181 Td
(Hands down, the most widely viewed of these in the one written by the) Tj
ET
BT
42.52 504.425 Td
(author of Inform himself, Graham Nelson. If any work deserves to be called "THE) Tj
ET
BT
42.52 491.669 Td
(Inform Developer's Guide" it is that one. Instead, the name of this manual is "AN) Tj
ET
BT
42.52 478.913 Td
(Inform Developer's Guide." Again, that's "an", as in "one of several." ) Tj
ET
BT
42.52 453.402 Td
(For those who do not know the history, Graham Nelson contributed greatly to the) Tj
ET
BT
42.52 440.646 Td
(IF community. This highly esteemed Oxford professor wrote the Inform compiler,) Tj
ET
BT
42.52 427.89 Td
(the standard Inform Library, and several acclaimed games. He wrote a number of) Tj
ET
BT
42.52 415.134 Td
(articles on the topic of adventure game design. Additionally, he wrote "The) Tj
ET
BT
42.52 402.378 Td
(Inform Designer's Manual." Without a doubt, Mr. Nelson made a tremendous mark) Tj
ET
BT
42.52 389.622 Td
(upon the IF community. ) Tj
ET
BT
42.52 364.11 Td
(But Graham Nelson is only one man. ) Tj
ET
BT
42.52 338.598 Td
(Different people learn in different ways. Some learn visually, while others learn) Tj
ET
BT
42.52 325.843 Td
(audibly. Some need to see a concept applied to understand its use. Others need) Tj
ET
BT
42.52 313.087 Td
(only the theory. Consider all the different ways to present a topic. Different) Tj
ET
BT
42.52 300.331 Td
(methods work best for different people. No single man can cover the entire) Tj
ET
BT
42.52 287.575 Td
(spectrum of presentation. ) Tj
ET
BT
42.52 262.063 Td
(That's where this guide comes in. You see, I'M not writing it, YOU are. When a) Tj
ET
BT
42.52 249.307 Td
(developer learns Inform, he/she usually does so because of an idea for a game.) Tj
ET
BT
42.52 236.551 Td
(Every game is unique and each game applies aspects of IF that others do not. By) Tj
ET
BT
42.52 223.795 Td
(the time the game developer has finished writing it, he/she has also acquired a bit) Tj
ET
BT
42.52 211.039 Td
(of personal experience in design. It is this personal experience that you will find) Tj
ET
BT
42.52 198.283 Td
(in this guide, for the articles here are written by developers like you. One) Tj
ET
BT
42.52 185.528 Td
(developer may have a fair amount of experience developing NPCs. Another might) Tj
ET
BT
42.52 172.772 Td
(have written a game with extensive language modifications. It is by submitting) Tj
ET
BT
42.52 160.016 Td
(articles to this guide that other developers can share their experience with you. ) Tj
ET
BT
42.52 134.504 Td
(It is by submitting articles to this guide that you can share your experience with) Tj
ET
BT
42.52 121.748 Td
(other developers.) Tj
ET
endstream
endobj
>>
29 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 30 0 R
>>
endobj
30 0 obj
<</Length 3028>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(FAQ) Tj
ET
BT
42.52 42.52 Td
(6) Tj
ET
BT
186.872 42.52 Td
(About This Guide) Tj
ET
BT
/F5 9.87 Tf
42.52 568.205 Td
(An Inform Developer's Guide FAQ) Tj
ET
BT
42.52 542.693 Td
(About the site:) Tj
ET
BT
/F6 9.87 Tf
42.52 517.181 Td
(Q: So is this a replacement for Graham Nelson's Designer's Manual? ) Tj
ET
BT
42.52 491.669 Td
(A: Certainly not! The Designer's Manual is the undisputed standard. This guide) Tj
ET
BT
42.52 478.913 Td
(should be considered a supplement. As described in the ) Tj
ET
BT
290.492 478.913 Td
(Introduction) Tj
ET
BT
342.062 478.913 Td
(, it is the) Tj
ET
BT
42.52 466.157 Td
(philosophy of this guide that different people learn in different ways. There may be) Tj
ET
BT
42.52 453.402 Td
(some duplication of content between this guide and the Inform DM, but a developer) Tj
ET
BT
42.52 440.646 Td
(with a different personal take will write it. It is our belief that the same information) Tj
ET
BT
42.52 427.89 Td
(conveyed in different words, from a different perspective, will often help to make the) Tj
ET
BT
42.52 415.134 Td
(topic clearer. ) Tj
ET
BT
42.52 389.622 Td
(Q. What is this "rating" stuff? ) Tj
ET
BT
42.52 364.11 Td
(A. Since the articles stored here are both "by" and "for" Inform developers, it makes) Tj
ET
BT
42.52 351.354 Td
(since that those same Inform developers rate whether or not they felt the article) Tj
ET
BT
42.52 338.598 Td
(was helpful. Article lists, such as the Table of Contents, show a ratio of positive) Tj
ET
BT
42.52 325.843 Td
(votes over total votes in parentheses. Additionally, the total number of times the) Tj
ET
BT
42.52 313.087 Td
(article has been viewed \(even if not voted on\) is also listed following a colon. For) Tj
ET
BT
42.52 300.331 Td
(example, "\(4/5:23\)" indicates that the article has been viewed 23 times and voted) Tj
ET
BT
42.52 287.575 Td
(on five times. Four of those five votes were positive, one of those votes was not. ) Tj
ET
BT
42.52 262.063 Td
(Q. How do I rate an article? ) Tj
ET
BT
42.52 236.551 Td
(A: At the top of every article, there is a box that gives the reader that ability to) Tj
ET
BT
42.52 223.795 Td
(vote \(thumbs up or thumbs down\). Just click the appropriate button and your vote) Tj
ET
BT
42.52 211.039 Td
(will be sent. After you have voted, the box will show the voting results for this) Tj
ET
BT
42.52 198.283 Td
(article. ) Tj
ET
BT
42.52 172.772 Td
(Q: I don't get the ability to rate an article. Why not? ) Tj
ET
BT
42.52 147.26 Td
(A: We put in a half-hearted attempt to discourage duplicate voting. Note that this) Tj
ET
BT
42.52 134.504 Td
(is not foolproof, nor is it intended to be. In truth it is more of a convenience to) Tj
ET
BT
42.52 121.748 Td
(remind the reader if they have already voted on an article. Still, the method used) Tj
ET
BT
42.52 108.992 Td
(relies upon cookies, and there are a few cases \(such as cookies being disabled on) Tj
ET
BT
42.52 96.236 Td
(the client\) where voting will not work. We apologize for any inconvenience. ) Tj
ET
endstream
endobj
>>
31 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 32 0 R
>>
endobj
32 0 obj
<</Length 2713>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
401.993 42.52 Td
(7) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 568.205 Td
(Writing Articles:) Tj
ET
BT
/F6 9.87 Tf
42.52 542.693 Td
(Q: Hey! I developed a neat programming trick and I'd like to share it with others.) Tj
ET
BT
42.52 529.937 Td
(How can I get it posted in your guide? ) Tj
ET
BT
42.52 504.425 Td
(A: Just send it in. Currently the policy of article addition to the database is wide) Tj
ET
BT
42.52 491.669 Td
(open. Provided there is nothing offensive, profane, or plagiaristic in the article, it) Tj
ET
BT
42.52 478.913 Td
(will be posted to the database in a reasonably short amount of time \(i.e.: a few) Tj
ET
BT
42.52 466.157 Td
(minutes to a couple of days\). ) Tj
ET
BT
42.52 440.646 Td
(Q: So am I limited to just "Hints and Tips" types of work or can I do other, bigger) Tj
ET
BT
42.52 427.89 Td
(things. ) Tj
ET
BT
42.52 402.378 Td
(A: Knock yourself out. You could write a series of large articles if you chose. Do) Tj
ET
BT
42.52 389.622 Td
(whatever you think will benefit the community. ) Tj
ET
BT
42.52 364.11 Td
(Q: Okay, what format should I put my articles in? ) Tj
ET
BT
42.52 338.598 Td
(A: All articles are stored in the database in HTML format. This is the preferred) Tj
ET
BT
42.52 325.843 Td
(form, but you can send the article in plain text if you would like. Although we will) Tj
ET
BT
42.52 313.087 Td
(not modify the content of the article, in some cases it is possible that we may) Tj
ET
BT
42.52 300.331 Td
(choose to modify the HTML tags for cosmetic reasons. If you are opposed to this,) Tj
ET
BT
42.52 287.575 Td
(just let us know. ) Tj
ET
BT
42.52 262.063 Td
(Q: Okay I wrote an article and have a couple of charts that accompany it. How do) Tj
ET
BT
42.52 249.307 Td
(you handle that? ) Tj
ET
BT
42.52 223.795 Td
(A: All article pictures will be stored in an "images" sub-directory named after) Tj
ET
BT
42.52 211.039 Td
(the author \(without spaces\). For example, suppose that John Smith wrote an) Tj
ET
BT
42.52 198.283 Td
(article which contains a picture named "NPCDiagram.jpg." The article's HTML) Tj
ET
BT
42.52 185.528 Td
(should reference the URL: ) Tj
ET
BT
/F8 6.053 Tf
70.866 166.649 Td
(/images/JohnSmith/NPCDiagram.gif) Tj
ET
BT
/F6 9.87 Tf
42.52 153.893 Td
(Q: Fine, in addition to pictures I also have sample code that is too long to put in) Tj
ET
BT
42.52 141.137 Td
(the article. How can I include a sample file with my article? ) Tj
ET
BT
42.52 115.625 Td
(A: Just like images, a directory will be created after the author's name under the) Tj
ET
BT
42.52 102.869 Td
("downloads" directory. Similar to the above example, links would look like this: ) Tj
ET
endstream
endobj
>>
33 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 34 0 R
>>
endobj
34 0 obj
<</Length 2955>>
stream
BT
0 g
/F4 9.87 Tf
70.866 623.48 Td
(FAQ) Tj
ET
BT
70.866 42.52 Td
(8) Tj
ET
BT
186.872 42.52 Td
(About This Guide) Tj
ET
BT
/F8 6.053 Tf
70.866 580.961 Td
(/downloads/JohnSmith/ExampleNPC.inf) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(Q: How do I send my stuff? ) Tj
ET
BT
42.52 542.693 Td
(A: Just e-mail submissions to: ) Tj
ET
BT
/F8 6.053 Tf
70.866 536.57 Td
(WebMaster@OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 523.814 Td
(Q: Okay, I wrote my article, and don't feel comfortable just "giving" it away. What) Tj
ET
BT
42.52 511.058 Td
(protects me? ) Tj
ET
BT
42.52 485.546 Td
(A: As the author, you retain all copyrights. Your name is always listed at the top of) Tj
ET
BT
42.52 472.791 Td
(the article display page with a link to your e-mail address. At the bottom of the page) Tj
ET
BT
42.52 460.035 Td
(is a courtesy copyright notice stating that you, as the author, retain all rights. ) Tj
ET
BT
42.52 434.523 Td
(Q: Is there a problem with posting my article on other sites as well? ) Tj
ET
BT
42.52 409.011 Td
(A: None, whatsoever. It's your article; do with it as you please. ) Tj
ET
BT
42.52 383.499 Td
(Q. I've noticed the use of images for Drop Caps in some of the articles. Are these) Tj
ET
BT
42.52 370.743 Td
(available for my articles as well? ) Tj
ET
BT
42.52 345.231 Td
(A. Yes, although certainly not required, there is a set of drop cap images available) Tj
ET
BT
42.52 332.476 Td
(for use in any article. The images are housed in the following directory: ) Tj
ET
BT
/F8 6.053 Tf
70.866 320.23 Td
(images/dropdown1/) Tj
ET
BT
/F6 9.87 Tf
42.52 301.351 Td
(Each image is a three-letter JPG that begins with "dd" and ends with the letter of) Tj
ET
BT
42.52 288.595 Td
(your drop cap. To use one of the site drop caps, use a variations of the following) Tj
ET
BT
42.52 275.839 Td
(examples: ) Tj
ET
BT
/F8 6.053 Tf
70.866 263.594 Td
(<img align="left" src="images/dropdown1/ddt.jpg">his is a story...) Tj
ET
BT
/F6 9.87 Tf
42.52 244.715 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
70.866 238.592 Td
(<img align="left" src="images/dropdown1/ddo.jpg">nce upon a time, there was a...) Tj
ET
BT
/F6 9.87 Tf
42.52 219.713 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
70.866 213.591 Td
(<img align="left" src="images/dropdown1/ddi.jpg">t was the best of times, it was...) Tj
ET
BT
/F6 9.87 Tf
42.52 181.956 Td
(Q. I would like to distinctively format code and game transcript samples. How can I) Tj
ET
BT
42.52 169.2 Td
(do this? ) Tj
ET
BT
42.52 143.688 Td
(A. Different authors choose to do this in different ways. The <PRE> tag has been) Tj
ET
BT
42.52 130.932 Td
(set up with a mono-spaced font for exactly this purpose and some authors choose) Tj
ET
BT
42.52 118.176 Td
(to use only that. Others may choose to take advantage of colors. Two CSS classes) Tj
ET
BT
42.52 105.42 Td
(have been implemented for your use: "source" and "game." Also, because) Tj
ET
BT
42.52 92.665 Td
(browsers implement colors differently, some authors find it best to utilize these) Tj
ET
endstream
endobj
>>
35 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 36 0 R
>>
endobj
36 0 obj
<</Length 943>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
401.993 42.52 Td
(9) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(classes in a table, which wraps a <PRE>. The following HTML example will) Tj
ET
BT
42.52 568.205 Td
(demonstrate:) Tj
ET
BT
/F8 6.053 Tf
70.866 555.959 Td
(<table class=source><td><pre>) Tj
ET
BT
70.866 543.713 Td
(print "hello world";) Tj
ET
BT
70.866 537.591 Td
(</pre></td></table><br>) Tj
ET
BT
70.866 513.099 Td
(<table class=game><td><pre>) Tj
ET
BT
70.866 500.854 Td
(&gt;x troll) Tj
ET
BT
70.866 488.608 Td
(She is ugly with green teeth. You cannot help but desire her.) Tj
ET
BT
70.866 482.485 Td
(</pre></td></table>) Tj
ET
BT
/F6 9.87 Tf
42.52 450.85 Td
(This displays as:) Tj
ET
BT
/F8 6.053 Tf
42.52 438.605 Td
(print "hello world";) Tj
ET
BT
42.52 394.724 Td
(>x troll ) Tj
ET
BT
42.52 388.602 Td
(She is ugly with green teeth. You cannot help but desire her.) Tj
ET
endstream
endobj
>>
37 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 38 0 R
>>
endobj
38 0 obj
<</Length 142>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(10) Tj
ET
BT
191.812 42.52 Td
(Backgrounders) Tj
ET
endstream
endobj
>>
39 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 40 0 R
>>
endobj
40 0 obj
<</Length 237>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
396.505 42.52 Td
(11) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
210.467 333 Td
(Part B) Tj
ET
BT
188.802 320.244 Td
(Backgrounders) Tj
ET
endstream
endobj
>>
41 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 42 0 R
>>
endobj
42 0 obj
<</Length 142>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(12) Tj
ET
BT
191.812 42.52 Td
(Backgrounders) Tj
ET
endstream
endobj
>>
43 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 44 0 R
>>
endobj
44 0 obj
<</Length 3229>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(13) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(What is IF?) Tj
ET
q
51.024 0 0 44.646 42.52 517.181 cm
/I341 Do
Q
BT
/F6 9.87 Tf
99.213 555.449 Td
(F is an acronym for "Interactive Fiction." In the broadest sense of) Tj
ET
BT
99.213 542.693 Td
(the term, "Interactive Fiction" is any work of fiction with which the) Tj
ET
BT
99.213 529.937 Td
(reader/player interacts. To be reasonable, this could include) Tj
ET
BT
99.213 517.181 Td
(visually oriented games like Diablo or Ultima. Even shoot 'em up) Tj
ET
BT
42.52 504.425 Td
(games like Half-Life have a storyline to convey. But long before there were PCs) Tj
ET
BT
42.52 491.669 Td
(to be taken for granted, back when "computers" meant "mainframes" that occupied) Tj
ET
BT
42.52 478.913 Td
(entire rooms, and "cool graphics" meant correctly aligning the asterisks on the) Tj
ET
BT
42.52 466.157 Td
(amber terminal screen, there were "Text Adventures". ) Tj
ET
BT
42.52 440.646 Td
(For the purposes of this site, and the vast majority of the interactive fiction) Tj
ET
BT
42.52 427.89 Td
(community, the terms "Interactive Fiction" and "Text Adventures" are synonymous.) Tj
ET
BT
42.52 415.134 Td
(Text adventures, as the name implies, are programs done entirely in text. I use) Tj
ET
BT
42.52 402.378 Td
(the qualification "programs" here to differentiate text adventures from written or) Tj
ET
BT
42.52 389.622 Td
(static works of text. Examples of such works are books like the "Choose Your Own) Tj
ET
BT
42.52 376.866 Td
(Adventure" series, and some more modern adaptations that exist in the form of) Tj
ET
BT
42.52 364.11 Td
(web pages, today. Although some would argue that these are indeed "Text) Tj
ET
BT
42.52 351.354 Td
(Adventures", they are outside the scope of what is generally being referred to when) Tj
ET
BT
42.52 338.598 Td
(the phrase is being used. In standard text adventures, the player typically types) Tj
ET
BT
42.52 325.843 Td
(out his intentions in plain English \(or whatever other language the specific game) Tj
ET
BT
42.52 313.087 Td
(is targeted for\) and the games attempt to "understand" what was meant and) Tj
ET
BT
42.52 300.331 Td
(perform the action. ) Tj
ET
BT
42.52 274.819 Td
(Does that sound like AI? Not by today's standards, but in the Seventies, a "Natural) Tj
ET
BT
42.52 262.063 Td
(Language" interface to a computer was unheard of. Yes, text adventures certainly) Tj
ET
BT
42.52 249.307 Td
(seemed to bring reality several steps closer to Arthur C. Clark's 2001 vision of) Tj
ET
BT
42.52 236.551 Td
(HAL. ) Tj
ET
BT
/F5 9.87 Tf
42.52 211.039 Td
(The Baby IF...) Tj
ET
BT
/F6 9.87 Tf
42.52 185.528 Td
(What is generally accepted as the first-ever text adventure is a mainframe program) Tj
ET
BT
42.52 172.772 Td
(written in the seventies, now known by the name "Colossal Cave". As is the case) Tj
ET
BT
42.52 160.016 Td
(with most subculture-creating pieces of work, "Colossal Cave" birthed derivative) Tj
ET
BT
42.52 147.26 Td
(works, such as "Adventure," which in turn served as a basis for many modern) Tj
ET
BT
42.52 134.504 Td
(pieces of IF. ) Tj
ET
BT
/F5 9.87 Tf
42.52 108.992 Td
(The Adolescent IF...) Tj
ET
endstream
endobj
>>
45 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 46 0 R
>>
endobj
46 0 obj
<</Length 2208>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(What is IF?) Tj
ET
BT
42.52 42.52 Td
(14) Tj
ET
BT
191.812 42.52 Td
(Backgrounders) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(The company generally given credit for making huge advances in the interactive) Tj
ET
BT
42.52 568.205 Td
(fiction evolution is a company named Infocom. After producing dozens of text) Tj
ET
BT
42.52 555.449 Td
(adventures, Infocom went out of business \(several years ago now\) and sold the) Tj
ET
BT
42.52 542.693 Td
(rights to their games to Activision. Strangely enough, years after the company's) Tj
ET
BT
42.52 529.937 Td
(demise, Infocom works are still widely accepted as the defacto-standard in) Tj
ET
BT
42.52 517.181 Td
(interactive fiction. ) Tj
ET
BT
/F5 9.87 Tf
42.52 491.669 Td
(Today's IF \(All Grown Up\)...) Tj
ET
BT
/F6 9.87 Tf
42.52 466.157 Td
(Since Infocom closed it's doors, many people have put intensive work into) Tj
ET
BT
42.52 453.402 Td
(furthering IF. Some have reverse-engineered the game files and executables of) Tj
ET
BT
42.52 440.646 Td
(the old Infocom games and created a documented standard from them) Tj
ET
BT
42.52 427.89 Td
(\(Z-Machine\). Because of this published standard, there are now dozens of) Tj
ET
BT
42.52 415.134 Td
(interpreters that can be used to play Z-Machine games \(including the old Infocom) Tj
ET
BT
42.52 402.378 Td
(games\). Interpreters exist for virtually any operating system, from a Linux) Tj
ET
BT
42.52 389.622 Td
(workstation to a Windows CE PalmPC. A language and compiler has also been) Tj
ET
BT
42.52 376.866 Td
(created \(INFORM\) and released as freeware. This compiler can be used to create) Tj
ET
BT
42.52 364.11 Td
(original Z-Machine games and carry on the Infocom legacy. ) Tj
ET
BT
42.52 338.598 Td
(In addition to the Z-Machine standard, other IF development platforms have also) Tj
ET
BT
42.52 325.843 Td
(sprung into existence. The most accepted among these, which leads a close) Tj
ET
BT
42.52 313.087 Td
(second to INFORM, is TADS. There are more as well, such as HUGO, ALAN, and) Tj
ET
BT
42.52 300.331 Td
(ADRIFT. All of these can be located in the interactive fiction archive located at: ) Tj
ET
BT
42.52 287.575 Td
(ftp://ftp.ifarchive.org/if-archive/) Tj
ET
endstream
endobj
>>
47 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 48 0 R
>>
endobj
48 0 obj
<</Length 234>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
396.505 42.52 Td
(15) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
210.467 333 Td
(Part C) Tj
ET
BT
198.124 320.244 Td
(Baby Steps) Tj
ET
endstream
endobj
>>
49 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 50 0 R
>>
endobj
50 0 obj
<</Length 139>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(16) Tj
ET
BT
199.763 42.52 Td
(Baby Steps) Tj
ET
endstream
endobj
>>
51 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 52 0 R
>>
endobj
52 0 obj
<</Length 3658>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(17) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(A Starting Point) Tj
ET
q
51.024 0 0 44.646 42.52 517.181 cm
/I338 Do
Q
BT
/F6 9.87 Tf
99.213 555.449 Td
(here's a program that predates all other programs. It was written) Tj
ET
BT
99.213 542.693 Td
(before Windows or X, before DOS or BSD, before even CP/M or) Tj
ET
BT
99.213 529.937 Td
(TRS-DOS. It predates the PC entirely. You can find flavors of it) Tj
ET
BT
99.213 517.181 Td
(written in every programming language in existence. From assembler) Tj
ET
BT
42.52 504.425 Td
(to SQL, BASIC to C, Pascal to Fortran, Inform is no exception. Every programmer) Tj
ET
BT
42.52 491.669 Td
(in the world has typed in a variation of this program. Some versions of it are) Tj
ET
BT
42.52 478.913 Td
(complex. Others are simple. All share a common purpose: To provide the coder) Tj
ET
BT
42.52 466.157 Td
(with a an introduction to a programming language. What is its name? "Hello) Tj
ET
BT
42.52 453.402 Td
(World." ) Tj
ET
BT
42.52 427.89 Td
(Several "Hello Worlds" exist for Inform already. Probably the most viewed of these) Tj
ET
BT
42.52 415.134 Td
(was written by Graham Nelson, the author of the Inform language, and can be) Tj
ET
BT
42.52 402.378 Td
(found in section 1.2 of his "Inform Designer's Manual." It is essentially what) Tj
ET
BT
42.52 389.622 Td
(follows: ) Tj
ET
BT
/F8 6.053 Tf
42.52 371.254 Td
(     !This code was snatched from G. Nelson's ) Tj
ET
BT
42.52 365.131 Td
(     !Designer's Manual 3 sect 1.2) Tj
ET
BT
42.52 359.008 Td
(     [Main;) Tj
ET
BT
42.52 352.885 Td
(          print "Hello World!^";) Tj
ET
BT
42.52 346.762 Td
(     ];) Tj
ET
BT
/F6 9.87 Tf
42.52 315.128 Td
(It is not all that inspiring, perhaps, but it does compile and when run, it does) Tj
ET
BT
42.52 302.372 Td
(exactly what you would expect it to: It prints the words "Hello World!" on the) Tj
ET
BT
42.52 289.616 Td
(display and then exits. ) Tj
ET
BT
42.52 264.104 Td
(For a newbie Inform developer, there are several things that can be learned or) Tj
ET
BT
42.52 251.348 Td
(deduced about Inform from the above example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 226.346 Td
(     1\) An exclamation point precedes comments.) Tj
ET
BT
42.52 220.224 Td
(     2\) A method or routine is enclosed in brackets and ) Tj
ET
BT
42.52 214.101 Td
(          followed by a semicolon.) Tj
ET
BT
42.52 207.978 Td
(     3\) The method declaration \(the name of the routine and ) Tj
ET
BT
42.52 201.855 Td
(          parameters\) is the first line of code inside the brackets.) Tj
ET
BT
42.52 195.732 Td
(     4\) Like C, all lines of code end in semicolons.) Tj
ET
BT
42.52 189.609 Td
(     5\) Also like C \(there are numerous similarities between C and ) Tj
ET
BT
42.52 183.487 Td
(          Inform\), all Inform programs have acommon entry point ) Tj
ET
BT
42.52 177.364 Td
(          method \(or routine\), named "Main.") Tj
ET
BT
42.52 171.241 Td
(     6\) Additionally, this program gives us a glimpse of a basic ) Tj
ET
BT
42.52 165.118 Td
(          Inform routine called "print" which will output ) Tj
ET
BT
42.52 158.995 Td
(          data to the display) Tj
ET
BT
/F6 9.87 Tf
42.52 127.361 Td
(Perhaps I expect too much from a "Hello World" program, but I also feel that there) Tj
ET
BT
42.52 114.605 Td
(are also several things missing from that code that keep it from being a good) Tj
ET
BT
42.52 101.849 Td
(starting place for 99% of developers \(In its defense, the example was not really) Tj
ET
BT
42.52 89.093 Td
(intended as a starting place. Mr. Nelson's finer example appears at the start of the) Tj
ET
endstream
endobj
>>
53 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 54 0 R
>>
endobj
54 0 obj
<</Length 3772>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Starting Point) Tj
ET
BT
42.52 42.52 Td
(18) Tj
ET
BT
199.763 42.52 Td
(Baby Steps) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(DM's third chapter\). ) Tj
ET
BT
/F8 6.053 Tf
42.52 555.959 Td
(     1\) The standard library is completely missing from the example. ) Tj
ET
BT
42.52 549.836 Td
(     2\) There are not sample rooms for the player to be located in.) Tj
ET
BT
42.52 543.713 Td
(     3\) There are not sample objects for the player to interact with.) Tj
ET
BT
42.52 537.591 Td
(     4\) There is no prompt for the player to type in commands.) Tj
ET
BT
/F6 9.87 Tf
42.52 505.956 Td
(In theory, you could implement 2, 3, and 4 without implementing the standard) Tj
ET
BT
42.52 493.2 Td
(library, but in reality you just don't. Why you ask? Simply put, the wheel is) Tj
ET
BT
42.52 480.444 Td
(already in existence. There is no reason to invent a new one from scratch. The) Tj
ET
BT
42.52 467.688 Td
(standard Inform library contains all things common among adventure games,) Tj
ET
BT
42.52 454.932 Td
(including rooms, objects, and input routines. C coders can think of it as the C) Tj
ET
BT
42.52 442.176 Td
(runtime library. A developer could choose to not use it and rewrite all the) Tj
ET
BT
42.52 429.42 Td
(standard routines such as "printf," or "scanf" from scratch using the "_asm") Tj
ET
BT
42.52 416.665 Td
(keyword and low-level assembler code, but why? Even though they are different, C) Tj
ET
BT
42.52 403.909 Td
(and the C library are essentially the same thing. The same is true for Inform and) Tj
ET
BT
42.52 391.153 Td
(the Inform library. ) Tj
ET
BT
42.52 365.641 Td
(So how do you reference the Inform library? Through includes. The inform library is) Tj
ET
BT
42.52 352.885 Td
(just code. It exists in a collection of files and you include it by including the) Tj
ET
BT
42.52 340.129 Td
(three main files in your source file via the include keyword \(again, very much like) Tj
ET
BT
42.52 327.373 Td
(C\). These three files are "Parser.h", "VerbLib.h", and "Grammar.h" \(on some) Tj
ET
BT
42.52 314.617 Td
(machines the .h extension is dropped\). Saddly, the placement and order of each of) Tj
ET
BT
42.52 301.861 Td
(the files is significant and has an impact on whether or not your source code will) Tj
ET
BT
42.52 289.106 Td
(compile. ) Tj
ET
BT
42.52 263.594 Td
(The library looks for and expects certain things. Certain constants such as "Story") Tj
ET
BT
42.52 250.838 Td
(and "Headline" are used to define information about your game. Additionally, the) Tj
ET
BT
42.52 238.082 Td
(Inform entry point has already been defined in the library. Now a routine named) Tj
ET
BT
42.52 225.326 Td
("Initialise" is expected for game initialization. ) Tj
ET
BT
42.52 199.814 Td
(What follows is a "Hello World" program, which can serve as a starting point for) Tj
ET
BT
42.52 187.058 Td
(coding any game. I personally keep a variation of this file stored in a "reuse") Tj
ET
BT
42.52 174.302 Td
(directory on my personal machine and copy every time I write a new game. Feel) Tj
ET
BT
42.52 161.546 Td
(free to cut and paste it and change it to suit your preferences. Additionally, there is) Tj
ET
BT
42.52 148.791 Td
(a slightly modified version of this that will serve as the starting point for many) Tj
ET
BT
42.52 136.035 Td
(examples in later articles. It can be found ) Tj
ET
BT
224.65 136.035 Td
(here) Tj
ET
BT
244.399 136.035 Td
(. ) Tj
ET
BT
/F8 6.053 Tf
42.52 117.666 Td
(     Serial "000001";) Tj
ET
BT
42.52 111.543 Td
(     Release 1;) Tj
ET
BT
42.52 105.42 Td
(     !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!) Tj
ET
BT
42.52 99.298 Td
(     ! Hello World ) Tj
ET
BT
42.52 93.175 Td
(     !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!) Tj
ET
BT
42.52 87.052 Td
(     ! General defines) Tj
ET
endstream
endobj
>>
55 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 56 0 R
>>
endobj
56 0 obj
<</Length 1715>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(19) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
(     Constant Story "Hello World"; ) Tj
ET
BT
42.52 574.838 Td
(     Constant Headline "^Copyright \(c\) 2001: Jim Fisher^"; ) Tj
ET
BT
42.52 568.715 Td
(     #Include "Parser"; ) Tj
ET
BT
42.52 562.592 Td
(     #Include "VerbLib"; ) Tj
ET
BT
42.52 556.469 Td
(     !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!) Tj
ET
BT
42.52 550.346 Td
(     ! Maps ) Tj
ET
BT
42.52 544.224 Td
(          object PlainPlace "Plain Place") Tj
ET
BT
42.52 538.101 Td
(               with description "There really isn't ) Tj
ET
BT
42.52 531.978 Td
(                    much here. Just a room with no exits." ) Tj
ET
BT
42.52 525.855 Td
(               has  light) Tj
ET
BT
42.52 519.732 Td
(          ; ) Tj
ET
BT
42.52 513.609 Td
(     !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!) Tj
ET
BT
42.52 507.487 Td
(     ! Movable Objects ) Tj
ET
BT
42.52 501.364 Td
(          object     disc "small disk" PlainPlace ) Tj
ET
BT
42.52 495.241 Td
(          with       name "small" "disk") Tj
ET
BT
42.52 489.118 Td
(          ,          description "Engraved in this small disk ) Tj
ET
BT
42.52 482.995 Td
(                     are the words: ~Hello World!~") Tj
ET
BT
42.52 476.872 Td
(     ; ) Tj
ET
BT
42.52 470.75 Td
(     !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!) Tj
ET
BT
42.52 464.627 Td
(     ! Code ) Tj
ET
BT
42.52 458.504 Td
(     [Initialise; ) Tj
ET
BT
42.52 452.381 Td
(          location = PlainPlace;) Tj
ET
BT
42.52 446.258 Td
(     ]; ) Tj
ET
BT
42.52 440.135 Td
(     #Include "Grammar"; ) Tj
ET
BT
42.52 434.013 Td
(     end;) Tj
ET
endstream
endobj
>>
57 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 58 0 R
>>
endobj
58 0 obj
<</Length 148>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(20) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
endstream
endobj
>>
59 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 60 0 R
>>
endobj
60 0 obj
<</Length 243>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
396.505 42.52 Td
(21) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
210.467 333 Td
(Part D) Tj
ET
BT
177.289 320.244 Td
(Intermediate Coding) Tj
ET
endstream
endobj
>>
61 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 62 0 R
>>
endobj
62 0 obj
<</Length 148>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(22) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
endstream
endobj
>>
63 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 64 0 R
>>
endobj
64 0 obj
<</Length 3312>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(23) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Arrays, strings and other Inform goodies) Tj
ET
q
51.024 0 0 44.646 42.52 517.181 cm
/I338 Do
Q
BT
/F6 9.87 Tf
99.213 555.449 Td
(he Inform Designer's Manual \(4th edition\) dedicates sections 2.4 and) Tj
ET
BT
99.213 542.693 Td
(2.5 to the world of arrays. From this point on, arrays crop up) Tj
ET
BT
99.213 529.937 Td
(sporadically when it's necessary to explain how some function works) Tj
ET
BT
99.213 517.181 Td
(or how to achieve some programming somersault. Like many other) Tj
ET
BT
42.52 504.425 Td
(topics covered by the manual, you may find that while all the necessary information) Tj
ET
BT
42.52 491.669 Td
(is there, the author's need for brevity \(in a 576 page book that wastes not one) Tj
ET
BT
42.52 478.913 Td
(single paragraph\) leaves the novice with a feeling of "things a-happening beyond) Tj
ET
BT
42.52 466.157 Td
(my grasp". This article aims to provide the novice to Inform with a little background) Tj
ET
BT
42.52 453.402 Td
(material in order to more easily understand arrays. ) Tj
ET
BT
42.52 427.89 Td
(Since the time when this article was written, Andrew C. Plotkin \(aka. Zarf\) has) Tj
ET
BT
42.52 415.134 Td
(brought forth Glulx, a new Inform Virtual Machine which lifts the memory) Tj
ET
BT
42.52 402.378 Td
(restrictions of the Z-Machine -- among other things. This made some parts of the) Tj
ET
BT
42.52 389.622 Td
(text incomplete and some code examples "disasters waiting to happen". We have) Tj
ET
BT
42.52 376.866 Td
(tried to bring the article up to date to cover Glulx compatibility and reduce) Tj
ET
BT
42.52 364.11 Td
(disasters to the minimum. Even if you don't know what we are talking about, don't) Tj
ET
BT
42.52 351.354 Td
(worry. Nothing that you read here will be hazardous to your games. ) Tj
ET
BT
/F5 9.87 Tf
42.52 325.843 Td
(1. Basic concepts) Tj
ET
BT
/F6 9.87 Tf
42.52 300.331 Td
(An array is nothing more that an area in memory where a collection of data items) Tj
ET
BT
42.52 287.575 Td
(can be stored sequentially, one after the other. Each item is called an "entry" in the) Tj
ET
BT
42.52 274.819 Td
(array, and can be identified by the position it holds in the list. Example: ) Tj
ET
BT
/F5 9.87 Tf
42.52 249.307 Td
(Position   ) Tj
ET
BT
98.192 249.307 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 235.552 Td
(0) Tj
ET
BT
98.192 235.552 Td
(18) Tj
ET
BT
42.52 221.886 Td
(1) Tj
ET
BT
98.192 221.886 Td
(2354) Tj
ET
BT
42.52 208.221 Td
(2) Tj
ET
BT
98.192 208.221 Td
(127) Tj
ET
BT
42.52 194.555 Td
(3) Tj
ET
BT
98.192 194.555 Td
(4535) Tj
ET
BT
42.52 180.889 Td
(4) Tj
ET
BT
98.192 180.889 Td
(16000) Tj
ET
BT
42.52 141.711 Td
(The "position it holds" may be called "entry number" or "index" of the array, while) Tj
ET
BT
42.52 128.955 Td
(the data "items" stored are simply "entries". Therefore we can say that, in the) Tj
ET
BT
42.52 116.199 Td
(above example, the third entry is 127, at position/index/entry number 2. Note that) Tj
ET
BT
42.52 103.443 Td
(in the example, the first index is 0. Some languages use 1 instead as the first index) Tj
ET
BT
42.52 90.687 Td
(of an array. Inform uses both depending on the particularities of the array, as we) Tj
ET
endstream
endobj
>>
65 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 66 0 R
>>
endobj
66 0 obj
<</Length 3663>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(24) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(shall see. ) Tj
ET
BT
42.52 555.449 Td
(Unfortunately, in order to understand how Inform manages arrays, it's useful to) Tj
ET
BT
42.52 542.693 Td
(know a little bit about how computers store data in memory. ) Tj
ET
BT
42.52 517.181 Td
(You are probably aware that the most common information unit in computers is the) Tj
ET
BT
42.52 504.425 Td
(byte. One byte equals 8 bits, and since bits can take two values \(0 or 1\), there) Tj
ET
BT
42.52 491.669 Td
(are 256 different bit combinations in each byte \(2 to the power 8\). This implies) Tj
ET
BT
42.52 478.913 Td
(that if we want to store numbers in one byte, we can only handle quantities) Tj
ET
BT
42.52 466.157 Td
(between 0 and 255. If we wish to store a single character, we can only code 256) Tj
ET
BT
42.52 453.402 Td
(different characters \(which sounds good enough for an European alphabet\). In fact,) Tj
ET
BT
42.52 440.646 Td
(when storing characters, each one is encoded through a number \(its ASCII code if) Tj
ET
BT
42.52 427.89 Td
(it's from the American alphabet, or its ISO 8859-X code for other West and Central) Tj
ET
BT
42.52 415.134 Td
(European alphabets -- which include local variations like the Spanish ''\); that) Tj
ET
BT
42.52 402.378 Td
(means that the item stored in the byte is always a number. ) Tj
ET
BT
42.52 376.866 Td
(Computers frequently combine several bytes to store larger data items. For) Tj
ET
BT
42.52 364.11 Td
(example, using two bytes together gives you 16 bits instead of 8 and, therefore,) Tj
ET
BT
42.52 351.354 Td
(65536 combinations \(2 to the power 16\). This is useful to encode characters from) Tj
ET
BT
42.52 338.598 Td
(exotic alphabets which offer more than 256 symbols, like the Unicode standard, or) Tj
ET
BT
42.52 325.843 Td
(for larger numbers \(in the range from 0 to 65535\). Computers and modern software) Tj
ET
BT
42.52 313.087 Td
(may use more bytes \(3, which means 24 bits; or 4, which implies 32 bits\). This) Tj
ET
BT
42.52 300.331 Td
(combination of bytes is called the "word size", so we may talk about a two-byte) Tj
ET
BT
42.52 287.575 Td
(word size \(16 bits\) or a four-byte word size \(32 bits\). ) Tj
ET
BT
42.52 262.063 Td
(Inform may compile for the Z-machine, which is a Virtual Machine \(VM\)designed by) Tj
ET
BT
42.52 249.307 Td
(Infocom in 1.979 -- when memory was scarce --, or for Glulx, which is a new VM) Tj
ET
BT
42.52 236.551 Td
(designed by Andrew Plotkin with Year-2000-Computers in mind. The Z-machine) Tj
ET
BT
42.52 223.795 Td
(uses a two-byte word size while Glulx handles a four-byte word size. Most of your) Tj
ET
BT
42.52 211.039 Td
(Inform code will compile fine for both \(an appealing thought\), but we must be) Tj
ET
BT
42.52 198.283 Td
(careful when applying some calculations. We'll address this issue a bit later;) Tj
ET
BT
42.52 185.528 Td
(simply bear in mind that when we mention two-byte word size or 16 bits in relation) Tj
ET
BT
42.52 172.772 Td
(to the Z-machine, you may also read four-byte word size or 32 bits in relation to) Tj
ET
BT
42.52 160.016 Td
(Glulx. ) Tj
ET
BT
42.52 134.504 Td
(Inform -- which was originally conceived to recreate the Z-machine -- uses) Tj
ET
BT
42.52 121.748 Td
(extensively this two-byte word size; in fact, every data type managed by Inform is) Tj
ET
BT
42.52 108.992 Td
(stored in two bytes -- numbers, objects, some text strings, dictionary words... all) Tj
ET
BT
42.52 96.236 Td
(of them are encoded in a 16-bit number and stored in a "word" \(for those) Tj
ET
endstream
endobj
>>
67 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 68 0 R
>>
endobj
68 0 obj
<</Length 2377>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(25) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(conversant with 'pointers', let us say that everything in Inform are 16-bit) Tj
ET
BT
42.52 568.205 Td
(pointers to memory addresses on the Z-machine\). Single bytes are best used to) Tj
ET
BT
42.52 555.449 Td
(store single characters. ) Tj
ET
BT
42.52 529.937 Td
(When we wish to store an array in memory, we'll have to tell Inform if the items) Tj
ET
BT
42.52 517.181 Td
(will be bytes \(small numbers\) or words \(bigger numbers\). For single characters,) Tj
ET
BT
42.52 504.425 Td
(one byte should be enough, but if we have numbers or other data types in mind,) Tj
ET
BT
42.52 491.669 Td
(words are much better. In fact, words may handle all kinds of data; the only) Tj
ET
BT
42.52 478.913 Td
(advantage of a byte array is that it economises on memory. ) Tj
ET
BT
/F5 9.87 Tf
42.52 453.402 Td
(2. Array declaration and usage in Inform) Tj
ET
BT
/F6 9.87 Tf
42.52 427.89 Td
(To declare an array, all we have to do is type the word "Array" followed by the) Tj
ET
BT
42.52 415.134 Td
(name we wish the array to have and the symbol -> \(for byte arrays\) or --> \(for word) Tj
ET
BT
42.52 402.378 Td
(arrays\). Finally, we indicate the number of entries \(items\) that our array will handle. ) Tj
ET
BT
/F5 9.87 Tf
42.52 376.866 Td
(2.1 Byte Arrays) Tj
ET
BT
/F6 9.87 Tf
42.52 351.354 Td
(For instance: ) Tj
ET
BT
/F8 6.053 Tf
42.52 307.474 Td
( Array four_bytes -> 4; ) Tj
ET
BT
/F6 9.87 Tf
42.52 275.839 Td
(would declare an array with four entries, each of which will be a byte, since we) Tj
ET
BT
42.52 263.083 Td
(have used the -> notation. ) Tj
ET
BT
42.52 237.572 Td
(This generates a memory area with a size of 4 bytes, ready to store four small) Tj
ET
BT
42.52 224.816 Td
(numbers. ) Tj
ET
BT
/F5 9.87 Tf
42.52 199.304 Td
(Index   ) Tj
ET
BT
85.035 199.304 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 185.549 Td
(0) Tj
ET
BT
85.035 185.549 Td
(0) Tj
ET
BT
42.52 171.883 Td
(1) Tj
ET
BT
85.035 171.883 Td
(0) Tj
ET
BT
42.52 158.217 Td
(2) Tj
ET
BT
85.035 158.217 Td
(0) Tj
ET
BT
42.52 144.551 Td
(3) Tj
ET
BT
85.035 144.551 Td
(0) Tj
ET
BT
42.52 105.374 Td
(***IT'S VERY IMPORTANT TO REMEMBER THAT BYTE ARRAYS START TO) Tj
ET
BT
42.52 92.618 Td
(NUMBER THEIR ENTRIES FROM 0*** ) Tj
ET
endstream
endobj
>>
69 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 70 0 R
>>
endobj
70 0 obj
<</Length 2352>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(26) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(Let us suppose that we wish to assign the following items in the above array. ) Tj
ET
BT
/F5 9.87 Tf
42.52 542.693 Td
(Index   ) Tj
ET
BT
85.035 542.693 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 528.938 Td
(0) Tj
ET
BT
85.035 528.938 Td
(25) Tj
ET
BT
42.52 515.272 Td
(1) Tj
ET
BT
85.035 515.272 Td
(130) Tj
ET
BT
42.52 501.606 Td
(2) Tj
ET
BT
85.035 501.606 Td
(240) Tj
ET
BT
42.52 487.94 Td
(3) Tj
ET
BT
85.035 487.94 Td
(1000) Tj
ET
BT
42.52 448.763 Td
(The last number can't be stored in a single byte, since it goes beyond the 255) Tj
ET
BT
42.52 436.007 Td
(limit, so we're sure to run into trouble. We'll soon see what happens. ) Tj
ET
BT
42.52 410.495 Td
(These numbers can be assigned to the array in the following manner: ) Tj
ET
BT
/F8 6.053 Tf
42.52 366.615 Td
( four_bytes->0 = 25;) Tj
ET
BT
42.52 360.492 Td
( four_bytes->1 = 130;) Tj
ET
BT
42.52 354.369 Td
( four_bytes->2 = 240;) Tj
ET
BT
42.52 348.246 Td
( four_bytes->3 = 1000; ) Tj
ET
BT
/F6 9.87 Tf
42.52 316.612 Td
(We've said that the last entry is too big for a single byte. This won't cause a) Tj
ET
BT
42.52 303.856 Td
(complaint about the overflow problem at compile time, though. Inform will accept) Tj
ET
BT
42.52 291.1 Td
(the array if its syntax is correctly written but, because of the way numbers are) Tj
ET
BT
42.52 278.344 Td
(stored in bytes, our 1000 has been transformed into a different number. This will) Tj
ET
BT
42.52 265.588 Td
(cause bugs at run-time that will be difficult to diagnose. ) Tj
ET
BT
42.52 240.076 Td
(That's why number storage is better reserved for word arrays. We'll keep byte) Tj
ET
BT
42.52 227.32 Td
(arrays just for single characters -- and they're only worth the effort if you really) Tj
ET
BT
42.52 214.564 Td
(must save on memory. Let's try another example with the same array declaration. ) Tj
ET
BT
/F8 6.053 Tf
42.52 170.684 Td
( Array four_bytes -> 4; ) Tj
ET
BT
/F5 9.87 Tf
42.52 139.049 Td
(Index   ) Tj
ET
BT
85.035 139.049 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 125.295 Td
(0) Tj
ET
BT
85.035 125.295 Td
('F') Tj
ET
BT
42.52 111.629 Td
(1) Tj
ET
BT
85.035 111.629 Td
('i') Tj
ET
BT
42.52 97.963 Td
(2) Tj
ET
BT
85.035 97.963 Td
('s') Tj
ET
endstream
endobj
>>
71 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 72 0 R
>>
endobj
72 0 obj
<</Length 2892>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(27) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(3) Tj
ET
BT
85.035 580.961 Td
('h') Tj
ET
BT
42.52 541.783 Td
(Now we want to store the four characters which form the phrase "Fish". To) Tj
ET
BT
42.52 529.027 Td
(accomplish this, we assign as follows: ) Tj
ET
BT
/F8 6.053 Tf
42.52 485.147 Td
( four_bytes->0 = 'F';) Tj
ET
BT
42.52 479.024 Td
( four_bytes->1 = 'i';) Tj
ET
BT
42.52 472.901 Td
( four_bytes->2 = 's';) Tj
ET
BT
42.52 466.778 Td
( four_bytes->3 = 'h'; ) Tj
ET
BT
/F6 9.87 Tf
42.52 435.144 Td
(Observe the apostrophes -- or single quotation marks -- \('\), as opposed to double) Tj
ET
BT
42.52 422.388 Td
(quotation marks \("\). Just like in C, a single letter surrounded by apostrophes is) Tj
ET
BT
42.52 409.632 Td
(understood as "the ASCII code for this letter". \(Note: If you put more than a single) Tj
ET
BT
42.52 396.876 Td
(character between apostrophes, the compiler thinks you are defining a dictionary) Tj
ET
BT
42.52 384.12 Td
(word. The use of single or double quotation marks is one of those syntactic niceties) Tj
ET
BT
42.52 371.364 Td
(in Inform which may require another article, but until then, look up ) Tj
ET
BT
42.52 358.608 Td
(http://www.firthworks.com/roger/informfaq/) Tj
ET
BT
227.354 358.608 Td
( for the basics if you are interested\). ) Tj
ET
BT
42.52 333.096 Td
(We could now try to print these letters on the screen, perhaps with the aid of this) Tj
ET
BT
42.52 320.34 Td
(loop: ) Tj
ET
BT
/F8 6.053 Tf
42.52 276.46 Td
( for \(i=0 : i<4 : i++\) ) Tj
ET
BT
42.52 270.337 Td
(   print four_bytes->i; ) Tj
ET
BT
/F6 9.87 Tf
42.52 238.703 Td
(which means: set the variable i equal to 0; print the ith entry in the array and) Tj
ET
BT
42.52 225.947 Td
(increase the value of i by one; repeat while i remains less than four. ) Tj
ET
BT
42.52 200.435 Td
(We expect the phrase "Fish" to appear on the screen, but what we actually get is) Tj
ET
BT
42.52 187.679 Td
(70105115104. Hey, what's going on? Well, each of the 'F' 'i' 's' 'h' letters has been) Tj
ET
BT
42.52 174.923 Td
(encoded in the array with a number \(its ASCII code\), 70 for 'F', 105 for 'i', 115 for) Tj
ET
BT
42.52 162.167 Td
('s' and 104 for 'h', and that's what the print statement has poured onto the screen,) Tj
ET
BT
42.52 149.411 Td
(all glued together \(print won't use spaces unless we tell it to.\) ) Tj
ET
BT
42.52 123.899 Td
(How do we effectively print the actual characters? We must politely indicate to the) Tj
ET
BT
42.52 111.144 Td
(print statement that the item to output is a character \(print is unaware of this,) Tj
ET
BT
42.52 98.388 Td
(since we could have stored numbers in the array -- unless we state our wishes) Tj
ET
BT
42.52 85.632 Td
(otherwise, print will always assume that we want to display a number.\) ) Tj
ET
endstream
endobj
>>
73 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 74 0 R
>>
endobj
74 0 obj
<</Length 2237>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(28) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(The correct loop would be: ) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( for \(i=0 : i<4 : i++\) ) Tj
ET
BT
42.52 518.202 Td
(   print \(char\) four_bytes->i; ) Tj
ET
BT
/F6 9.87 Tf
42.52 486.567 Td
(And behold! We now succeed in getting Fish. ) Tj
ET
BT
42.52 461.055 Td
(This way to assign data items to the array is a bit tiresome. Fortunately, Inform) Tj
ET
BT
42.52 448.299 Td
(accepts a much more comfortable syntax to achieve the same result: ) Tj
ET
BT
/F8 6.053 Tf
42.52 404.419 Td
( Array four_bytes -> 'F' 'i' 's' 'h'; ) Tj
ET
BT
/F6 9.87 Tf
42.52 372.784 Td
(Note that in this case we omit the number 4. Inform will count how many letters you) Tj
ET
BT
42.52 360.028 Td
(wish to store in the array and will reserve the required space automatically. ) Tj
ET
BT
42.52 334.517 Td
(There's even a shorter syntax for this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 290.636 Td
( Array four_bytes -> "Fish"; ) Tj
ET
BT
/F6 9.87 Tf
42.52 259.002 Td
(So instead of specifying each letter separately surrounded by single quotation) Tj
ET
BT
42.52 246.246 Td
(marks, we put them all together between double quotation marks. Once again) Tj
ET
BT
42.52 233.49 Td
(Inform counts four letters and reserves the required space for them. ) Tj
ET
BT
42.52 207.978 Td
(In all of these examples, it has been the programmer's task to count how many) Tj
ET
BT
42.52 195.222 Td
(letters there are in order to code the printing loop -- you have to indicate in the) Tj
ET
BT
42.52 182.466 Td
(loop that the index goes from 0 to 3. This is tedious and error-prone \(go on: make a) Tj
ET
BT
42.52 169.71 Td
(byte array and a printing loop for "supercalifragilisticexpialidocious" if you don't) Tj
ET
BT
42.52 156.954 Td
(believe it\) and that's why string arrays exist. ) Tj
ET
BT
/F5 9.87 Tf
42.52 131.443 Td
(2.2 String arrays \(special byte arrays\)) Tj
ET
BT
/F6 9.87 Tf
42.52 105.931 Td
(If we put "string" \(with no quotes\) instead of the -> symbol, we create a byte array) Tj
ET
BT
42.52 93.175 Td
(with a special structure which happens to be quite useful. ) Tj
ET
endstream
endobj
>>
75 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 76 0 R
>>
endobj
76 0 obj
<</Length 2097>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(29) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 549.836 Td
( Array a_few_bytes string 4; ) Tj
ET
BT
/F6 9.87 Tf
42.52 518.202 Td
(This array declaration is just like the one we made before, but this time Inform) Tj
ET
BT
42.52 505.446 Td
(creates a memory area for *5* bytes \(even though we have asked for 4\). The extra) Tj
ET
BT
42.52 492.69 Td
(byte is used to store how many more bytes the array has. In our example, the extra) Tj
ET
BT
42.52 479.934 Td
(byte would hold the number 4 to indicate that the array has four free entries. ) Tj
ET
BT
/F5 9.87 Tf
42.52 454.422 Td
(Index   ) Tj
ET
BT
85.035 454.422 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 440.667 Td
(0) Tj
ET
BT
85.035 440.667 Td
(4) Tj
ET
BT
42.52 427.001 Td
(1) Tj
ET
BT
85.035 427.001 Td
(0) Tj
ET
BT
42.52 413.335 Td
(2) Tj
ET
BT
85.035 413.335 Td
(0) Tj
ET
BT
42.52 399.67 Td
(3) Tj
ET
BT
85.035 399.67 Td
(0) Tj
ET
BT
42.52 386.004 Td
(4) Tj
ET
BT
85.035 386.004 Td
(0) Tj
ET
BT
42.52 346.826 Td
(This extra byte is always stored in the 0th entry of the index, and the) Tj
ET
BT
42.52 334.07 Td
(remaining bytes will go between 1 and 4. ***IT'S VERY IMPORTANT TO) Tj
ET
BT
42.52 321.314 Td
(REMEMBER THAT STRING ARRAYS NUMBER THEIR ENTRIES FROM 1*** --) Tj
ET
BT
42.52 308.558 Td
(unlike byte arrays, which started from 0. ) Tj
ET
BT
42.52 283.046 Td
(Thus, if we want to store the letters "Fish" as in the previous examples, the) Tj
ET
BT
42.52 270.29 Td
(tedious method of assignment would be: ) Tj
ET
BT
/F8 6.053 Tf
42.52 226.41 Td
( a_few_bytes->1 = 'F';) Tj
ET
BT
42.52 220.287 Td
( a_few_bytes->2 = 'i';) Tj
ET
BT
42.52 214.165 Td
( a_few_bytes->3 = 's';) Tj
ET
BT
42.52 208.042 Td
( a_few_bytes->4 = 'h'; ) Tj
ET
BT
/F6 9.87 Tf
42.52 176.407 Td
(which of course may be shorthanded with the known variations, letter by letter... ) Tj
ET
BT
/F8 6.053 Tf
42.52 132.527 Td
( Array a_few_bytes string 'F' 'i' 's' 'h'; ) Tj
ET
BT
/F6 9.87 Tf
42.52 100.892 Td
(...or "all together now": ) Tj
ET
endstream
endobj
>>
77 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 78 0 R
>>
endobj
78 0 obj
<</Length 2346>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(30) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F8 6.053 Tf
42.52 562.592 Td
( Array a_few_bytes string "Fish"; ) Tj
ET
BT
/F6 9.87 Tf
42.52 530.957 Td
(With either "shorthand" method, Inform discovers that there are four letters and) Tj
ET
BT
42.52 518.202 Td
(therefore stores number 4 in the 0th index entry of the array. This way the) Tj
ET
BT
42.52 505.446 Td
(programmer doesn't need to know how many letters form the chosen phrase,) Tj
ET
BT
42.52 492.69 Td
(because it can always be read from the 0th entry. The loop needed to print the) Tj
ET
BT
42.52 479.934 Td
(stored letters would be: ) Tj
ET
BT
/F8 6.053 Tf
42.52 436.054 Td
( for \(i=1 : i<=\(a_few_bytes->0\) : i++\) ) Tj
ET
BT
42.52 429.931 Td
(   print \(char\) a_few_bytes->i; ) Tj
ET
BT
/F6 9.87 Tf
42.52 398.296 Td
(Please notice that the variable i now begins with a 1 \(and not 0, like before\) and) Tj
ET
BT
42.52 385.54 Td
(goes on while its value is less or equal than a_few_bytes->0 \(the index entry that) Tj
ET
BT
42.52 372.784 Td
(holds the length of the string\). Number 4 has disappeared from the loop, which is) Tj
ET
BT
42.52 360.028 Td
(now generic and can print strings of any length. ) Tj
ET
BT
42.52 334.517 Td
(It's always a good idea to optimise code if you know how to. Suppose you have) Tj
ET
BT
42.52 321.761 Td
(several arrays and you wish to print their characters: you could copy and paste) Tj
ET
BT
42.52 309.005 Td
(the above loop and change the name of the array for each one of them, or you) Tj
ET
BT
42.52 296.249 Td
(could create a general-purpose printing routine: ) Tj
ET
BT
/F8 6.053 Tf
42.52 252.369 Td
( [char_array arr i; ) Tj
ET
BT
42.52 246.246 Td
(   for \(i=1 : i<=\(arr->0\) : i++\) ) Tj
ET
BT
42.52 240.123 Td
(      print \(char\) arr->i; ) Tj
ET
BT
42.52 234 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 202.365 Td
(We now have a routine named char_array that defines two variables, arr \(which will) Tj
ET
BT
42.52 189.609 Td
(be fed with the name of the current array\) and i. We could make a call to the) Tj
ET
BT
42.52 176.854 Td
(routine from any point in our code, using either of these forms: ) Tj
ET
BT
/F8 6.053 Tf
42.52 132.973 Td
( char_array\(a_few_bytes\); ) Tj
ET
BT
/F6 9.87 Tf
42.52 101.339 Td
(or ) Tj
ET
endstream
endobj
>>
79 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 80 0 R
>>
endobj
80 0 obj
<</Length 2242>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(31) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 562.592 Td
( print \(char_array\) a_few_bytes; ) Tj
ET
BT
/F6 9.87 Tf
42.52 530.957 Td
(This way, the code necessary for printing characters stored in an array only) Tj
ET
BT
42.52 518.202 Td
(happens once in the whole program. ) Tj
ET
BT
/F5 9.87 Tf
42.52 492.69 Td
(2.3 Word arrays) Tj
ET
BT
/F6 9.87 Tf
42.52 467.178 Td
(Storing single characters has its uses, but the time comes when we wish to work) Tj
ET
BT
42.52 454.422 Td
(with numbers, pointers \(to functions, objects, messages\) or dictionary words...) Tj
ET
BT
42.52 441.666 Td
(which is all the same to Inform, since everything is encoded as 16-bit numbers) Tj
ET
BT
42.52 428.91 Td
(\(when compiling for the Z-machine\) or 32-bit numbers \(when compiling for Glulx\).) Tj
ET
BT
42.52 416.154 Td
(A byte array is not enough to handle these data types. What we need now is a) Tj
ET
BT
42.52 403.398 Td
(word array. ) Tj
ET
BT
42.52 377.887 Td
(Word arrays can be declared in the same manner as byte arrays, but we use the) Tj
ET
BT
42.52 365.131 Td
(--> notation instead of ->. ) Tj
ET
BT
/F8 6.053 Tf
42.52 321.25 Td
( Array four_words --> 4; ) Tj
ET
BT
/F6 9.87 Tf
42.52 289.616 Td
(which creates a word array with four entries: ) Tj
ET
BT
/F5 9.87 Tf
42.52 264.104 Td
(Index   ) Tj
ET
BT
85.035 264.104 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 250.349 Td
(0) Tj
ET
BT
85.035 250.349 Td
(0) Tj
ET
BT
42.52 236.683 Td
(1) Tj
ET
BT
85.035 236.683 Td
(0) Tj
ET
BT
42.52 223.017 Td
(2) Tj
ET
BT
85.035 223.017 Td
(0) Tj
ET
BT
42.52 209.351 Td
(3) Tj
ET
BT
85.035 209.351 Td
(0) Tj
ET
BT
42.52 170.174 Td
(Now Inform, when compiling for the Z-machine, reserves an 8-byte memory chunk) Tj
ET
BT
42.52 157.418 Td
(\(because we want four elements, and each one of them requires two bytes\).If, on) Tj
ET
BT
42.52 144.662 Td
(the other hand, you compile for Glulx, the memory area needed will be 16 bytes) Tj
ET
BT
42.52 131.906 Td
(\(four bytes per entry\). ) Tj
ET
BT
42.52 106.394 Td
(To assign data items to the array entries, we do as before. First, the verbose) Tj
ET
BT
42.52 93.638 Td
(method: ) Tj
ET
endstream
endobj
>>
81 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 82 0 R
>>
endobj
82 0 obj
<</Length 1996>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(32) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F8 6.053 Tf
42.52 549.836 Td
( four_words-->0 = 25;) Tj
ET
BT
42.52 543.713 Td
( four_words-->1 = 130;) Tj
ET
BT
42.52 537.591 Td
( four_words-->2 = 240;) Tj
ET
BT
42.52 531.468 Td
( four_words-->3 = 1000; ) Tj
ET
BT
/F6 9.87 Tf
42.52 499.833 Td
(You see that we now use --> instead of ->, because we are assigning words) Tj
ET
BT
42.52 487.077 Td
(instead of bytes. We discover that we have no problem this time to store number) Tj
ET
BT
42.52 474.321 Td
(1000, because it fits nicely in a word. ) Tj
ET
BT
42.52 448.809 Td
(We can define the array in one line, by using the following syntax: ) Tj
ET
BT
/F8 6.053 Tf
42.52 404.929 Td
( Array four_words --> 25 130 240 1000; ) Tj
ET
BT
/F6 9.87 Tf
42.52 373.294 Td
(Either way, we set up the array: ) Tj
ET
BT
/F5 9.87 Tf
42.52 347.783 Td
(Index   ) Tj
ET
BT
85.035 347.783 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 334.028 Td
(0) Tj
ET
BT
85.035 334.028 Td
(25) Tj
ET
BT
42.52 320.362 Td
(1) Tj
ET
BT
85.035 320.362 Td
(130) Tj
ET
BT
42.52 306.696 Td
(2) Tj
ET
BT
85.035 306.696 Td
(240) Tj
ET
BT
42.52 293.03 Td
(3) Tj
ET
BT
85.035 293.03 Td
(1000) Tj
ET
BT
42.52 253.852 Td
(We could display the contents of the array with a loop: ) Tj
ET
BT
/F8 6.053 Tf
42.52 209.972 Td
( for \(i=0 : i<4 : i++\) ) Tj
ET
BT
42.52 203.849 Td
(   print four_words-->i, " "; ) Tj
ET
BT
/F6 9.87 Tf
42.52 172.215 Td
(And we'd get 25 130 240 1000. ) Tj
ET
BT
42.52 146.703 Td
(As was previously the case with byte arrays, here the programmer must remember) Tj
ET
BT
42.52 133.947 Td
(that the array holds four entries, in order to specify which is the maximum possible) Tj
ET
BT
42.52 121.191 Td
(value of i in the above loop. This is a nuisance, so Inform provides a special word) Tj
ET
BT
42.52 108.435 Td
(array \(just as string arrays are related to byte arrays\) which is called a "table": ) Tj
ET
endstream
endobj
>>
83 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 84 0 R
>>
endobj
84 0 obj
<</Length 2144>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(33) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(2.4 Tables \(special word arrays\)) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(When we declare the word array, we can use "table" \(no quotes\) in place of the -->) Tj
ET
BT
42.52 542.693 Td
(symbol. This generates a word array with a little extra structure which \(again\) turns) Tj
ET
BT
42.52 529.937 Td
(out to be quite useful. ) Tj
ET
BT
/F8 6.053 Tf
42.52 486.057 Td
( Array a_few_words table 4; ) Tj
ET
BT
/F6 9.87 Tf
42.52 454.422 Td
(In this case \(analogous to the string array\), Inform reserves an extra entry in the) Tj
ET
BT
42.52 441.666 Td
(array \(so that this array now needs 10 bytes = \(4+1\)*2 for the Z-machine or 20) Tj
ET
BT
42.52 428.91 Td
(bytes = \(4+1\)*4 for Glulx\) which holds the number of entries minus itself -- so in) Tj
ET
BT
42.52 416.154 Td
(the example, a_few_words-->0 would hold number 4\). ) Tj
ET
BT
/F5 9.87 Tf
42.52 390.643 Td
(Index   ) Tj
ET
BT
85.035 390.643 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 376.888 Td
(0) Tj
ET
BT
85.035 376.888 Td
(4) Tj
ET
BT
42.52 363.222 Td
(1) Tj
ET
BT
85.035 363.222 Td
(0) Tj
ET
BT
42.52 349.556 Td
(2) Tj
ET
BT
85.035 349.556 Td
(0) Tj
ET
BT
42.52 335.89 Td
(3) Tj
ET
BT
85.035 335.89 Td
(0) Tj
ET
BT
42.52 322.224 Td
(4) Tj
ET
BT
85.035 322.224 Td
(0) Tj
ET
BT
42.52 283.046 Td
(***IT'S IMPORTANT TO REMEMBER THAT TABLES BEGIN TO NUMBER) Tj
ET
BT
42.52 270.29 Td
(ENTRIES FROM 1*** because the 0th entry is reserved to hold the length of the) Tj
ET
BT
42.52 257.535 Td
(array. ) Tj
ET
BT
42.52 232.023 Td
(Example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 188.142 Td
( Array a_few_words table 25 130 240 1000; ) Tj
ET
BT
/F6 9.87 Tf
42.52 156.508 Td
(This too would create an array with five entries. ) Tj
ET
BT
/F5 9.87 Tf
42.52 130.996 Td
(Index   ) Tj
ET
BT
85.035 130.996 Td
(Item) Tj
ET
BT
/F6 9.87 Tf
42.52 117.241 Td
(0) Tj
ET
BT
85.035 117.241 Td
(4) Tj
ET
BT
42.52 103.575 Td
(1) Tj
ET
BT
85.035 103.575 Td
(25) Tj
ET
BT
42.52 89.909 Td
(2) Tj
ET
BT
85.035 89.909 Td
(130) Tj
ET
endstream
endobj
>>
85 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 86 0 R
>>
endobj
86 0 obj
<</Length 2529>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(34) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(3) Tj
ET
BT
85.035 580.961 Td
(240) Tj
ET
BT
42.52 567.295 Td
(4) Tj
ET
BT
85.035 567.295 Td
(1000) Tj
ET
BT
42.52 528.117 Td
(Now let's display the contents of the table. We need another loop: ) Tj
ET
BT
/F8 6.053 Tf
42.52 484.237 Td
( for \(i=0 : i<=\(a_few_words-->0\) : i++\) ) Tj
ET
BT
42.52 478.114 Td
(   print a_few_words-->i, " ";) Tj
ET
BT
/F5 9.87 Tf
42.52 446.479 Td
(3. Summary) Tj
ET
BT
/F6 9.87 Tf
42.52 420.967 Td
(The following table summarizes the different kinds of arrays, how to access their) Tj
ET
BT
42.52 408.211 Td
(entries and the allowed range for their entries. If the programmer ignores this range) Tj
ET
BT
42.52 395.456 Td
(and breaks the bounds of the array \(by calling a->5 in a byte array with four entries,) Tj
ET
BT
42.52 382.7 Td
(for instance\) the compiler will remain silent, but at run-time we'll get a glorious) Tj
ET
BT
42.52 369.944 Td
(crash. ) Tj
ET
BT
/F5 9.87 Tf
42.52 344.432 Td
(Declaration) Tj
ET
BT
128.364 344.432 Td
(Size of each entry) Tj
ET
BT
220.792 344.432 Td
(Access to entries) Tj
ET
BT
311.029 344.432 Td
(Entries range) Tj
ET
BT
/F6 9.87 Tf
42.52 330.677 Td
(Array abc -> 4) Tj
ET
BT
128.364 330.677 Td
(byte) Tj
ET
BT
220.792 330.677 Td
(abc->i) Tj
ET
BT
311.029 330.677 Td
(0 ... 3) Tj
ET
BT
42.52 317.011 Td
(Array abc string 4) Tj
ET
BT
128.364 317.011 Td
(byte) Tj
ET
BT
220.792 317.011 Td
(abc->i) Tj
ET
BT
311.029 317.011 Td
(0 ... abc->0) Tj
ET
BT
42.52 303.345 Td
(Array abc --> 4) Tj
ET
BT
128.364 303.345 Td
(word) Tj
ET
BT
220.792 303.345 Td
(abc-->i) Tj
ET
BT
311.029 303.345 Td
(0 ... 3) Tj
ET
BT
42.52 289.679 Td
(Array abc table 4) Tj
ET
BT
128.364 289.679 Td
(word) Tj
ET
BT
220.792 289.679 Td
(abc-->i) Tj
ET
BT
311.029 289.679 Td
(0 ... abc-->0) Tj
ET
BT
/F5 9.87 Tf
42.52 250.502 Td
(4. Basic concepts with a twist) Tj
ET
BT
42.52 224.99 Td
(4.1 String arrays are NOT strings) Tj
ET
BT
/F6 9.87 Tf
42.52 199.478 Td
(This is yet another one of those things that leads programmers into confusion. ) Tj
ET
BT
42.52 173.966 Td
(A string array is a sequence of single characters stored in memory one by one) Tj
ET
BT
42.52 161.21 Td
(\(each character takes one byte\). You can access any single character through its) Tj
ET
BT
42.52 148.454 Td
(entry number. For instance: ) Tj
ET
BT
/F8 6.053 Tf
42.52 104.574 Td
( Array abc string "I like fish"; ) Tj
ET
endstream
endobj
>>
87 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 88 0 R
>>
endobj
88 0 obj
<</Length 3443>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(35) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(If we take a look at the value stored in abc->4, we'll get the fourth letter from the) Tj
ET
BT
42.52 568.205 Td
(text, in this case 'i' \(well, we'd get its ASCII code, which is 105\). In order to know) Tj
ET
BT
42.52 555.449 Td
(the length of the text, all we have to do is check abc->0. ) Tj
ET
BT
42.52 529.937 Td
(No surprises so far. Everything behaves as it has been explained. C programmers) Tj
ET
BT
42.52 517.181 Td
(nod happily in understanding. ) Tj
ET
BT
42.52 491.669 Td
(However, storing text through the use of arrays has a couple of snags: ) Tj
ET
BT
/F8 6.053 Tf
70.866 485.546 Td
(1\) They consume quite a lot of memory. A 1000 character text would take 1000 bytes.) Tj
ET
BT
70.866 479.424 Td
(Since text adventures are basically made of text, it would be desirable to store) Tj
ET
BT
70.866 473.301 Td
(text more sparingly.) Tj
ET
BT
70.866 454.932 Td
(2\) Texts stored in arrays are visible in the compiled game file. If anyone cares to) Tj
ET
BT
70.866 448.809 Td
(take a look at the .z5 file \(with any editor, even the ancient TYPE from DOS\), "I) Tj
ET
BT
70.866 442.687 Td
(like fish" will stand out among the incomprehensible encrypted characters. An) Tj
ET
BT
70.866 436.564 Td
(impatient player could find hints and messages from the story file. If you do not) Tj
ET
BT
70.866 430.441 Td
(wish that to happen, we need a way to encrypt all texts so that unwanted peeking at) Tj
ET
BT
70.866 424.318 Td
(the story file reveals nothing.) Tj
ET
BT
/F6 9.87 Tf
42.52 405.439 Td
(That's why Inform encodes most of the texts in a way that compresses their size,) Tj
ET
BT
42.52 392.683 Td
(with a rough 2/3 ratio, and makes them gibberish without the appropriate) Tj
ET
BT
42.52 379.928 Td
(Z-machine interpreter. ) Tj
ET
BT
42.52 354.416 Td
(This way of storing text is what Inform calls "strings", which is, perhaps) Tj
ET
BT
42.52 341.66 Td
(unfortunately, the same word used for "string" arrays, even if the meaning is quite) Tj
ET
BT
42.52 328.904 Td
(different. In this article, we shall call them "encrypted" strings as opposed to) Tj
ET
BT
42.52 316.148 Td
("conventional" strings \(which will stand for string arrays\). ) Tj
ET
BT
42.52 290.636 Td
(Any text in double quotes, "this one, for instance", is encoded by Inform as an) Tj
ET
BT
42.52 277.88 Td
(encrypted string, unless it's part of a string array declaration, in which case it) Tj
ET
BT
42.52 265.124 Td
(will be encoded as a conventional string. Example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 221.244 Td
( Array abc string "I like fish"; ) Tj
ET
BT
42.52 208.998 Td
( Global pqr = "But I don't like fishing.";) Tj
ET
BT
42.52 196.753 Td
( Object river "gurgling river") Tj
ET
BT
42.52 190.63 Td
(   with description "It's full of fish.";) Tj
ET
BT
/F6 9.87 Tf
42.52 158.995 Td
(In the first case, the string "I like fish" is encoded as a conventional string,) Tj
ET
BT
42.52 146.239 Td
(letter by letter, with no compression or encryption. Each character may be read) Tj
ET
BT
42.52 133.483 Td
(through its entries: abc->1, abc->2, etc. ) Tj
ET
BT
42.52 107.972 Td
(In the other two examples, text is encoded as encrypted strings. They take up less) Tj
ET
BT
42.52 95.216 Td
(memory and are unreadable by curious eyes. On the other hand, it is impossible to) Tj
ET
endstream
endobj
>>
89 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 90 0 R
>>
endobj
90 0 obj
<</Length 2165>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(36) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(read each character separately or to know the length of the encrypted strings,) Tj
ET
BT
42.52 568.205 Td
(because they are not arrays. Once the compiler has encrypted them, their values) Tj
ET
BT
42.52 555.449 Td
(get stored in the variable pqr as 16-bit numbers \(with no apparent meaning\). ) Tj
ET
BT
42.52 529.937 Td
(If we try to ) Tj
ET
BT
/F8 6.053 Tf
42.52 486.057 Td
( print pqr; ) Tj
ET
BT
/F6 9.87 Tf
42.52 454.422 Td
(we'd get that meaningless number. If we want to "decipher" the encrypted string) Tj
ET
BT
42.52 441.666 Td
(and discover the text, we have to use a slightly different syntax: ) Tj
ET
BT
/F8 6.053 Tf
42.52 397.786 Td
( print \(string\) pqr; ) Tj
ET
BT
/F6 9.87 Tf
42.52 366.151 Td
(Now we get "But I don't like fishing." on the screen. This syntax, however, will not) Tj
ET
BT
42.52 353.395 Td
(work for abc, because abc is not an encrypted string. If, nevertheless, we try: ) Tj
ET
BT
/F8 6.053 Tf
42.52 309.515 Td
( print \(string\) abc; ) Tj
ET
BT
/F6 9.87 Tf
42.52 277.88 Td
(the result will be unpredictable, because print \(innocently unaware of our) Tj
ET
BT
42.52 265.124 Td
(mischievous intent\) will try to decipher the contents of abc as it were an encrypted) Tj
ET
BT
42.52 252.369 Td
(string. The way to get at abc has already been shown; it requires a loop: ) Tj
ET
BT
/F8 6.053 Tf
42.52 208.488 Td
( for \(i=1 : i<=\(abc->0\) : i++\)) Tj
ET
BT
42.52 202.365 Td
(   print abc->i;) Tj
ET
BT
/F6 9.87 Tf
42.52 170.731 Td
(Object names and descriptions are encrypted strings too, but it's the library that) Tj
ET
BT
42.52 157.975 Td
(takes care of printing them when necessary -- using print\(string\), naturally. ) Tj
ET
BT
/F5 9.87 Tf
42.52 132.463 Td
(4.2 Dictionary words are NOT strings) Tj
ET
BT
/F6 9.87 Tf
42.52 106.951 Td
(Inform builds up a dictionary with the words that the game will "understand" when) Tj
ET
BT
42.52 94.195 Td
(the player types them. For instance, the words given in the <name> property of an) Tj
ET
endstream
endobj
>>
91 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 92 0 R
>>
endobj
92 0 obj
<</Length 2481>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(37) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(object or the defined verbs. The dictionary will gather all the words surrounded by) Tj
ET
BT
42.52 568.205 Td
(single quotation marks that we write in our game. For instance: ) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( Object piranha "piranha" ) Tj
ET
BT
42.52 518.202 Td
(   with name 'piranha',) Tj
ET
BT
42.52 512.079 Td
(   ...) Tj
ET
BT
/F6 9.87 Tf
42.52 480.444 Td
(Why do we repeat piranha so much? The first piranha -- with no quotes -- is the) Tj
ET
BT
42.52 467.688 Td
(inner name of the object. It will only be seen and used by the programmer when) Tj
ET
BT
42.52 454.932 Td
(he/she wants to refer to the piranha object. The second "piranha" -- in double) Tj
ET
BT
42.52 442.176 Td
(quotes -- is the word that the player will see when the game needs to mention the) Tj
ET
BT
42.52 429.42 Td
(piranha object \(say, in an inventory\). It's an encrypted string. The third 'piranha' --) Tj
ET
BT
42.52 416.665 Td
(in single quotes -- is the word that the player will be able to type when he/she) Tj
ET
BT
42.52 403.909 Td
(wishes to interact with the piranha. This will go in the game dictionary. ) Tj
ET
BT
42.52 378.397 Td
(***CAUTION: Inform allows you to put double quotes around the third piranha and) Tj
ET
BT
42.52 365.641 Td
(it will still be understood as a dictionary word. This only happens in the) Tj
ET
BT
42.52 352.885 Td
(<name> property of an object and in the <verb> directive -- otherwise,) Tj
ET
BT
42.52 340.129 Td
(anything you write for properties between double quotes will be understood as) Tj
ET
BT
42.52 327.373 Td
(an encrypted string. DO NOT USE THIS UGLY AND CONFUSING PRACTICE.) Tj
ET
BT
42.52 314.617 Td
(The clearer the syntax, the clearer the concepts.*** ) Tj
ET
BT
42.52 289.106 Td
(A dictionary word may be stored in any global variable, like this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 245.225 Td
( Global xyz = 'shark'; ) Tj
ET
BT
/F6 9.87 Tf
42.52 213.591 Td
(In this case, 'shark' is neither a conventional string nor an encrypted string. Inform) Tj
ET
BT
42.52 200.835 Td
(transforms it into a number \(which is the place the word holds in the dictionary\). If) Tj
ET
BT
42.52 188.079 Td
(we try to: ) Tj
ET
BT
/F8 6.053 Tf
42.52 144.198 Td
( print xyz; ) Tj
ET
BT
/F6 9.87 Tf
42.52 112.564 Td
(we'd just get a meaningless number. If we try: ) Tj
ET
endstream
endobj
>>
93 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 94 0 R
>>
endobj
94 0 obj
<</Length 2723>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(38) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F8 6.053 Tf
42.52 568.715 Td
( print \(string\) xyz; ) Tj
ET
BT
/F6 9.87 Tf
42.52 537.08 Td
(the result will be chaos, because print will try to decipher the dictionary number) Tj
ET
BT
42.52 524.324 Td
(like it were an encrypted string \(which it isn't\). We can't read the individual) Tj
ET
BT
42.52 511.569 Td
(characters in 'shark' because it's not a byte array. The only way you could) Tj
ET
BT
42.52 498.813 Td
(eventually output the word 'shark' would be through: ) Tj
ET
BT
/F8 6.053 Tf
42.52 454.932 Td
( print \(address\) xyz; ) Tj
ET
BT
/F6 9.87 Tf
42.52 423.298 Td
(The \(address\) modifier tells print to display the dictionary word whose number we) Tj
ET
BT
42.52 410.542 Td
(are providing. ) Tj
ET
BT
/F5 9.87 Tf
42.52 385.03 Td
(4.3 Arrays as object properties) Tj
ET
BT
/F6 9.87 Tf
42.52 359.518 Td
(Most objects have a property which is, in fact, an array -- the "name" property. This) Tj
ET
BT
42.52 346.762 Td
(is an array whose entries will be the dictionary words that the player may use when) Tj
ET
BT
42.52 334.006 Td
(interacting with the object. Consult the end of section 3.5 in the Designer's Manual.) Tj
ET
BT
42.52 321.25 Td
(Another example of an array used as a property is found_in, which lists all the) Tj
ET
BT
42.52 308.494 Td
(locations you want a certain object to be in \(useful for coding general scenery) Tj
ET
BT
42.52 295.739 Td
(fixtures like bushes, carpeting, or even the sun -- if it's visible from various places\). ) Tj
ET
BT
42.52 270.227 Td
(When arrays are used as properties and not as global variables \(which was the) Tj
ET
BT
42.52 257.471 Td
(case of everything explained in 2\), the syntax is different, because you don't need) Tj
ET
BT
42.52 244.715 Td
(neither the directive Array, nor any of the -> or --> symbols, nor the modifiers) Tj
ET
BT
42.52 231.959 Td
("string" or "table". For instance: ) Tj
ET
BT
/F8 6.053 Tf
42.52 188.079 Td
( Object strange_thing ) Tj
ET
BT
42.52 181.956 Td
(   with a_few_words 25 130 240 1000;) Tj
ET
BT
/F6 9.87 Tf
42.52 150.321 Td
(We declare an object called strange_thing. This is not your usual text adventure) Tj
ET
BT
42.52 137.565 Td
(object, because it lacks name and description, but from a programming point of) Tj
ET
BT
42.52 124.809 Td
(view, it's a perfectly valid object \(Inform will compile it without a whimper\). ) Tj
ET
BT
42.52 99.298 Td
(This object has just one property called a_few_words \(it's perfectly legal to create) Tj
ET
BT
42.52 86.542 Td
(our own properties, as explained in section 3.5 of the DM\). It could store a number) Tj
ET
endstream
endobj
>>
95 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 96 0 R
>>
endobj
96 0 obj
<</Length 2805>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(39) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(or a collection of them. The difference resides in what we write after the property) Tj
ET
BT
42.52 568.205 Td
(name. ) Tj
ET
BT
42.52 542.693 Td
(In the above example we write four numbers \(separated just by spaces... no) Tj
ET
BT
42.52 529.937 Td
(commas, semicolons or any other punctuation\), so Inform will understand that) Tj
ET
BT
42.52 517.181 Td
(a_few_words is in fact a collection of four items, with values 25 130 240 1000.) Tj
ET
BT
42.52 504.425 Td
(These collections will always become word arrays \(it is actually impossible to make) Tj
ET
BT
42.52 491.669 Td
(a byte array out of a property\), but this is hardly a limitation, since almost always) Tj
ET
BT
42.52 478.913 Td
(we'll want the property to hold 16/32-bit items. The question now is: how do we) Tj
ET
BT
42.52 466.157 Td
(read the entries of these arrays? ) Tj
ET
BT
42.52 440.646 Td
(Let's try an apparently reasonable statement: ) Tj
ET
BT
/F8 6.053 Tf
42.52 396.765 Td
( print strange_thing.a_few_words; ) Tj
ET
BT
/F6 9.87 Tf
42.52 365.131 Td
(This will print just the first entry of the property \(in the example, number 25\).) Tj
ET
BT
42.52 352.375 Td
(This would be all right if the property held just one value, but since we have) Tj
ET
BT
42.52 339.619 Td
(more, we might need to know: how many are there? and: how do we access each) Tj
ET
BT
42.52 326.863 Td
(one of them? ) Tj
ET
BT
42.52 301.351 Td
(The answer is simple, but the syntax is a bit ugly. The value: ) Tj
ET
BT
/F8 6.053 Tf
42.52 257.471 Td
( strange_thing.#a_few_words ) Tj
ET
BT
/F6 9.87 Tf
42.52 225.836 Td
(tells us how many bytes are there in the property \(its "length"\). We now reach the) Tj
ET
BT
42.52 213.08 Td
(place where all the previous ramblings about Z-machine's two-byte word size and) Tj
ET
BT
42.52 200.324 Td
(Glulx's four-byte word size become important. ) Tj
ET
BT
42.52 174.813 Td
(Since the information we get from the value is the total number of bytes taken by) Tj
ET
BT
42.52 162.057 Td
(the whole property, in order to discover how many entries we've got, we need to) Tj
ET
BT
42.52 149.301 Td
(divide this global quantity by the number of bytes that store a single entry. ) Tj
ET
BT
42.52 123.789 Td
(Remember that in the Z-machine, each entry from a word array was stored in two) Tj
ET
BT
42.52 111.033 Td
(bytes, while in Glulx it took up to four bytes. So it seems that, depending on the VM) Tj
ET
BT
42.52 98.277 Td
(you are planning to use, you should divide either by 2 or by 4 \(this is true, and if) Tj
ET
BT
42.52 85.521 Td
(you divide wrongly you'll get in trouble\). Fortunately, there is a way around this, as) Tj
ET
endstream
endobj
>>
97 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 98 0 R
>>
endobj
98 0 obj
<</Length 1845>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(40) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(we shall soon see. ) Tj
ET
BT
42.52 555.449 Td
(Now, the value: ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( strange_thing.&a_few_words ) Tj
ET
BT
/F6 9.87 Tf
42.52 479.934 Td
(is a word array which collects the numbers 25 130 240 1000 \(remember that the) Tj
ET
BT
42.52 467.178 Td
(entry numbers begin with 0\). ) Tj
ET
BT
42.52 441.666 Td
(Suppose we want to print these numbers on the screen. On the days when we only) Tj
ET
BT
42.52 428.91 Td
(had Z-machine, we needed to code a loop thus: ) Tj
ET
BT
/F8 6.053 Tf
42.52 385.03 Td
( for \(i=0 : i<\(strange_thing.#a_few_words/2\) : i++\) ) Tj
ET
BT
42.52 378.907 Td
(   print strange_thing.&a_few_words-->i, " "; ) Tj
ET
BT
/F6 9.87 Tf
42.52 347.272 Td
(For Glulx, you should change ) Tj
ET
BT
/F8 6.053 Tf
42.52 303.392 Td
( i<\(strange_thing.#a_few_words/2\) ) Tj
ET
BT
/F6 9.87 Tf
42.52 271.757 Td
(for ) Tj
ET
BT
/F8 6.053 Tf
42.52 227.877 Td
( i<\(strange_thing.#a_few_words/4\) ) Tj
ET
BT
/F6 9.87 Tf
42.52 196.243 Td
(But what if you don't know what platform you'll be using? Well, you can use) Tj
ET
BT
42.52 183.487 Td
(cautious code for the undecided. There is a bi-platform library and a bi-platform) Tj
ET
BT
42.52 170.731 Td
(compiler for Inform so that you may compile your source code for either VM -- and) Tj
ET
BT
42.52 157.975 Td
(that's what you'll be using if you want to compile for Glulx. This compiler) Tj
ET
BT
42.52 145.219 Td
(predefines a needful constant named WORDSIZE: if you choose to compile for the) Tj
ET
BT
42.52 132.463 Td
(Z-machine, its value is set to 2, but if you compile for Glulx it will be set to 4. You) Tj
ET
BT
42.52 119.707 Td
(may then code: ) Tj
ET
endstream
endobj
>>
99 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 100 0 R
>>
endobj
100 0 obj
<</Length 2569>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(41) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 574.838 Td
( i<\(strange_thing.#a_few_words/WORDSIZE\) ) Tj
ET
BT
/F6 9.87 Tf
42.52 543.203 Td
(and now the problem is almost out of the way. ) Tj
ET
BT
42.52 517.691 Td
(Then again, you may not be sure yet if you'll want your game compiled with) Tj
ET
BT
42.52 504.935 Td
(Inform's Z-machine compiler \(the original stuff written by Graham Nelson, which) Tj
ET
BT
42.52 492.18 Td
(is widely used and much beloved\). The current version of Graham's compiler \(6.21\)) Tj
ET
BT
42.52 479.424 Td
(does not define WORDSIZE, so you need to add the following lines at the top of) Tj
ET
BT
42.52 466.668 Td
(your code, before any "Includes": ) Tj
ET
BT
/F8 6.053 Tf
42.52 422.787 Td
( #ifndef WORDSIZE; ) Tj
ET
BT
42.52 416.665 Td
( Constant TARGET_ZCODE; ) Tj
ET
BT
42.52 410.542 Td
( Constant WORDSIZE 2; ) Tj
ET
BT
42.52 404.419 Td
( #endif; ) Tj
ET
BT
/F6 9.87 Tf
42.52 372.784 Td
(TARGET_ZCODE is another constant predefined in the bi-platform compiler \(if you) Tj
ET
BT
42.52 360.028 Td
(are beginning to feel fascinated by these concepts, feel free to consult Zarf's) Tj
ET
BT
42.52 347.272 Td
("The Game Author's Guide to Glulx Inform", ) Tj
ET
BT
42.52 334.517 Td
(http://www.eblong.com/zarf/glulx/inform-guide.txt) Tj
ET
BT
255.345 334.517 Td
(\). The only snag is that we get a) Tj
ET
BT
42.52 321.761 Td
(compiler warning, since we define a constant -- TARGET_ZCODE -- that is not) Tj
ET
BT
42.52 309.005 Td
(used. You can avoid it \(logically\) by forcing a harmless use of the constant. If you) Tj
ET
BT
42.52 296.249 Td
(write: ) Tj
ET
BT
/F8 6.053 Tf
42.52 252.369 Td
( #ifndef WORDSIZE;) Tj
ET
BT
42.52 246.246 Td
( Constant TARGET_ZCODE 0; ) Tj
ET
BT
42.52 240.123 Td
( Constant WORDSIZE 2 + TARGET_ZCODE; ) Tj
ET
BT
42.52 234 Td
( #endif;) Tj
ET
BT
/F6 9.87 Tf
42.52 202.365 Td
(you make TARGET_ZCODE equal to zero and add it to WORDSIZE. The constant) Tj
ET
BT
42.52 189.609 Td
(is in use \(although altering nothing\) so the compiler is happy. And, much more) Tj
ET
BT
42.52 176.854 Td
(importantly, our code will be ready to accept either set of Inform libraries or) Tj
ET
BT
42.52 164.098 Td
(compilers. ) Tj
ET
BT
42.52 138.586 Td
(Back to properties. If the property were to hold encrypted strings or dictionary) Tj
ET
BT
42.52 125.83 Td
(words, we would still need the appropriate modifiers \(string\) or \(address\). For) Tj
ET
BT
42.52 113.074 Td
(instance: ) Tj
ET
endstream
endobj
>>
101 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 102 0 R
>>
endobj
102 0 obj
<</Length 2156>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Arrays, strings and other Inform goodies) Tj
ET
BT
42.52 42.52 Td
(42) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F8 6.053 Tf
42.52 568.715 Td
( Object stone "stone") Tj
ET
BT
42.52 562.592 Td
(   with name 'pebble' 'stone' 'rock', ) Tj
ET
BT
42.52 556.469 Td
(      description "It's an ordinary stone.";) Tj
ET
BT
/F6 9.87 Tf
42.52 524.835 Td
(If we wish to list on the screen the stock of dictionary words that the player can) Tj
ET
BT
42.52 512.079 Td
(use to refer to the stone, we would code: ) Tj
ET
BT
/F8 6.053 Tf
42.52 468.198 Td
( for \(i=0 : i<\(stone.#name/WORDSIZE\) : i++\) ) Tj
ET
BT
42.52 462.076 Td
(   print \(address\) stone.&name-->i, " "; ) Tj
ET
BT
/F6 9.87 Tf
42.52 430.441 Td
(If we only want to show the first of these words, we just need: ) Tj
ET
BT
/F8 6.053 Tf
42.52 386.561 Td
( print \(address\) stone.name; ) Tj
ET
BT
/F6 9.87 Tf
42.52 354.926 Td
(And to show the description: ) Tj
ET
BT
/F8 6.053 Tf
42.52 311.046 Td
( print \(string\) stone.description; ) Tj
ET
BT
/F6 9.87 Tf
42.52 279.411 Td
(This is because there's only one element in the description property. There could) Tj
ET
BT
42.52 266.655 Td
(be more than one \(theoretically\), in which case we would proceed thus: ) Tj
ET
BT
/F8 6.053 Tf
42.52 222.775 Td
( for \(i=0 : i<\(stone.#description/WORDSIZE\) : i++\) ) Tj
ET
BT
42.52 216.652 Td
(   print \(string\) stone.&description-->i, " "; ) Tj
ET
BT
/F6 9.87 Tf
42.52 185.017 Td
(I can hear you thinking "Why on earth am I going to need to list the dictionary) Tj
ET
BT
42.52 172.261 Td
(words of an object or its highly improbable multiple descriptions?", and you are) Tj
ET
BT
42.52 159.506 Td
(right, you'll probably never need to do so. However, you may define sometime a) Tj
ET
BT
42.52 146.75 Td
(property which holds various values and, if you want to access them, this is how) Tj
ET
BT
42.52 133.994 Td
(it's done. Understanding how things work and the philosophy of the language will) Tj
ET
BT
42.52 121.238 Td
(bear fruit some day. ) Tj
ET
BT
42.52 95.726 Td
(That's it for now. Remember that a good practice is to borrow shamelessly other) Tj
ET
endstream
endobj
>>
103 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 104 0 R
>>
endobj
104 0 obj
<</Length 1146>>
stream
BT
0 g
/F4 9.87 Tf
246.778 623.48 Td
(Zak McKracken \(tr: Sonja Kesserich\)) Tj
ET
BT
396.505 42.52 Td
(43) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(people's code and to try to modify it, to see if things work as we expected. ) Tj
ET
BT
/F5 9.87 Tf
42.52 555.449 Td
(5. What do I do now?) Tj
ET
BT
/F6 9.87 Tf
42.52 529.937 Td
("That's a lot of handsome theory, but I didn't come here for a lecture. I want to) Tj
ET
BT
42.52 517.181 Td
(program my own games and I want to know the practical uses of arrays right now!" ) Tj
ET
BT
42.52 491.669 Td
(Well, there's a couple of places you might want to check. Firstly, go back to the) Tj
ET
BT
42.52 478.913 Td
(DM, make a search for "array" and start looking at the examples. There's quite a lot) Tj
ET
BT
42.52 466.157 Td
(of them and you should be able to tell by now how the array bits fit in the puzzle.) Tj
ET
BT
42.52 453.402 Td
(Also, Marnie Parker's Inform Primer \() Tj
ET
BT
204.545 453.402 Td
(http://members.aol.com/doepage/doefaq.htm) Tj
ET
BT
42.52 440.646 Td
(\) covers in section 8 a few interesting working examples of array usage. ) Tj
ET
endstream
endobj
>>
105 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 106 0 R
>>
endobj
106 0 obj
<</Length 3622>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Code Reuse: Developing a Personal Library) Tj
ET
BT
42.52 42.52 Td
(44) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Code Reuse: Building a Personal Code Library) Tj
ET
BT
42.52 555.449 Td
(Reusable code and reasons to implement a "personal code library") Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I337 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(eusable code is the bomb. Every programmer that has been) Tj
ET
BT
99.213 517.181 Td
(programming for any length of time has reusable code somewhere. In) Tj
ET
BT
99.213 504.425 Td
(a perfect world that code would be easily accessible and generic) Tj
ET
BT
99.213 491.669 Td
(enough to simply drop into an existing work in progress. Sadly, all) Tj
ET
BT
42.52 478.913 Td
(too often, developers find themselves sorting through previously written source) Tj
ET
BT
42.52 466.157 Td
(files to refer to some algorithm or implementation coded years ago but again) Tj
ET
BT
42.52 453.402 Td
(needed. Once found, "cut and paste" is usually followed by lengthy modifications) Tj
ET
BT
42.52 440.646 Td
(that are required to get the old code to work in the new program. ) Tj
ET
BT
42.52 415.134 Td
(At the most basic level, this "copy and modify" method still qualifies as reusing) Tj
ET
BT
42.52 402.378 Td
(code. Still, while virtually every developer at one time or another has used this) Tj
ET
BT
42.52 389.622 Td
(technique, it leaves something to be desired. ) Tj
ET
BT
42.52 364.11 Td
(A far better way of reusing code is to implement a personal code library. Done) Tj
ET
BT
42.52 351.354 Td
(correctly, it allows for several advantages over non-library techniques: ) Tj
ET
BT
/F8 6.053 Tf
42.52 339.109 Td
(     1\) Code naturally tends to be more organized and programs ) Tj
ET
BT
42.52 332.986 Td
(          become modular in nature.   ) Tj
ET
BT
42.52 326.863 Td
(     2\) Reusing existing code speeds up development.) Tj
ET
BT
42.52 320.74 Td
(     3\) Fewer bugs can be introduced if less coding is done so ) Tj
ET
BT
42.52 314.617 Td
(          new projects are naturally more stable.) Tj
ET
BT
42.52 308.494 Td
(     4\) When bug fixes are found and fixed in the library, they ) Tj
ET
BT
42.52 302.372 Td
(          are automatically fixed in all other works that share ) Tj
ET
BT
42.52 296.249 Td
(          the library.) Tj
ET
BT
42.52 290.126 Td
(     5\) Shared code gives a common feel across all of your works ) Tj
ET
BT
42.52 284.003 Td
(          giving them a sort of "signature.") Tj
ET
BT
/F6 9.87 Tf
42.52 259.002 Td
(It should be noted that there are several different ways of reusing code. The) Tj
ET
BT
42.52 246.246 Td
(techniques shown in this article have worked best for me, but the reader may) Tj
ET
BT
42.52 233.49 Td
(prefer different techniques. Keep an open mind, because my way is not the only) Tj
ET
BT
42.52 220.734 Td
(way. ) Tj
ET
BT
/F5 9.87 Tf
42.52 195.222 Td
(Three steps to a personal code library) Tj
ET
BT
/F6 9.87 Tf
42.52 169.71 Td
(By just a few simple steps, a developer can build a library of customized code that) Tj
ET
BT
42.52 156.954 Td
(can be drawn upon with a few simple keystrokes. The first step, we've already) Tj
ET
BT
42.52 144.198 Td
(touched upon.... ) Tj
ET
BT
/F5 9.87 Tf
42.52 118.687 Td
(Step one, template code, ) Tj
ET
BT
/F6 9.87 Tf
161.541 118.687 Td
(is really the basis for any serious library. The) Tj
ET
BT
42.52 105.931 Td
(practice of making code templates consists simply of identifying code that you use) Tj
ET
BT
42.52 93.175 Td
(more than once \(or are likely to use again\) and saving it in a special file so that) Tj
ET
endstream
endobj
>>
107 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 108 0 R
>>
endobj
108 0 obj
<</Length 3908>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(45) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(it can be found more easily. A blank game is a prime example of a code template) Tj
ET
BT
42.52 568.205 Td
(\(see ") Tj
ET
BT
67.964 568.205 Td
(A Starting Point.) Tj
ET
BT
139.285 568.205 Td
("\) ) Tj
ET
BT
42.52 542.693 Td
(Additionally, patches to the standard Inform Library, generic methods \(like the) Tj
ET
BT
42.52 529.937 Td
(Center routine\), and common classes from which specialized objects are inherited) Tj
ET
BT
42.52 517.181 Td
(are all good candidates for your library. Anytime a developer begins to search) Tj
ET
BT
42.52 504.425 Td
(through old code to copy into a new project, a flag should go up. This is an) Tj
ET
BT
42.52 491.669 Td
(indication that the code being tracked down is a good candidate for a template.) Tj
ET
BT
42.52 478.913 Td
(Once isolated, and the code is placed in its own file, it can be more easily found) Tj
ET
BT
42.52 466.157 Td
(and copied into a new project. Taking the time to identify what code is really) Tj
ET
BT
42.52 453.402 Td
(reusable is half the battle and will pay for itself in both organization and rapid) Tj
ET
BT
42.52 440.646 Td
(development. ) Tj
ET
BT
42.52 415.134 Td
(There are con's associated with using this approach alone, however. While cutting) Tj
ET
BT
42.52 402.378 Td
(and pasting organized template code into a new project may speed up) Tj
ET
BT
42.52 389.622 Td
(development, it lends itself to an unorganized project. This method alone has a) Tj
ET
BT
42.52 376.866 Td
(tendency to begat spaghetti-code and special care needs to be taken to organize) Tj
ET
BT
42.52 364.11 Td
(the destination source file. Additionally, when a bug has been identified in a) Tj
ET
BT
42.52 351.354 Td
(template, it must be fixed in all projects in which the template was pasted. Luckily,) Tj
ET
BT
42.52 338.598 Td
(Inform hosts a directive that minimizes our need to "cut and paste." ) Tj
ET
BT
/F5 9.87 Tf
42.52 313.087 Td
(Step two, the practice of including modules ) Tj
ET
BT
/F6 9.87 Tf
249.285 313.087 Td
(has several distinct advantages) Tj
ET
BT
42.52 300.331 Td
(that augment the power of template coding and address the irritations associated) Tj
ET
BT
42.52 287.575 Td
(with "cut and paste." The most notable advantage is shared code. Implemented via) Tj
ET
BT
42.52 274.819 Td
(Inform's #include directive, the same template can be referenced in multiple works.) Tj
ET
BT
42.52 262.063 Td
(Modifications to the shared file affect all referencing projects. A bug fixed in one,) Tj
ET
BT
42.52 249.307 Td
(is fixed in the others. This includes programs in which the bug has yet to be) Tj
ET
BT
42.52 236.551 Td
(identified. This leads to more stable and robust code throughout all of your works. ) Tj
ET
BT
42.52 211.039 Td
(Again, there are some annoyances with this technique. Because of the nature of) Tj
ET
BT
42.52 198.283 Td
(the Inform compiler and the standard library, most template code cannot simply be) Tj
ET
BT
42.52 185.528 Td
(added to a game file in one large block \(which is essentially all the #include) Tj
ET
BT
42.52 172.772 Td
(directive does.\) Hidden in the back of "The Inform Designer's Manual" Appendix 11,) Tj
ET
BT
42.52 160.016 Td
(are directions concerning what goes where in an Inform Program. From this, you) Tj
ET
BT
42.52 147.26 Td
(can derive four sections \(surrounding the standard library's #include's\) where) Tj
ET
BT
42.52 134.504 Td
(library code needs to be placed: ) Tj
ET
BT
/F8 6.053 Tf
42.52 109.502 Td
(     1\) The REPLACE section - appears prior to the inclusion of ) Tj
ET
BT
42.52 103.38 Td
(          Parser. REPLACE directives, used when modifying system ) Tj
ET
BT
42.52 97.257 Td
(          routines, go here.) Tj
ET
BT
42.52 91.134 Td
(     2\) The MESSAGE section - appears between the Parser and Verblib ) Tj
ET
endstream
endobj
>>
109 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 110 0 R
>>
endobj
110 0 obj
<</Length 3994>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Code Reuse: Developing a Personal Library) Tj
ET
BT
42.52 42.52 Td
(46) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
(          includes. Definitions of the LibraryMessages object, ) Tj
ET
BT
42.52 574.838 Td
(          SACK_OBJECT, and the task_scores array goes here.) Tj
ET
BT
42.52 568.715 Td
(     3\) The CODE section - appears between the Verblib and Grammar ) Tj
ET
BT
42.52 562.592 Td
(          includes.  Attribute, Property, Classes, and Object ) Tj
ET
BT
42.52 556.469 Td
(          implementation goes here. Most implementation code is) Tj
ET
BT
42.52 550.346 Td
(          placed in this section.) Tj
ET
BT
42.52 544.224 Td
(     4\) The GRAMMER section - appears following the Grammar include.) Tj
ET
BT
42.52 538.101 Td
(          All new Verb and Extend directives go here.) Tj
ET
BT
/F6 9.87 Tf
42.52 519.222 Td
(One possible, though not recommend, way of addressing this is by implementing) Tj
ET
BT
42.52 506.466 Td
(separate files for each section needed by a library entry and including them at the) Tj
ET
BT
42.52 493.71 Td
(appropriate location. Obviously this file juggling can be managed in a better way.) Tj
ET
BT
42.52 480.954 Td
(Again, Inform offers a better solution. ) Tj
ET
BT
/F5 9.87 Tf
42.52 455.443 Td
(Step three, using conditional compilation) Tj
ET
BT
/F6 9.87 Tf
236.118 455.443 Td
(, is the final technique needed to bring) Tj
ET
BT
42.52 442.687 Td
(everything talked about thus far together. Inform implements conditional) Tj
ET
BT
42.52 429.931 Td
(compilation with various #If... directives. While the #include directive adds code to a) Tj
ET
BT
42.52 417.175 Td
(file where none actually exists, these directives give the ability to ignore code in a) Tj
ET
BT
42.52 404.419 Td
(file that does exists. Using these directives, the compiler can selectively dismiss) Tj
ET
BT
42.52 391.663 Td
(sections of code and a large, diversified library can still produce a tight specific) Tj
ET
BT
42.52 378.907 Td
(program. ) Tj
ET
BT
42.52 353.395 Td
(Creative use of these directives can cause a file to be interpreted differently each) Tj
ET
BT
42.52 340.639 Td
(time it is compiled. This allows us to address the hassles identified above but) Tj
ET
BT
42.52 327.883 Td
(coding a module to be interpreted differently depending on where in the program it) Tj
ET
BT
42.52 315.128 Td
(is included. As an added bonus, we can wrap all library includes into a "single) Tj
ET
BT
42.52 302.372 Td
(point of entry" include file and choose which library packages we include by) Tj
ET
BT
42.52 289.616 Td
(declaring constants. This makes for even cleaner code. Not bad. ) Tj
ET
BT
/F5 9.87 Tf
42.52 264.104 Td
(The Framework and the Implementation) Tj
ET
BT
/F6 9.87 Tf
42.52 238.592 Td
(To the experienced developer, all of this coding with conditional directives means) Tj
ET
BT
42.52 225.836 Td
(one thing: a framework. Obviously the content of your personal library will vary) Tj
ET
BT
42.52 213.08 Td
(from developer to developer, but the implementation framework has already been) Tj
ET
BT
42.52 200.324 Td
(coded and is available to all. It contains everything you need to begin developing) Tj
ET
BT
42.52 187.569 Td
(and using a personal library. That is, a sample blank game template \(implementing) Tj
ET
BT
42.52 174.813 Td
(the library\), a library entry template, and a "single point of entry" file. Additional) Tj
ET
BT
42.52 162.057 Td
(library entries are also available for individual downloads, or a complete package of) Tj
ET
BT
42.52 149.301 Td
(every thing is also available. All of this for the great low price of a download click) Tj
ET
BT
42.52 136.545 Td
(from ) Tj
ET
BT
65.003 136.545 Td
(http://www.onyxring.com/orlibrary.aspx) Tj
ET
BT
234.48 136.545 Td
(. ) Tj
ET
BT
42.52 111.033 Td
(As always, the best way to learn is to look at the code. There are several) Tj
ET
BT
42.52 98.277 Td
(comments inside each of the files that describe how to use it. ) Tj
ET
endstream
endobj
>>
111 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 112 0 R
>>
endobj
112 0 obj
<</Length 185>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(47) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(Happy coding. ) Tj
ET
endstream
endobj
>>
113 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F9 9 0 R
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 114 0 R
>>
endobj
114 0 obj
<</Length 4098>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Print Rules) Tj
ET
BT
42.52 42.52 Td
(48) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F5 9.87 Tf
42.52 568.205 Td
(Print rules) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(This topic is about using Inform's ) Tj
ET
BT
/F5 9.87 Tf
188.674 555.449 Td
(print) Tj
ET
BT
/F6 9.87 Tf
210.605 555.449 Td
( statement. Everything said here for ) Tj
ET
BT
/F5 9.87 Tf
369.145 555.449 Td
(print) Tj
ET
BT
/F6 9.87 Tf
391.076 555.449 Td
() Tj
ET
BT
42.52 542.693 Td
(applies also to ) Tj
ET
BT
/F5 9.87 Tf
108.352 542.693 Td
(print_ret) Tj
ET
BT
/F6 9.87 Tf
148.385 542.693 Td
(-- remember that these are exactly equivalent:) Tj
ET
BT
/F9 6.053 Tf
70.866 517.691 Td
(print) Tj
ET
BT
/F7 9.079 Tf
89.024 517.691 Td
(stuff_to_be_printed) Tj
ET
BT
/F8 6.053 Tf
192.524 517.691 Td
(; ) Tj
ET
BT
/F9 6.053 Tf
199.787 517.691 Td
(new_line) Tj
ET
BT
/F8 6.053 Tf
228.84 517.691 Td
(; ) Tj
ET
BT
/F9 6.053 Tf
236.103 517.691 Td
(rtrue) Tj
ET
BT
/F8 6.053 Tf
254.261 517.691 Td
(;) Tj
ET
BT
/F9 6.053 Tf
70.866 505.446 Td
(print) Tj
ET
BT
/F7 9.079 Tf
89.024 505.446 Td
(stuff_to_be_printed) Tj
ET
BT
/F8 6.053 Tf
192.524 505.446 Td
(; ) Tj
ET
BT
/F9 6.053 Tf
199.787 505.446 Td
(print) Tj
ET
BT
/F8 6.053 Tf
217.945 505.446 Td
( "^"; ) Tj
ET
BT
/F9 6.053 Tf
239.734 505.446 Td
(return true) Tj
ET
BT
/F8 6.053 Tf
279.682 505.446 Td
(;) Tj
ET
BT
/F9 6.053 Tf
70.866 493.2 Td
(print_ret) Tj
ET
BT
/F7 9.079 Tf
103.55 493.2 Td
(stuff_to_be_printed) Tj
ET
BT
/F8 6.053 Tf
207.05 493.2 Td
(;) Tj
ET
BT
/F6 9.87 Tf
42.52 461.565 Td
(The ) Tj
ET
BT
/F5 9.87 Tf
62.269 461.565 Td
(print) Tj
ET
BT
/F6 9.87 Tf
84.2 461.565 Td
( statement can be used like this:) Tj
ET
BT
/F9 6.053 Tf
70.866 436.564 Td
(print) Tj
ET
BT
/F7 9.079 Tf
89.024 436.564 Td
(term) Tj
ET
BT
/F8 6.053 Tf
110.813 436.564 Td
(;) Tj
ET
BT
/F9 6.053 Tf
70.866 424.318 Td
(print) Tj
ET
BT
/F7 9.079 Tf
89.024 424.318 Td
(term) Tj
ET
BT
/F8 6.053 Tf
110.813 424.318 Td
(;) Tj
ET
BT
70.866 412.072 Td
(...) Tj
ET
BT
/F9 6.053 Tf
70.866 399.827 Td
(print) Tj
ET
BT
/F7 9.079 Tf
89.024 399.827 Td
(term) Tj
ET
BT
/F8 6.053 Tf
110.813 399.827 Td
(;) Tj
ET
BT
/F6 9.87 Tf
42.52 380.948 Td
(However, since it's just about the only statement where commas play a significant) Tj
ET
BT
42.52 368.192 Td
(role, you'll more often see it in this form:) Tj
ET
BT
/F9 6.053 Tf
70.866 349.313 Td
(print) Tj
ET
BT
/F7 9.079 Tf
89.024 349.313 Td
(term) Tj
ET
BT
/F8 6.053 Tf
110.813 349.313 Td
(, ) Tj
ET
BT
/F7 9.079 Tf
118.077 349.313 Td
(term) Tj
ET
BT
/F8 6.053 Tf
139.866 349.313 Td
(, ... ) Tj
ET
BT
/F7 9.079 Tf
161.656 349.313 Td
(term) Tj
ET
BT
/F8 6.053 Tf
183.445 349.313 Td
(;) Tj
ET
BT
/F6 9.87 Tf
42.52 323.802 Td
(where you must have at least one ) Tj
ET
BT
/F4 9.87 Tf
192.839 323.802 Td
(term) Tj
ET
BT
/F6 9.87 Tf
212.579 323.802 Td
( and can have as many as you like. Inform) Tj
ET
BT
42.52 311.046 Td
(copes automatically with literal numbers and strings; this example outputs the) Tj
ET
BT
42.52 298.29 Td
(expected "2 plus 3 is equal to 5." result:) Tj
ET
BT
/F8 6.053 Tf
70.866 279.411 Td
(print 2, " plus ", 3, " is equal to ", 2+3, ".^";) Tj
ET
BT
/F6 9.87 Tf
42.52 253.899 Td
(Things get more interesting as soon as you start to use variables. Consider these) Tj
ET
BT
42.52 241.143 Td
(two examples:) Tj
ET
BT
/F8 6.053 Tf
70.866 228.898 Td
(x = 2+3;) Tj
ET
BT
70.866 216.652 Td
(print 2, " plus ", 3, " is equal to ", x, ".^";) Tj
ET
BT
70.866 192.161 Td
(x = " is equal to ";) Tj
ET
BT
70.866 179.915 Td
(print 2, " plus ", 3, x, 2+3, ".^";) Tj
ET
BT
/F6 9.87 Tf
42.52 148.28 Td
(The first still works fine, but the second produces the somewhat baffling "2 plus) Tj
ET
BT
42.52 135.524 Td
(3197685." which isn't at all what you want to find; between the "3" and the "5",) Tj
ET
BT
42.52 122.769 Td
(where you'd hoped to see the phrase " is equal to ", you've instead got the) Tj
ET
BT
42.52 110.013 Td
(mysterious number 19768. What's going on? Simply this: each Inform variable is) Tj
ET
BT
42.52 97.257 Td
(stored in a single computer word -- that's just sixteen bits \(or thirty-two bits in) Tj
ET
endstream
endobj
>>
115 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F9 9 0 R
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 116 0 R
>>
endobj
116 0 obj
<</Length 5285>>
stream
BT
0 g
/F4 9.87 Tf
358.121 623.48 Td
(Roger Firth) Tj
ET
BT
396.505 42.52 Td
(49) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(Glulx\) -- fine for holding a number such as the result of adding 2 and 3, but far too) Tj
ET
BT
42.52 568.205 Td
(small to hold a long string of characters like " is equal to ". Instead, the Inform) Tj
ET
BT
42.52 555.449 Td
(compiler places those characters in a special memory area dedicated to holding all) Tj
ET
BT
42.52 542.693 Td
(of the game's strings, and stores a pointer into that area -- the string's ) Tj
ET
BT
/F5 9.87 Tf
348.567 542.693 Td
(address) Tj
ET
BT
/F6 9.87 Tf
386.418 542.693 Td
( --) Tj
ET
BT
42.52 529.937 Td
(in the variable. That's what "19768" is: the memory address where the phrase can) Tj
ET
BT
42.52 517.181 Td
(be found.) Tj
ET
BT
42.52 504.425 Td
(So, how do you print what you want: the string itself rather than its fairly) Tj
ET
BT
42.52 491.669 Td
(meaningless memory address? Like this:) Tj
ET
BT
/F8 6.053 Tf
70.866 479.424 Td
(x = " is equal to ";) Tj
ET
BT
70.866 467.178 Td
(print 2, " plus ", 3, ) Tj
ET
BT
/F9 6.053 Tf
150.761 467.178 Td
(\(string\)) Tj
ET
BT
/F8 6.053 Tf
179.813 467.178 Td
( x, 2+3, ".^";) Tj
ET
BT
/F6 9.87 Tf
42.52 435.543 Td
(The general message coming out of all this is that, unless told otherwise, Inform) Tj
ET
BT
42.52 422.787 Td
(treats each variable value simply as a number to be printed in signed decimal) Tj
ET
BT
42.52 410.031 Td
(format. If you know better -- that the value has to be printed in some other format) Tj
ET
BT
42.52 397.276 Td
(-- you need to explicitly say so. Typical cases are where:) Tj
ET
BT
/F7 12.61 Tf
56.693 384.52 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 384.52 Td
(the value isn't actually a number as such, but rather an address of an) Tj
ET
BT
70.866 371.764 Td
(Inform item such as a string, object, or word in Inform's dictionary;) Tj
ET
BT
/F7 12.61 Tf
56.693 359.008 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 359.008 Td
(the value ) Tj
ET
BT
/F4 9.87 Tf
113.662 359.008 Td
(is) Tj
ET
BT
/F6 9.87 Tf
120.788 359.008 Td
( a number, but you don't want it printed in signed decimal) Tj
ET
BT
70.866 346.252 Td
(format, but instead in words, or as a hexadecimal value, or whatever;) Tj
ET
BT
/F7 12.61 Tf
56.693 333.496 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 333.496 Td
(the value is an encoded representation of some data which needs to) Tj
ET
BT
70.866 320.74 Td
(be decoded or transformed before being printed.) Tj
ET
BT
/F5 9.87 Tf
42.52 295.228 Td
(Built-in rules) Tj
ET
BT
/F6 9.87 Tf
42.52 282.472 Td
(The way that you say to Inform "treat the following value specially, rather than just) Tj
ET
BT
42.52 269.717 Td
(print it as a decimal number" is by using a ) Tj
ET
BT
/F5 9.87 Tf
227.591 269.717 Td
(rule) Tj
ET
BT
/F6 9.87 Tf
245.692 269.717 Td
(: a word in parentheses immediately) Tj
ET
BT
42.52 256.961 Td
(before the value. That's what ) Tj
ET
BT
/F5 9.87 Tf
171.688 256.961 Td
(\(string\)) Tj
ET
BT
/F6 9.87 Tf
205.68 256.961 Td
( is -- a rule that tells Inform to treat what) Tj
ET
BT
42.52 244.205 Td
(follows as the address of a string to be printed. Several built-in rules are available:) Tj
ET
BT
/F5 9.87 Tf
42.52 231.449 Td
(\(number\)) Tj
ET
BT
/F4 9.87 Tf
85.286 231.449 Td
(expr) Tj
ET
BT
/F5 9.87 Tf
42.52 218.693 Td
(\(char\)) Tj
ET
BT
/F4 9.87 Tf
69.938 218.693 Td
(expr) Tj
ET
BT
/F5 9.87 Tf
42.52 205.937 Td
(\(string\)) Tj
ET
BT
/F4 9.87 Tf
76.512 205.937 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 193.181 Td
(\(address\)) Tj
ET
BT
/F4 9.87 Tf
86.944 193.181 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 180.425 Td
(\(name\)) Tj
ET
BT
/F4 9.87 Tf
74.873 180.425 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 167.669 Td
(\(a\)) Tj
ET
BT
/F4 9.87 Tf
54.581 167.669 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 154.913 Td
(\(the\)) Tj
ET
BT
/F4 9.87 Tf
63.898 154.913 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 142.157 Td
(\(The\)) Tj
ET
BT
/F4 9.87 Tf
66.642 142.157 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 129.402 Td
(\(ItorThem\)) Tj
ET
BT
/F4 9.87 Tf
91.317 129.402 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 116.646 Td
(\(ThatorThose\)) Tj
ET
BT
/F4 9.87 Tf
108.865 116.646 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 103.89 Td
(\(CThatorThose\)) Tj
ET
BT
/F4 9.87 Tf
115.991 103.89 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 91.134 Td
(\(CTheyorThats\)) Tj
ET
BT
/F4 9.87 Tf
115.449 91.134 Td
(addr) Tj
ET
BT
/F5 9.87 Tf
42.52 78.378 Td
(\(IsorAre\)) Tj
ET
BT
/F4 9.87 Tf
83.648 78.378 Td
(addr) Tj
ET
BT
/F6 9.87 Tf
144.245 231.449 Td
(the expression's value in words [1]) Tj
ET
BT
144.245 218.693 Td
( the expression's value as a single character) Tj
ET
BT
144.245 205.937 Td
( the character string at this address [1]) Tj
ET
BT
144.245 193.181 Td
( the dictionary word at this address) Tj
ET
BT
144.245 180.425 Td
( the name of the object at this address) Tj
ET
BT
144.245 167.669 Td
( the object's name preceded by "a/an/some" [2]) Tj
ET
BT
144.245 154.913 Td
( the object's name preceded by "the" [3]) Tj
ET
BT
144.245 142.157 Td
( the object's name preceded by "The" [3]) Tj
ET
BT
144.245 129.402 Td
( "him/her/it/them" [4]) Tj
ET
BT
144.245 116.646 Td
( "him/her/that/those" [4]) Tj
ET
BT
144.245 103.89 Td
( "He/She/That/Those" [4]) Tj
ET
BT
144.245 91.134 Td
( "He's/She's/That's/They're" [4]) Tj
ET
BT
144.245 78.378 Td
( "is/are" [4]) Tj
ET
endstream
endobj
>>
117 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 118 0 R
>>
endobj
118 0 obj
<</Length 5181>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Print Rules) Tj
ET
BT
42.52 42.52 Td
(50) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F5 9.87 Tf
42.52 555.449 Td
(Note 1:) Tj
ET
BT
/F6 9.87 Tf
75.969 555.449 Td
( There's an important distinction between an ) Tj
ET
BT
/F4 9.87 Tf
272.055 555.449 Td
(expr) Tj
ET
BT
/F6 9.87 Tf
291.252 555.449 Td
( and an ) Tj
ET
BT
/F4 9.87 Tf
326.922 555.449 Td
(addr) Tj
ET
BT
/F6 9.87 Tf
346.672 555.449 Td
(: you can) Tj
ET
BT
42.52 542.693 Td
(perform arithmetic in the former, not in the latter. ) Tj
ET
BT
/F5 9.87 Tf
256.451 542.693 Td
(\(number\) 2+3) Tj
ET
BT
/F6 9.87 Tf
318.7 542.693 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
340.651 542.693 Td
(\(char\) 'q'-1) Tj
ET
BT
/F6 9.87 Tf
390.316 542.693 Td
() Tj
ET
BT
42.52 529.937 Td
(will both work, but ) Tj
ET
BT
/F5 9.87 Tf
123.7 529.937 Td
(\(string\) "Christmas"-5) Tj
ET
BT
/F6 9.87 Tf
226.831 529.937 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
248.782 529.937 Td
(\(name\) self_obj+8) Tj
ET
BT
/F6 9.87 Tf
332.429 529.937 Td
( are recipes for) Tj
ET
BT
42.52 517.181 Td
(disaster.) Tj
ET
BT
/F5 9.87 Tf
42.52 504.425 Td
(Note 2:) Tj
ET
BT
/F6 9.87 Tf
75.969 504.425 Td
( Unless the object has an ) Tj
ET
BT
/F5 9.87 Tf
189.532 504.425 Td
(article) Tj
ET
BT
/F6 9.87 Tf
218.609 504.425 Td
( property or a ) Tj
ET
BT
/F5 9.87 Tf
280.05 504.425 Td
(proper) Tj
ET
BT
/F6 9.87 Tf
311.308 504.425 Td
( attribute.) Tj
ET
BT
/F5 9.87 Tf
42.52 491.669 Td
(Note 3:) Tj
ET
BT
/F6 9.87 Tf
75.969 491.669 Td
( Unless the object has a ) Tj
ET
BT
/F5 9.87 Tf
184.045 491.669 Td
(proper) Tj
ET
BT
/F6 9.87 Tf
215.303 491.669 Td
( attribute.) Tj
ET
BT
/F5 9.87 Tf
42.52 478.913 Td
(Note 4:) Tj
ET
BT
/F6 9.87 Tf
75.969 478.913 Td
( The appropriate value is determined the attributes of the object at this) Tj
ET
BT
42.52 466.157 Td
(address.) Tj
ET
BT
/F5 9.87 Tf
42.52 453.402 Td
(Homegrown rules) Tj
ET
BT
/F6 9.87 Tf
42.52 440.646 Td
(The built-in print rules are very useful, but there's nothing to stop you adding) Tj
ET
BT
42.52 427.89 Td
(extra ones of your own. All you need do is write a routine of the desired name,) Tj
ET
BT
42.52 415.134 Td
(taking a single parameter which is the value to be printed. The ) Tj
ET
BT
316.815 415.134 Td
(Inform Designer's) Tj
ET
BT
42.52 402.378 Td
(Manual) Tj
ET
BT
74.883 402.378 Td
( \(Edition 4/1 1.12\) provides a sample ) Tj
ET
BT
/F8 6.053 Tf
243.847 402.378 Td
(hex\(\)) Tj
ET
BT
/F6 9.87 Tf
262.005 402.378 Td
( routine so that you can, for) Tj
ET
BT
42.52 389.622 Td
(example, ) Tj
ET
BT
/F5 9.87 Tf
85.306 389.622 Td
(print \(hex\) -4) Tj
ET
BT
/F6 9.87 Tf
145.078 389.622 Td
( to produce the output "fffc". \(Caution: don't use the) Tj
ET
BT
42.52 376.866 Td
(equivalent routine from the DM Edition 3 -- it mishandles negative numbers.\) Also, ) Tj
ET
BT
/F8 6.053 Tf
42.52 364.11 Td
(Card\(\)) Tj
ET
BT
/F6 9.87 Tf
64.309 364.11 Td
( in 2.4 decodes a number 0..51 into a playing card. Here are a few other) Tj
ET
BT
42.52 351.354 Td
(examples.) Tj
ET
BT
/F5 9.87 Tf
42.52 338.598 Td
(Possesive pronouns) Tj
ET
BT
/F6 9.87 Tf
139.058 338.598 Td
(. Like ) Tj
ET
BT
/F5 9.87 Tf
165.391 338.598 Td
(\(a\)) Tj
ET
BT
/F6 9.87 Tf
177.452 338.598 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
199.402 338.598 Td
(\(the\)) Tj
ET
BT
/F6 9.87 Tf
220.781 338.598 Td
(, to print "his/her/its/their" to suit the) Tj
ET
BT
42.52 325.843 Td
(specified object; see also DM 4 Exercise 62:) Tj
ET
BT
/F8 6.053 Tf
70.866 300.841 Td
([ hisorher x;) Tj
ET
BT
70.866 294.718 Td
(        if \(x has pluralname\) print "their";) Tj
ET
BT
70.866 288.595 Td
(        else if \(x hasnt animate || x has neuter\) print "its";) Tj
ET
BT
70.866 282.472 Td
(            else if \(x has female\) print "her"; else print "his";) Tj
ET
BT
70.866 276.35 Td
(        ];) Tj
ET
BT
70.866 270.227 Td
(. . .) Tj
ET
BT
70.866 264.104 Td
(print "In the bed dozes ", \(a\) NPC1, ", twitching and muttering under ", \(hisorher\)) Tj
ET
BT
70.866 257.981 Td
(NPC1, " breath.";) Tj
ET
BT
/F5 9.87 Tf
42.52 226.346 Td
(Non-zero numbers) Tj
ET
BT
/F6 9.87 Tf
129.711 226.346 Td
(. A version of the standard ) Tj
ET
BT
/F5 9.87 Tf
247.666 226.346 Td
(\(number\)) Tj
ET
BT
/F6 9.87 Tf
290.433 226.346 Td
( rule which print "no") Tj
ET
BT
42.52 213.591 Td
(instead of "zero":) Tj
ET
BT
/F8 6.053 Tf
70.866 188.589 Td
([ nznumber x; if \(x > 0\) print \(number\) x; else print "no"; ];) Tj
ET
BT
70.866 182.466 Td
(. . .) Tj
ET
BT
70.866 176.343 Td
(print "You have ", \(nznumber\) coins.number, " coins left to spend.";) Tj
ET
BT
/F5 9.87 Tf
42.52 144.709 Td
(Typographic control) Tj
ET
BT
/F6 9.87 Tf
137.942 144.709 Td
(. Switching into boldface or underlined/italicized type) Tj
ET
BT
42.52 131.953 Td
(normally requires a separate ) Tj
ET
BT
/F5 9.87 Tf
170.325 131.953 Td
(style) Tj
ET
BT
/F6 9.87 Tf
192.819 131.953 Td
( statement. Here, you can control the typography) Tj
ET
BT
42.52 119.197 Td
(\(of a string\) within a ) Tj
ET
BT
/F5 9.87 Tf
131.379 119.197 Td
(print) Tj
ET
BT
/F6 9.87 Tf
153.31 119.197 Td
( statement:) Tj
ET
BT
/F8 6.053 Tf
70.866 94.195 Td
([ b x; style bold; print \(string\) x; style roman; ];) Tj
ET
BT
70.866 88.072 Td
([ u x; style underline; print \(string\) x; style roman; ];) Tj
ET
endstream
endobj
>>
119 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 120 0 R
>>
endobj
120 0 obj
<</Length 4241>>
stream
BT
0 g
/F4 9.87 Tf
329.774 623.48 Td
(Roger Firth) Tj
ET
BT
368.158 42.52 Td
(51) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
70.866 580.961 Td
(. . .) Tj
ET
BT
70.866 574.838 Td
(print "...and can print in ", \(b\) "bold face", " as well as using ", \(u\) "italics",) Tj
ET
BT
70.866 568.715 Td
(".";) Tj
ET
BT
/F5 9.87 Tf
42.52 537.08 Td
(Decoding) Tj
ET
BT
/F6 9.87 Tf
87.487 537.08 Td
(. Sometimes, you work internally with encoded values which need to be) Tj
ET
BT
42.52 524.324 Td
(turned into string representations only at the instant of being printed. For example,) Tj
ET
BT
42.52 511.569 Td
(a day-of-the-year \(1..365\) is transformed into a meaningful date \(no, it doesn't) Tj
ET
BT
42.52 498.813 Td
(handle leap years\):) Tj
ET
BT
/F8 6.053 Tf
70.866 473.811 Td
([ dayofyear x; switch \(x\) {) Tj
ET
BT
70.866 467.688 Td
(          1 to  31: print \(ordinal\) x,     " January";) Tj
ET
BT
70.866 461.565 Td
(         32 to  59: print \(ordinal\) x- 31, " February";) Tj
ET
BT
70.866 455.443 Td
(         60 to  90: print \(ordinal\) x- 59, " March";) Tj
ET
BT
70.866 449.32 Td
(         91 to 120: print \(ordinal\) x- 90, " April";) Tj
ET
BT
70.866 443.197 Td
(        121 to 151: print \(ordinal\) x-120, " May";) Tj
ET
BT
70.866 437.074 Td
(        152 to 181: print \(ordinal\) x-151, " June";) Tj
ET
BT
70.866 430.951 Td
(        182 to 212: print \(ordinal\) x-181, " July";) Tj
ET
BT
70.866 424.828 Td
(        213 to 243: print \(ordinal\) x-212, " August";) Tj
ET
BT
70.866 418.706 Td
(        244 to 273: print \(ordinal\) x-243, " September";) Tj
ET
BT
70.866 412.583 Td
(        274 to 304: print \(ordinal\) x-273, " October";) Tj
ET
BT
70.866 406.46 Td
(        305 to 334: print \(ordinal\) x-304, " November";) Tj
ET
BT
70.866 400.337 Td
(        335 to 365: print \(ordinal\) x-334, " December";) Tj
ET
BT
70.866 394.214 Td
(        default:    print "BAD DATE";) Tj
ET
BT
70.866 388.091 Td
(        } ];) Tj
ET
BT
70.866 381.969 Td
([ ordinal x; print x; switch \(x\) {) Tj
ET
BT
70.866 375.846 Td
(        1, 21, 31:  print "st";) Tj
ET
BT
70.866 369.723 Td
(        2, 22:      print "nd";) Tj
ET
BT
70.866 363.6 Td
(        3, 23:      print "rd";) Tj
ET
BT
70.866 357.477 Td
(        default:    print "th";) Tj
ET
BT
70.866 351.354 Td
(        } ];) Tj
ET
BT
70.866 345.231 Td
(. . .) Tj
ET
BT
70.866 339.109 Td
(print "Today's date is ", \(dayofyear\) somedate, ".";) Tj
ET
BT
/F5 9.87 Tf
42.52 307.474 Td
(Monetary values) Tj
ET
BT
/F6 9.87 Tf
119.861 307.474 Td
(. Suppose your game involves cash transactions -- acquiring and) Tj
ET
BT
42.52 294.718 Td
(spending 'real' money rather than notional zorkmids or gold coins. You might) Tj
ET
BT
42.52 281.962 Td
(choose to store a monetary value in a variable, for example in units of cents or) Tj
ET
BT
42.52 269.206 Td
(pennies; that way, you can easily add to and subtract from your cash float. Here's) Tj
ET
BT
42.52 256.45 Td
(a rule which prints such as variable as a monetary value \(for example, it prints) Tj
ET
BT
42.52 243.694 Td
(1234 as $12.34\). Because you can't have negative cash amounts, it treats the) Tj
ET
BT
42.52 230.939 Td
(variable as an unsigned value in the range 0..65535 \($0.00 to $655.35\). If you) Tj
ET
BT
42.52 218.183 Td
(need to deal with larger amounts, you're on your own.) Tj
ET
BT
/F8 6.053 Tf
70.866 193.181 Td
([ cash x) Tj
ET
BT
70.866 187.058 Td
(        a b c d e;) Tj
ET
BT
70.866 180.935 Td
(        if \(x < 0\) {) Tj
ET
BT
70.866 174.813 Td
(            x = x & $7FFF; e = x%10 + 8; x = x/10 + e/10 + 3276; e = e%10;) Tj
ET
BT
70.866 168.69 Td
(            }) Tj
ET
BT
70.866 162.567 Td
(        else { e = x%10; x = x/10; }) Tj
ET
BT
70.866 156.444 Td
(        d = x%10; x = x/10; c = x%10; x = x/10; b = x%10; a = x/10;) Tj
ET
BT
70.866 150.321 Td
(        print "$";) Tj
ET
BT
70.866 144.198 Td
(        if \(a\) print a;) Tj
ET
BT
70.866 138.076 Td
(        if \(a || b\) print b;) Tj
ET
BT
70.866 131.953 Td
(        print c, ".", d, e;) Tj
ET
BT
70.866 125.83 Td
(        ];) Tj
ET
BT
70.866 119.707 Td
(. . .) Tj
ET
BT
70.866 113.584 Td
(print "Tallying your possessions, you find you have ", \(cash\) player.cashfloat, ") Tj
ET
BT
70.866 107.461 Td
(in ready money.";) Tj
ET
endstream
endobj
>>
121 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 122 0 R
>>
endobj
122 0 obj
<</Length 4126>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Print Rules) Tj
ET
BT
42.52 42.52 Td
(52) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Discarding return values) Tj
ET
BT
/F6 9.87 Tf
158.255 580.961 Td
(. Consider this \(erroneous\) example, where you invoke a) Tj
ET
BT
42.52 568.205 Td
(routine which produces its own output:) Tj
ET
BT
/F8 6.053 Tf
70.866 543.203 Td
([ dow d m y) Tj
ET
BT
70.866 537.08 Td
(        a b;) Tj
ET
BT
70.866 530.957 Td
(        ! Algorithm from http://www.tondering.dk/claus/calendar.html) Tj
ET
BT
70.866 524.835 Td
(        a = \(14-m\) / 12;) Tj
ET
BT
70.866 518.712 Td
(        b = \(y-a\);) Tj
ET
BT
70.866 512.589 Td
(        a = \(d + \(m+\(a*12\)-2\)*31/12 + b + b/4 - b/100 + b/400\) % 7;) Tj
ET
BT
70.866 506.466 Td
(        switch \(a\) {) Tj
ET
BT
70.866 500.343 Td
(            0: print "Sunday";) Tj
ET
BT
70.866 494.22 Td
(            1: print "Monday";) Tj
ET
BT
70.866 488.098 Td
(            2: print "Tuesday";) Tj
ET
BT
70.866 481.975 Td
(            3: print "Wednesday";) Tj
ET
BT
70.866 475.852 Td
(            4: print "Thursday";) Tj
ET
BT
70.866 469.729 Td
(            5: print "Friday";) Tj
ET
BT
70.866 463.606 Td
(            6: print "Saturday";) Tj
ET
BT
70.866 457.483 Td
(            }) Tj
ET
BT
70.866 451.361 Td
(        ];) Tj
ET
BT
70.866 445.238 Td
(. . .) Tj
ET
BT
70.866 439.115 Td
(print "Christmas Day falls on a ", dow\(25,12,2001\), " this year.";) Tj
ET
BT
/F6 9.87 Tf
42.52 407.48 Td
(What happens, when you run this, is that the dow\(\) routine generates its output) Tj
ET
BT
42.52 394.724 Td
(and returns, whereupon the ) Tj
ET
BT
/F5 9.87 Tf
165.963 394.724 Td
(print) Tj
ET
BT
/F6 9.87 Tf
187.894 394.724 Td
( statement outputs the value returned by the) Tj
ET
BT
42.52 381.969 Td
(routine, usually "1" \(representing ) Tj
ET
BT
/F5 9.87 Tf
187.766 381.969 Td
(true) Tj
ET
BT
/F6 9.87 Tf
206.41 381.969 Td
(\). There are several ways of preventing this) Tj
ET
BT
42.52 369.213 Td
(spurious "1" from being printed. You can split the ) Tj
ET
BT
/F5 9.87 Tf
258.543 369.213 Td
(print) Tj
ET
BT
/F6 9.87 Tf
280.474 369.213 Td
( into its component) Tj
ET
BT
42.52 356.457 Td
(statements:) Tj
ET
BT
/F8 6.053 Tf
70.866 331.455 Td
([ dow d m y; ... 6: print "Saturday"; } ];) Tj
ET
BT
70.866 325.332 Td
(. . .) Tj
ET
BT
70.866 319.209 Td
(print "Christmas Day falls on a ";) Tj
ET
BT
70.866 313.087 Td
(dow\(25,12,2001\);) Tj
ET
BT
70.866 306.964 Td
(print " this year.";) Tj
ET
BT
/F6 9.87 Tf
42.52 275.329 Td
(Alternatively, you can \(sometimes\) rewrite the routine to return a value rather than) Tj
ET
BT
42.52 262.573 Td
(printing it:) Tj
ET
BT
/F8 6.053 Tf
70.866 250.328 Td
([ dow d m y; ... 6: return "Saturday"; } ];) Tj
ET
BT
70.866 244.205 Td
(. . .) Tj
ET
BT
70.866 238.082 Td
(print "Christmas Day falls on a ", \(string\) dow\(25,12,2001\), " this year.";) Tj
ET
BT
/F6 9.87 Tf
42.52 206.447 Td
(However, easier than either of these is simply to create a rule which absorbs and) Tj
ET
BT
42.52 193.691 Td
(ignores the unwanted value returned by the routine:) Tj
ET
BT
/F8 6.053 Tf
70.866 181.446 Td
([ dow d m y; ... 6: print "Saturday"; } ];) Tj
ET
BT
70.866 175.323 Td
([ ignore; ];) Tj
ET
BT
70.866 169.2 Td
(. . .) Tj
ET
BT
70.866 163.077 Td
(print "Christmas Day falls on a ", \(ignore\) dow\(25,12,2001\), " this year.";) Tj
ET
BT
/F6 9.87 Tf
42.52 131.443 Td
(Be sure that you're comfortable with the difference between ) Tj
ET
BT
/F5 9.87 Tf
304.991 131.443 Td
(print \(someroutine\) x;) Tj
ET
BT
/F6 9.87 Tf
42.52 118.687 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
64.47 118.687 Td
(print someroutine\(x\);) Tj
ET
BT
/F6 9.87 Tf
163.723 118.687 Td
( -- they both call someroutine\(\) with x as a parameter,) Tj
ET
BT
42.52 105.931 Td
(but whereas the output produced by the former is only what \(if anything\) the routine) Tj
ET
BT
42.52 93.175 Td
(itself ) Tj
ET
BT
/F4 9.87 Tf
65.556 93.175 Td
(prints) Tj
ET
BT
/F6 9.87 Tf
89.688 93.175 Td
(, the latter additionally outputs the value ) Tj
ET
BT
/F4 9.87 Tf
266.35 93.175 Td
(returned by) Tj
ET
BT
/F6 9.87 Tf
316.272 93.175 Td
( the routine, which) Tj
ET
endstream
endobj
>>
123 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 124 0 R
>>
endobj
124 0 obj
<</Length 186>>
stream
BT
0 g
/F4 9.87 Tf
358.121 623.48 Td
(Roger Firth) Tj
ET
BT
396.505 42.52 Td
(53) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(is often "1".) Tj
ET
endstream
endobj
>>
125 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 126 0 R
>>
endobj
126 0 obj
<</Length 3176>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Bitwise and Logical Operators in Inform) Tj
ET
BT
42.52 42.52 Td
(54) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F5 9.87 Tf
42.52 555.449 Td
(BITWISE AND LOGICAL OPERATORS IN INFORM) Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I341 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(n a programming language like Inform, the ) Tj
ET
BT
/F4 9.87 Tf
287.373 529.937 Td
(operators) Tj
ET
BT
/F6 9.87 Tf
329.064 529.937 Td
( are those little) Tj
ET
BT
99.213 517.181 Td
(symbols such as + - * / = which combine numbers and variables to) Tj
ET
BT
99.213 504.425 Td
(form ) Tj
ET
BT
/F4 9.87 Tf
121.696 504.425 Td
(expressions) Tj
ET
BT
/F6 9.87 Tf
174.352 504.425 Td
(. For example, when you see something like: ) Tj
ET
BT
/F8 6.053 Tf
42.52 460.545 Td
( average = \(x + y\)/2; ) Tj
ET
BT
/F6 9.87 Tf
42.52 428.91 Td
(you're looking at an Inform statement which uses an assignment operator "=", an) Tj
ET
BT
42.52 416.154 Td
(addition operator "+" and a division operator "/", plus a pair of parentheses \(...\) to) Tj
ET
BT
42.52 403.398 Td
(ensure that the addition happens before the division. Even if the word "operator") Tj
ET
BT
42.52 390.643 Td
(itself isn't familiar to you, the role of arithmetic symbols like these shouldn't come) Tj
ET
BT
42.52 377.887 Td
(as much of a surprise. Likewise, you're probably fairly comfortable with conditional) Tj
ET
BT
42.52 365.131 Td
(operators such as ">=", which tests if one value is greater than or equal to another) Tj
ET
BT
42.52 352.375 Td
(value: ) Tj
ET
BT
/F8 6.053 Tf
42.52 308.494 Td
( if \(average >= 7\) print "Well done!";) Tj
ET
BT
/F6 9.87 Tf
42.52 282.983 Td
(Sections 1.6 through 1.8 in the Inform Designer's Manual introduce the operators) Tj
ET
BT
42.52 270.227 Td
(which are most frequently found, and Table 1 provides a full list. As well as the) Tj
ET
BT
42.52 257.471 Td
(commonplace arithmetic and conditional operators, there are others whose) Tj
ET
BT
42.52 244.715 Td
(behaviour is sometimes less intuitive. This article focuses on two families which) Tj
ET
BT
42.52 231.959 Td
(are easily confused -- ) Tj
ET
BT
/F4 9.87 Tf
139.61 231.959 Td
(bitwise operators) Tj
ET
BT
/F6 9.87 Tf
214.207 231.959 Td
( and ) Tj
ET
BT
/F4 9.87 Tf
236.158 231.959 Td
(logical operators) Tj
ET
BT
/F6 9.87 Tf
308.564 231.959 Td
( -- and explains their) Tj
ET
BT
42.52 219.203 Td
(different uses. ) Tj
ET
BT
/F5 9.87 Tf
42.52 193.691 Td
(1. Binary Numbers ) Tj
ET
BT
/F6 9.87 Tf
42.52 168.18 Td
(Before getting started on the operators, we need to touch briefly on how data is) Tj
ET
BT
42.52 155.424 Td
(stored. Computers munch down all information thrown at them and finally convert it) Tj
ET
BT
42.52 142.668 Td
(into Binary, a base-2 numbering system of 0's and 1's. Binary represents electrical) Tj
ET
BT
42.52 129.912 Td
(impulses either in an ON or OFF state, just like switches. The computer deals only) Tj
ET
BT
42.52 117.156 Td
(in the flow of impulses; humans need to devise conventions so that certain) Tj
ET
BT
42.52 104.4 Td
(combinations of these two digits represent numbers, letters, pixels, musical tones) Tj
ET
BT
42.52 91.644 Td
(or any other kind of data. ) Tj
ET
endstream
endobj
>>
127 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 128 0 R
>>
endobj
128 0 obj
<</Length 2650>>
stream
BT
0 g
/F4 9.87 Tf
336.17 623.48 Td
(Sonja Kesserich) Tj
ET
BT
396.505 42.52 Td
(55) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(When you type a number as part of a program, Inform assumes that you've typed) Tj
ET
BT
42.52 555.449 Td
(a ) Tj
ET
BT
/F4 9.87 Tf
50.751 555.449 Td
(decimal) Tj
ET
BT
/F6 9.87 Tf
84.753 555.449 Td
( \(base-10\) number unless you include a special prefix. There are two of) Tj
ET
BT
42.52 542.693 Td
(these: "$" introduces a ) Tj
ET
BT
/F4 9.87 Tf
143.894 542.693 Td
(hexadecimal) Tj
ET
BT
/F6 9.87 Tf
199.294 542.693 Td
( \(base-16\) number, and "$$" introduces a ) Tj
ET
BT
/F4 9.87 Tf
42.52 529.937 Td
(binary) Tj
ET
BT
/F6 9.87 Tf
69.396 529.937 Td
( \(base-2\) number -- see section 1.4 of the DM. For example, here are the) Tj
ET
BT
42.52 517.181 Td
(three ways of typing the number of years in a century: ) Tj
ET
BT
42.52 491.669 Td
(     100    $64    $$1100100 ) Tj
ET
BT
42.52 466.157 Td
(All of those have the same value \(though the first form is the most common and) Tj
ET
BT
42.52 453.402 Td
(natural-looking\), and they're all stored in the computer in the same way \(in binary) Tj
ET
BT
42.52 440.646 Td
(-- the third form\). As another example, the three numbers: ) Tj
ET
BT
42.52 415.134 Td
(     100    $100    $$100 ) Tj
ET
BT
42.52 389.622 Td
(are in everyday decimal worth respectively: one hundred, two hundred and) Tj
ET
BT
42.52 376.866 Td
(fifty-six, and four. In this article, we won't mention hexadecimal numbers again,) Tj
ET
BT
42.52 364.11 Td
(and we'll use "$$" to denote a binary number. ) Tj
ET
BT
42.52 338.598 Td
(Inform works both with 16-bit numbers \(for the Z-Machine\) and 32-bit numbers \(for) Tj
ET
BT
42.52 325.843 Td
(Glulx\) -- "bit" stands for BInary digiT. This means that each of your numbers is) Tj
ET
BT
42.52 313.087 Td
(converted to a sequence of either sixteen or thirty-two bits, each bit having a value) Tj
ET
BT
42.52 300.331 Td
(of 1 or 0. ) Tj
ET
BT
42.52 274.819 Td
(A 16-bit number \(Z-Machine\): ) Tj
ET
BT
42.52 249.307 Td
(     $$1001100011100101 ) Tj
ET
BT
42.52 223.795 Td
(A 32-bit number \(Glulx\): ) Tj
ET
BT
42.52 198.283 Td
(     $$00001100111010010011100110101100 ) Tj
ET
BT
/F5 9.87 Tf
42.52 172.772 Td
(2. Bitwise Operators ) Tj
ET
BT
/F6 9.87 Tf
42.52 147.26 Td
(Working directly with binary values is cumbersome; fortunately, you rarely need) Tj
ET
BT
42.52 134.504 Td
(to. There are occasional situations, however, when programmers want to \(or have) Tj
ET
BT
42.52 121.748 Td
(to\) work with low-level data, and this is where the bitwise operators make an) Tj
ET
BT
42.52 108.992 Td
(appearance. ) Tj
ET
endstream
endobj
>>
129 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 130 0 R
>>
endobj
130 0 obj
<</Length 2525>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Bitwise and Logical Operators in Inform) Tj
ET
BT
42.52 42.52 Td
(56) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(Inform defines three bitwise operators, which enable you to manipulate the) Tj
ET
BT
42.52 568.205 Td
(individual bits in a number: ) Tj
ET
BT
42.52 542.693 Td
( & ) Tj
ET
BT
143.722 542.693 Td
( bitwise AND operator ) Tj
ET
BT
250.955 542.693 Td
( merges two numbers ) Tj
ET
BT
42.52 529.027 Td
( bitwise OR operator ) Tj
ET
BT
143.722 529.027 Td
( merges two numbers ) Tj
ET
BT
42.52 515.361 Td
( ~ ) Tj
ET
BT
143.722 515.361 Td
( bitwise NOT operator ) Tj
ET
BT
250.955 515.361 Td
( changes one number ) Tj
ET
BT
42.52 476.183 Td
(The & \(AND\) operator compares and merges two numbers bit by bit. For each of) Tj
ET
BT
42.52 463.427 Td
(the 16 \(or 32\) comparisons, the output bit at that position is set to 0 unless both bits) Tj
ET
BT
42.52 450.672 Td
(being compared are 1, in which case it too is set to 1 \(that is, an output bit is set to) Tj
ET
BT
42.52 437.916 Td
(1 if the first input bit AND the second input bit are 1\). So: ) Tj
ET
BT
42.52 412.404 Td
($$1010 & $$1100 evaluates to $$1000 ) Tj
ET
BT
42.52 386.892 Td
(\(Note: You may find this clearer if you write it with the equivalent bits vertical) Tj
ET
BT
42.52 374.136 Td
(aligned: ) Tj
ET
BT
42.52 348.624 Td
($$ 1 0 1 0 & ) Tj
ET
BT
42.52 335.868 Td
($$ 1 1 0 0 ) Tj
ET
BT
42.52 323.112 Td
(------------- evaluates to ) Tj
ET
BT
42.52 310.357 Td
($$ 1 0 0 0 ) Tj
ET
BT
42.52 284.845 Td
(where you can see that both input bits are 1 only in the leftmost case.\) ) Tj
ET
BT
42.52 259.333 Td
(The | \(OR\) operator compares and merges two numbers bit by bit. For each of the) Tj
ET
BT
42.52 246.577 Td
(16 \(or 32\) comparisons, the output bit at that position is set to 1 unless both bits) Tj
ET
BT
42.52 233.821 Td
(being compared are 0, in which case it too is set to 0 \(that is, an output bit is set to) Tj
ET
BT
42.52 221.065 Td
(1 if the first input bit OR the second input bit is 1\). So: ) Tj
ET
BT
42.52 195.553 Td
($$1010 | $$1100 evaluates to $$1110 ) Tj
ET
BT
42.52 170.042 Td
(The ~ \(NOT\) operator inverts all of the bits of a number, changing each 0 to 1, and) Tj
ET
BT
42.52 157.286 Td
(1 to 0. So: ) Tj
ET
BT
42.52 131.774 Td
(~$$1100 evaluates to $$0011 ) Tj
ET
BT
42.52 106.262 Td
(\(Note: We are using small numbers for the sake of clarity. $$1100 should be read) Tj
ET
BT
42.52 93.506 Td
(as $$0000000000001100 on the Z-machine,) Tj
ET
endstream
endobj
>>
131 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 132 0 R
>>
endobj
132 0 obj
<</Length 2105>>
stream
BT
0 g
/F4 9.87 Tf
336.17 623.48 Td
(Sonja Kesserich) Tj
ET
BT
396.505 42.52 Td
(57) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
($$00000000000000000000000000001100 on Glulx. This would only affect -- in the) Tj
ET
BT
42.52 568.205 Td
(examples -- the NOT result, where all 0's to the left of our defined number turn into) Tj
ET
BT
42.52 555.449 Td
(1's.\) ) Tj
ET
BT
42.52 529.937 Td
(So far, so good; you can study the binary bit patterns and see what's going on. But) Tj
ET
BT
42.52 517.181 Td
(remember, it's perfectly valid to use a bitwise operator with decimal numbers: ) Tj
ET
BT
42.52 491.669 Td
(100 & 20 ) Tj
ET
BT
42.52 466.157 Td
(You have to bear in mind that the operator always works on the bit patterns of) Tj
ET
BT
42.52 453.402 Td
(the decimal numbers. If you were to read this expression using normal English,) Tj
ET
BT
42.52 440.646 Td
(you might say "100 AND 20", which perhaps sounds like the result would be 120.) Tj
ET
BT
42.52 427.89 Td
(But: ) Tj
ET
BT
42.52 402.378 Td
($$1100100 & $$0010100 evaluates to $$0000100 \(4 in decimal notation\) ) Tj
ET
BT
42.52 376.866 Td
(Also, 100 | 20 is worked as $$1100100 | $$0010100, which evaluates to) Tj
ET
BT
42.52 364.11 Td
($$1110100, 116 in decimal notation. ) Tj
ET
BT
42.52 338.598 Td
(You can demonstrate this using the example program in section 1.4 of the DM, with) Tj
ET
BT
42.52 325.843 Td
(a small variation:  ) Tj
ET
BT
/F8 6.053 Tf
42.52 281.962 Td
( [ Main x y;) Tj
ET
BT
42.52 275.839 Td
(   x=100; y=20;) Tj
ET
BT
42.52 269.717 Td
(   print "Today's number is ", x & y, ".^"; ) Tj
ET
BT
42.52 263.594 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 231.959 Td
(This outputs: ) Tj
ET
BT
/F8 6.053 Tf
42.52 188.079 Td
( Today's number is 4. ) Tj
ET
BT
/F6 9.87 Tf
42.52 156.444 Td
(The basic print statement always outputs decimal numbers. To see the result in) Tj
ET
BT
42.52 143.688 Td
(binary, you might use: ) Tj
ET
BT
/F8 6.053 Tf
42.52 99.808 Td
( [ Main x y;) Tj
ET
BT
42.52 93.685 Td
(   x=100; y=20;) Tj
ET
BT
42.52 87.562 Td
(   print "Today's number is ", \(bin\) x & y, ".^"; ) Tj
ET
endstream
endobj
>>
133 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 134 0 R
>>
endobj
134 0 obj
<</Length 3523>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Bitwise and Logical Operators in Inform) Tj
ET
BT
42.52 42.52 Td
(58) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
( ];) Tj
ET
BT
42.52 574.838 Td
( [ bin x i;) Tj
ET
BT
42.52 568.715 Td
(   print "$$";) Tj
ET
BT
42.52 562.592 Td
(   for \(i=16 : i>0 : i--\) {) Tj
ET
BT
42.52 556.469 Td
(     if \(x < 0\) print "1"; else print "0";) Tj
ET
BT
42.52 550.346 Td
(     x = x + x;) Tj
ET
BT
42.52 544.224 Td
(   }) Tj
ET
BT
42.52 538.101 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 512.589 Td
(In theory, you can apply bitwise operations to lots of thingies, if you understand) Tj
ET
BT
42.52 499.833 Td
(their binary representation. In practice, when coding a normal Inform game you'll) Tj
ET
BT
42.52 487.077 Td
(probably be using bitwise operators with the same frequency as Mandarin) Tj
ET
BT
42.52 474.321 Td
(Chinese... ) Tj
ET
BT
/F5 9.87 Tf
42.52 448.809 Td
(3. Logical operators ) Tj
ET
BT
/F6 9.87 Tf
42.52 423.298 Td
(Whereas the bitwise operators are fairly rare, you'll frequently encounter the logical) Tj
ET
BT
42.52 410.542 Td
(operators, usually in conditional statements like ) Tj
ET
BT
/F5 9.87 Tf
252.068 410.542 Td
(if) Tj
ET
BT
/F6 9.87 Tf
258.099 410.542 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
280.05 410.542 Td
(while) Tj
ET
BT
/F6 9.87 Tf
304.734 410.542 Td
(. Happily, they're also) Tj
ET
BT
42.52 397.786 Td
(easier to understand, since their only concern is whether a number is ) Tj
ET
BT
/F5 9.87 Tf
346.425 397.786 Td
(false) Tj
ET
BT
/F6 9.87 Tf
368.918 397.786 Td
( \(that) Tj
ET
BT
42.52 385.03 Td
(is, zero\) or ) Tj
ET
BT
/F5 9.87 Tf
91.879 385.03 Td
(true) Tj
ET
BT
/F6 9.87 Tf
110.524 385.03 Td
( \(any non-zero value\). For this section, we don't need to worry) Tj
ET
BT
42.52 372.274 Td
(about binary bit patterns. ) Tj
ET
BT
42.52 346.762 Td
(There are three logical operators: ) Tj
ET
BT
42.52 321.25 Td
(&&) Tj
ET
BT
64.19 321.25 Td
(logical AND operator ) Tj
ET
BT
166.488 321.25 Td
(tests two numbers) Tj
ET
BT
42.52 307.584 Td
(||) Tj
ET
BT
64.19 307.584 Td
(logical OR operator) Tj
ET
BT
166.488 307.584 Td
(tests two numbers) Tj
ET
BT
42.52 293.919 Td
(~~) Tj
ET
BT
64.19 293.919 Td
(logical NOT operator ) Tj
ET
BT
166.488 293.919 Td
(tests one number) Tj
ET
BT
42.52 241.985 Td
(In each case, the result of the test can only be ) Tj
ET
BT
/F5 9.87 Tf
246.62 241.985 Td
(false) Tj
ET
BT
/F6 9.87 Tf
269.114 241.985 Td
( \(0\) or ) Tj
ET
BT
/F5 9.87 Tf
298.181 241.985 Td
(true) Tj
ET
BT
/F6 9.87 Tf
316.825 241.985 Td
(\(1\). ) Tj
ET
BT
42.52 216.473 Td
(The && \(AND\) operator determines whether both numbers are ) Tj
ET
BT
/F5 9.87 Tf
317.338 216.473 Td
(true) Tj
ET
BT
/F6 9.87 Tf
335.982 216.473 Td
(. So: ) Tj
ET
BT
/F8 6.053 Tf
42.52 172.593 Td
( x && y ) Tj
ET
BT
/F6 9.87 Tf
42.52 147.081 Td
(evaluates to 1 if x is ) Tj
ET
BT
/F5 9.87 Tf
131.941 147.081 Td
(true) Tj
ET
BT
/F6 9.87 Tf
150.586 147.081 Td
( and y is ) Tj
ET
BT
/F5 9.87 Tf
190.085 147.081 Td
(true) Tj
ET
BT
/F6 9.87 Tf
208.729 147.081 Td
( , and otherwise to 0. Note that the tests are) Tj
ET
BT
42.52 134.325 Td
(performed left-to-right: if x turns out to be ) Tj
ET
BT
/F5 9.87 Tf
224.097 134.325 Td
(false) Tj
ET
BT
/F6 9.87 Tf
246.59 134.325 Td
(then the result is bound to be 0, so) Tj
ET
BT
42.52 121.569 Td
(the game doesn't bother testing y. ) Tj
ET
BT
42.52 96.057 Td
(The || \(OR\) operator determines whether either number is ) Tj
ET
BT
/F5 9.87 Tf
296.68 96.057 Td
(true) Tj
ET
BT
/F6 9.87 Tf
315.325 96.057 Td
( . So: ) Tj
ET
endstream
endobj
>>
135 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 136 0 R
>>
endobj
136 0 obj
<</Length 2205>>
stream
BT
0 g
/F4 9.87 Tf
336.17 623.48 Td
(Sonja Kesserich) Tj
ET
BT
396.505 42.52 Td
(59) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 549.836 Td
( x || y ) Tj
ET
BT
/F6 9.87 Tf
42.52 518.202 Td
(evaluates to 1 if x is ) Tj
ET
BT
/F5 9.87 Tf
131.941 518.202 Td
(true) Tj
ET
BT
/F6 9.87 Tf
150.586 518.202 Td
( or y is ) Tj
ET
BT
/F5 9.87 Tf
182.396 518.202 Td
(true) Tj
ET
BT
/F6 9.87 Tf
201.041 518.202 Td
( , and otherwise to 0. Note that the tests are) Tj
ET
BT
42.52 505.446 Td
(performed left-to-right: if x turns out to be ) Tj
ET
BT
/F5 9.87 Tf
224.097 505.446 Td
(true) Tj
ET
BT
/F6 9.87 Tf
242.741 505.446 Td
(then the result is bound to be 1, so) Tj
ET
BT
42.52 492.69 Td
(again the game doesn't bother testing y. ) Tj
ET
BT
42.52 467.178 Td
(The ~~ \(NOT\) operator inverts a number, changing ) Tj
ET
BT
/F5 9.87 Tf
267.979 467.178 Td
(true) Tj
ET
BT
/F6 9.87 Tf
286.623 467.178 Td
( to false and false to ) Tj
ET
BT
/F5 9.87 Tf
377.703 467.178 Td
(true) Tj
ET
BT
/F6 9.87 Tf
396.347 467.178 Td
(.) Tj
ET
BT
42.52 454.422 Td
(So: ) Tj
ET
BT
/F8 6.053 Tf
42.52 410.542 Td
( ~~x ) Tj
ET
BT
/F6 9.87 Tf
42.52 378.907 Td
(evaluates to 0 if x is ) Tj
ET
BT
/F5 9.87 Tf
131.941 378.907 Td
(true) Tj
ET
BT
/F6 9.87 Tf
150.586 378.907 Td
( , and otherwise to 1. ) Tj
ET
BT
42.52 353.395 Td
(\(Note: You should be aware of the way Inform handles the precedence of either) Tj
ET
BT
42.52 340.639 Td
(bitwise and logical NOT operators. Please check ) Tj
ET
BT
257.546 340.639 Td
() Tj
ET
BT
42.52 327.883 Td
(http://www.firthworks.com/roger/informfaq/ ) Tj
ET
BT
230.098 327.883 Td
(for more information\). ) Tj
ET
BT
42.52 302.372 Td
(Here again is the example program in section 1.4 of the DM, now showing a logical) Tj
ET
BT
42.52 289.616 Td
(operation: ) Tj
ET
BT
/F8 6.053 Tf
42.52 245.735 Td
( [ Main x y;) Tj
ET
BT
42.52 239.613 Td
(   x=100; y=20;) Tj
ET
BT
42.52 233.49 Td
(   print "Today's number is ", x && y, ".^"; ) Tj
ET
BT
42.52 227.367 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 201.855 Td
(This outputs: ) Tj
ET
BT
/F8 6.053 Tf
42.52 157.975 Td
( Today's number is 1. ) Tj
ET
BT
/F6 9.87 Tf
42.52 126.34 Td
(and if you change "y=20;" to become "y=0;", you'll get: ) Tj
ET
endstream
endobj
>>
137 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 138 0 R
>>
endobj
138 0 obj
<</Length 3004>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Bitwise and Logical Operators in Inform) Tj
ET
BT
42.52 42.52 Td
(60) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
( Today's number is 0. ) Tj
ET
BT
/F6 9.87 Tf
42.52 549.326 Td
(The examples in this section have shown the logical operators testing the values) Tj
ET
BT
42.52 536.57 Td
(of variables x and y. More commonly, though, you find them working on the) Tj
ET
BT
42.52 523.814 Td
(outcome of the conditional operators. For example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 479.934 Td
( \(x > y\) && \(x < z\) ) Tj
ET
BT
/F6 9.87 Tf
42.52 448.299 Td
(evaluates to 1 if x is greater than y and less than z, and otherwise to 0. Another) Tj
ET
BT
42.52 435.543 Td
(example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 391.663 Td
( \(x == 7\) || \(y == 52\) ) Tj
ET
BT
/F6 9.87 Tf
42.52 360.028 Td
(evaluates to 1 if x is 7 or if y is 52, otherwise to 0. ) Tj
ET
BT
42.52 334.517 Td
(Here's a more interesting example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 290.636 Td
( Object box "box" Physics_lab) Tj
ET
BT
42.52 284.513 Td
(  with name 'black' 'box',) Tj
ET
BT
42.52 278.391 Td
(   description "It's a box with a strange mechanism attached to it.";) Tj
ET
BT
42.52 272.268 Td
(   before [; ) Tj
ET
BT
42.52 266.145 Td
(      Open: if \(Schroedinger in Physics_lab || student in Physics_lab\) ) Tj
ET
BT
42.52 260.022 Td
(                 "~Halt!~, screams a voice, ~You arre interrferring vith a most ) Tj
ET
BT
42.52 253.899 Td
(                 necessarry experriment!~";) Tj
ET
BT
42.52 247.776 Td
(   ],) Tj
ET
BT
42.52 241.654 Td
(   after [; ) Tj
ET
BT
42.52 235.531 Td
(      Open: if \(kitten in self && radiation_source has is_decayed\)) Tj
ET
BT
42.52 229.408 Td
(                 "There's a dead kitten inside the box.";) Tj
ET
BT
42.52 223.285 Td
(     ],) Tj
ET
BT
42.52 217.162 Td
( has static container openable;) Tj
ET
BT
/F6 9.87 Tf
42.52 191.65 Td
(The ) Tj
ET
BT
/F5 9.87 Tf
62.269 191.65 Td
(before) Tj
ET
BT
/F6 9.87 Tf
92.432 191.65 Td
( routine intercepts the player's curiosity if ) Tj
ET
BT
/F4 9.87 Tf
273.141 191.65 Td
(either) Tj
ET
BT
/F6 9.87 Tf
297.825 191.65 Td
( Erwin Schroedinger ) Tj
ET
BT
/F4 9.87 Tf
389.428 191.65 Td
(or) Tj
ET
BT
/F6 9.87 Tf
398.203 191.65 Td
() Tj
ET
BT
42.52 178.894 Td
(his student are hanging around in the physics' laboratory. The ) Tj
ET
BT
/F5 9.87 Tf
314.871 178.894 Td
(after) Tj
ET
BT
/F6 9.87 Tf
336.259 178.894 Td
( routine shows) Tj
ET
BT
42.52 166.139 Td
(the macabre contents of the box if there is a kitten inside ) Tj
ET
BT
/F4 9.87 Tf
292.14 166.139 Td
(and) Tj
ET
BT
/F6 9.87 Tf
308.603 166.139 Td
( if the radiation) Tj
ET
BT
42.52 153.383 Td
(source has decayed \(releasing the infamous poison gas\). ) Tj
ET
BT
/F5 9.87 Tf
42.52 127.871 Td
(4. Comparing Bitwise and Logical operators ) Tj
ET
BT
/F6 9.87 Tf
42.52 102.359 Td
(The bitwise and logical operators are ) Tj
ET
BT
/F4 9.87 Tf
206.538 102.359 Td
(similar) Tj
ET
BT
/F6 9.87 Tf
235.043 102.359 Td
( because: ) Tj
ET
endstream
endobj
>>
139 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 140 0 R
>>
endobj
140 0 obj
<</Length 2433>>
stream
BT
0 g
/F4 9.87 Tf
336.17 623.48 Td
(Sonja Kesserich) Tj
ET
BT
396.505 42.52 Td
(61) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F7 12.61 Tf
28.346 568.205 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
( they use the same names: AND, OR and NOT.) Tj
ET
BT
/F7 12.61 Tf
28.346 529.937 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 529.937 Td
( they use the same symbols: & | ~ for the bitwise operators, && || ~~ for the logical) Tj
ET
BT
42.52 517.181 Td
(operators.) Tj
ET
BT
42.52 491.669 Td
(However, they are ) Tj
ET
BT
/F4 9.87 Tf
125.348 491.669 Td
(different) Tj
ET
BT
/F6 9.87 Tf
161.008 491.669 Td
( because: ) Tj
ET
BT
/F7 12.61 Tf
28.346 453.402 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
(the bitwise operators treat each of the 16 \(or 32\) bits in a number individually) Tj
ET
BT
42.52 440.646 Td
(\(roughly like the arithmetic operators do\), whereas the logical operators consider all) Tj
ET
BT
42.52 427.89 Td
(16 \(or 32\) bits as a single entity \(roughly like the conditional operators do\). ) Tj
ET
BT
/F7 12.61 Tf
28.346 389.622 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 389.622 Td
(the result of a bitwise operation can be any numeric value \(for the Z-machine,) Tj
ET
BT
42.52 376.866 Td
(-32768..0..32767\), whereas the result of a logical operation can only ever be 0 or) Tj
ET
BT
42.52 364.11 Td
(1. ) Tj
ET
BT
42.52 338.598 Td
(The differences are important because, if you use the wrong operator, your game) Tj
ET
BT
42.52 325.843 Td
(will still compile; worse, it will work correctly ) Tj
ET
BT
/F4 9.87 Tf
234.993 325.843 Td
(some of the time) Tj
ET
BT
/F6 9.87 Tf
307.952 325.843 Td
(. For example, this) Tj
ET
BT
42.52 313.087 Td
(statement: ) Tj
ET
BT
/F8 6.053 Tf
42.52 269.206 Td
( if \(x && y\) print "CORRECT^"; ) Tj
ET
BT
/F6 9.87 Tf
42.52 243.694 Td
(prints CORRECT if both x or y are ) Tj
ET
BT
/F5 9.87 Tf
194.448 243.694 Td
(true) Tj
ET
BT
/F6 9.87 Tf
213.092 243.694 Td
( \(that is, non-zero\). This statement is) Tj
ET
BT
42.52 230.939 Td
(probably wrong: ) Tj
ET
BT
/F8 6.053 Tf
42.52 187.058 Td
( if \(x & y\) print "DUBIOUS^"; ) Tj
ET
BT
/F6 9.87 Tf
42.52 161.546 Td
(because it will print DUBIOUS if the operation x&y evaluates to a non-zero quantity) Tj
ET
BT
42.52 148.791 Td
(\(the bit patterns of x and y must have one digit set to 1 in the same position\).) Tj
ET
BT
42.52 136.035 Td
(Here's another example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 92.154 Td
( if \(~~x\) print "CORRECT^"; ) Tj
ET
endstream
endobj
>>
141 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 142 0 R
>>
endobj
142 0 obj
<</Length 2965>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Bitwise and Logical Operators in Inform) Tj
ET
BT
42.52 42.52 Td
(62) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(print CORRECT if x is ) Tj
ET
BT
/F5 9.87 Tf
141.229 568.205 Td
(false) Tj
ET
BT
/F6 9.87 Tf
163.723 568.205 Td
( \(that is, zero\). This statement is also probably wrong: ) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( if \(~x\) print "DUBIOUS^"; ) Tj
ET
BT
/F6 9.87 Tf
42.52 498.813 Td
(because it will print DUBIOUS for ) Tj
ET
BT
/F4 9.87 Tf
190.608 498.813 Td
(all values of x) Tj
ET
BT
/F6 9.87 Tf
250.4 498.813 Td
( apart from -1. ) Tj
ET
BT
/F5 9.87 Tf
42.52 473.301 Td
(5. A "bit" of praxis ) Tj
ET
BT
/F6 9.87 Tf
42.52 447.789 Td
(As we said, you are not likely to use bitwise operators unless you need to) Tj
ET
BT
42.52 435.033 Td
(perform some low-level data manipulation or become concerned about wasting) Tj
ET
BT
42.52 422.277 Td
(memory. Adam Cadre, author of many superb IF pieces, has published a library) Tj
ET
BT
42.52 409.521 Td
(extension called Flags.h \(it's part of a menu-based conversational system, used to) Tj
ET
BT
42.52 396.765 Td
(manage what had been already said and when\). You will find it here: ) Tj
ET
BT
42.52 371.254 Td
( http://www.ifarchive.org/if-archive/infocom/compilers/inform6/library/contributions/) Tj
ET
BT
42.52 345.742 Td
(At the beginning of this file, he justifies its existence thus: ) Tj
ET
BT
/F8 6.053 Tf
42.52 301.861 Td
( "This is a simple system to provide on/off flags that only take up one bit of memory; thus, ) Tj
ET
BT
42.52 295.739 Td
( there's no need to waste memory by declaring a variable such as "doneflag" or some such, ) Tj
ET
BT
42.52 289.616 Td
( allocating an entire eight bits to a variable that will never be anything other than 0 or 1." ) Tj
ET
BT
/F6 9.87 Tf
42.52 257.981 Td
(You'll find a fine example of bitwise operator's usage in Flags.h, and although it's a) Tj
ET
BT
42.52 245.225 Td
(surprisingly short piece of code, it's not easy to follow until you feel comfortable) Tj
ET
BT
42.52 232.469 Td
(with some topics in Inform, such as arrays, routine calls and return values, and --) Tj
ET
BT
42.52 219.713 Td
(naturally -- bitwise operators. ) Tj
ET
BT
42.52 194.202 Td
(On the other hand, logical operators abound in games. Each time you need to test) Tj
ET
BT
42.52 181.446 Td
(for more than one condition going on \(or definitely ) Tj
ET
BT
/F4 9.87 Tf
262.511 181.446 Td
(not) Tj
ET
BT
/F6 9.87 Tf
276.23 181.446 Td
( going on\) in a given) Tj
ET
BT
42.52 168.69 Td
(scenario, a logical operator will elbow its way into your code with startling ease.) Tj
ET
BT
42.52 155.934 Td
(Let's take a look at some common examples. ) Tj
ET
BT
/F5 9.87 Tf
42.52 130.422 Td
(5.1 Using a logical AND ) Tj
ET
BT
/F6 9.87 Tf
42.52 104.91 Td
(Suppose you want to do something \(here denoted by printing YES\) when x is 1 at) Tj
ET
BT
42.52 92.154 Td
(the same time as y is 2. Here's one way: ) Tj
ET
endstream
endobj
>>
143 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 144 0 R
>>
endobj
144 0 obj
<</Length 1944>>
stream
BT
0 g
/F4 9.87 Tf
336.17 623.48 Td
(Sonja Kesserich) Tj
ET
BT
396.505 42.52 Td
(63) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 549.836 Td
( if \(x == 1\)) Tj
ET
BT
42.52 543.713 Td
(   if \(y == 2\)) Tj
ET
BT
42.52 537.591 Td
(     print "YES^"; ) Tj
ET
BT
42.52 531.468 Td
(   else) Tj
ET
BT
42.52 525.345 Td
(     print "NO^";) Tj
ET
BT
42.52 519.222 Td
( else) Tj
ET
BT
42.52 513.099 Td
(   print "NO^";) Tj
ET
BT
/F6 9.87 Tf
42.52 487.587 Td
(Hard to read, error-prone, repetitious: ugh! Much much better like this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 443.707 Td
( if \(\(x == 1\) && \(y == 2\)\) ) Tj
ET
BT
42.52 437.584 Td
(     print "YES^";) Tj
ET
BT
42.52 431.461 Td
( else) Tj
ET
BT
42.52 425.339 Td
(     print "NO^";) Tj
ET
BT
/F5 9.87 Tf
42.52 399.827 Td
(5.2 Using a logical OR ) Tj
ET
BT
/F6 9.87 Tf
42.52 374.315 Td
(Same sort of thing; you want to do something when x is 1 or when y is 2. The) Tj
ET
BT
42.52 361.559 Td
(clunky way: ) Tj
ET
BT
/F8 6.053 Tf
42.52 317.679 Td
( if \(x == 1\)) Tj
ET
BT
42.52 311.556 Td
(   print "YES^";) Tj
ET
BT
42.52 305.433 Td
( else) Tj
ET
BT
42.52 299.31 Td
(   if \(y == 2\)) Tj
ET
BT
42.52 293.187 Td
(     print "YES^"; ) Tj
ET
BT
42.52 287.065 Td
(   else) Tj
ET
BT
42.52 280.942 Td
(     print "NO^";) Tj
ET
BT
/F6 9.87 Tf
42.52 255.43 Td
(and the sexy way: ) Tj
ET
BT
/F8 6.053 Tf
42.52 211.55 Td
( if \(\(x == 1\) || \(y == 2\)\) ) Tj
ET
BT
42.52 205.427 Td
(   print "YES^";) Tj
ET
BT
42.52 199.304 Td
( else) Tj
ET
BT
42.52 193.181 Td
(   print "NO^";) Tj
ET
BT
/F5 9.87 Tf
42.52 167.669 Td
(5.3 Using a logical NOT ) Tj
ET
BT
/F6 9.87 Tf
42.52 142.157 Td
(You don't want to do anything ) Tj
ET
BT
/F4 9.87 Tf
174.994 142.157 Td
(unless) Tj
ET
BT
/F6 9.87 Tf
203.518 142.157 Td
( x is 1 and y is 2 ) Tj
ET
BT
/F8 6.053 Tf
42.52 98.277 Td
( if \(\(x == 1\) && \(y == 2\)\) ) Tj
ET
BT
42.52 92.154 Td
(   else) Tj
ET
BT
42.52 86.031 Td
( print "YES^";) Tj
ET
endstream
endobj
>>
145 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 146 0 R
>>
endobj
146 0 obj
<</Length 2353>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Bitwise and Logical Operators in Inform) Tj
ET
BT
42.52 42.52 Td
(64) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(It somehow feels 'wrong' to need an ) Tj
ET
BT
/F5 9.87 Tf
202.097 568.205 Td
(else) Tj
ET
BT
/F6 9.87 Tf
221.304 568.205 Td
( clause in these circumstances. Better to) Tj
ET
BT
42.52 555.449 Td
(invert the condition: ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( if\(~~\(\(x == 1\) && \(y == 2\)\)\) ) Tj
ET
BT
42.52 505.446 Td
(   print "YES^";) Tj
ET
BT
/F6 9.87 Tf
42.52 479.934 Td
(or alternatively to recast it thus: ) Tj
ET
BT
/F8 6.053 Tf
42.52 436.054 Td
( if \(\(x ~= 1\) || \(y ~= 2\)\) ) Tj
ET
BT
42.52 429.931 Td
(   print "YES^";) Tj
ET
BT
/F6 9.87 Tf
42.52 404.419 Td
(\(Note: ~~\(A && B\) is the same as \(~~A\) || \(~~B\), and ~~\(A || B\) is the same as) Tj
ET
BT
42.52 391.663 Td
(\(~~A\) && \(~~B\).\) ) Tj
ET
BT
/F5 9.87 Tf
42.52 366.151 Td
(5.4 Avoiding run-time errors ) Tj
ET
BT
/F6 9.87 Tf
42.52 340.639 Td
(One vitally useful technique for avoiding run-time errors relies on the logical) Tj
ET
BT
42.52 327.883 Td
(operators working left-to-right. Suppose you wrote this as part of an object) Tj
ET
BT
42.52 315.128 Td
(definition: ) Tj
ET
BT
/F8 6.053 Tf
42.52 271.247 Td
( if \(child\(self\) has general\) ) Tj
ET
BT
42.52 265.124 Td
(   print "DUBIOUS^";     ) Tj
ET
BT
/F6 9.87 Tf
42.52 233.49 Td
(to test if an object's eldest child object has its ) Tj
ET
BT
/F5 9.87 Tf
241.902 233.49 Td
(general) Tj
ET
BT
/F6 9.87 Tf
277.01 233.49 Td
( attribute set. Unfortunately,) Tj
ET
BT
42.52 220.734 Td
(you'll get a run-time error if the object happens to have no children. Here's how to) Tj
ET
BT
42.52 207.978 Td
(save the day: ) Tj
ET
BT
/F8 6.053 Tf
42.52 164.098 Td
( if \(child\(self\) && child\(self\) has general\) ) Tj
ET
BT
42.52 157.975 Td
(   print "CORRECT^";) Tj
ET
BT
/F6 9.87 Tf
42.52 132.463 Td
(First check if there is a child; then ) Tj
ET
BT
/F4 9.87 Tf
191.724 132.463 Td
(and only then) Tj
ET
BT
/F6 9.87 Tf
250.983 132.463 Td
( test its attribute. Here's a) Tj
ET
BT
42.52 119.707 Td
(similar example for object properties. This may cause an error if object x doesn't) Tj
ET
BT
42.52 106.951 Td
(define a ) Tj
ET
BT
/F5 9.87 Tf
80.381 106.951 Td
(myprop) Tj
ET
BT
/F6 9.87 Tf
116.574 106.951 Td
( property: ) Tj
ET
endstream
endobj
>>
147 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 148 0 R
>>
endobj
148 0 obj
<</Length 2995>>
stream
BT
0 g
/F4 9.87 Tf
336.17 623.48 Td
(Sonja Kesserich) Tj
ET
BT
396.505 42.52 Td
(65) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 562.592 Td
( if \(x.myprop > 5\)) Tj
ET
BT
42.52 556.469 Td
(   print "DUBIOUS^";) Tj
ET
BT
/F6 9.87 Tf
42.52 530.957 Td
(whereas this is safer: ) Tj
ET
BT
/F8 6.053 Tf
42.52 487.077 Td
( if \(x provides myprop && x.myprop > 5\) ) Tj
ET
BT
42.52 480.954 Td
(    print "CORRECT^";) Tj
ET
BT
/F5 9.87 Tf
42.52 442.687 Td
(5.5 Testing many different things ) Tj
ET
BT
/F6 9.87 Tf
42.52 417.175 Td
(You can use conditions to check if an attribute has been set or not, what are the) Tj
ET
BT
42.52 404.419 Td
(objects involved in an action, what action is being carried on, the current state of) Tj
ET
BT
42.52 391.663 Td
(an object property, the value held in a variable... All these may be combined with) Tj
ET
BT
42.52 378.907 Td
(logical operators as need arises. For instance: ) Tj
ET
BT
/F8 6.053 Tf
42.52 335.027 Td
( if \(action == ##AttackWith && noun == troll && second == axe\) {) Tj
ET
BT
42.52 328.904 Td
(    remove axe;) Tj
ET
BT
42.52 322.781 Td
(    "The troll watches politely as the axe hits his head and breaks in a thousand ) Tj
ET
BT
42.52 316.658 Td
(       pieces.  ~Zorry!~, he says, ~It zeemz that I didn't explain mezelf properly. It'z zwordz ) Tj
ET
BT
42.52 310.535 Td
(       that do the trick.";) Tj
ET
BT
42.52 304.413 Td
( }) Tj
ET
BT
42.52 298.29 Td
( if \(location == Fast_food_palace && \(noun == burger || noun == fries\) ) Tj
ET
BT
42.52 292.167 Td
(         && clerk has friendly\)) Tj
ET
BT
42.52 286.044 Td
(    "The clerk checks that nobody's looking and gives you a quick wink.) Tj
ET
BT
42.52 279.921 Td
(       ~I wouldn't recommend that unhealthy stuff, sir. Why don't you try our pizza ) Tj
ET
BT
42.52 273.798 Td
(       instead?~";) Tj
ET
BT
42.52 267.676 Td
( if \(noun provides size && noun.size >= 3 && ) Tj
ET
BT
42.52 261.553 Td
(        rolling_suitcase notin player && ) Tj
ET
BT
42.52 255.43 Td
(     player has exhausted\) print_ret "You try to lift ", \(the\) noun, " but ) Tj
ET
BT
42.52 249.307 Td
(     your arms seem to have other ideas.";) Tj
ET
BT
/F5 9.87 Tf
42.52 211.039 Td
(6. Conclusion. ) Tj
ET
BT
/F6 9.87 Tf
42.52 185.528 Td
(As we have seen, bitwise and logical operators behave quite differently from each) Tj
ET
BT
42.52 172.772 Td
(other even if their syntax is roughly similar. In game design, where it's necessary) Tj
ET
BT
42.52 160.016 Td
(to constantly test the current state of objects and situations, logical operators) Tj
ET
BT
42.52 147.26 Td
(become helpful tools to combine conditions, while bitwise operators may be safely) Tj
ET
BT
42.52 134.504 Td
(ignored most of the time -- it never hurts, however, to know what they are and) Tj
ET
BT
42.52 121.748 Td
(do, in case you come across a circumstance where they might prove needful. ) Tj
ET
BT
42.52 96.236 Td
([Thanks a lot to Roger Firth, whose unmerciful editorial pencil was decisive to bring) Tj
ET
endstream
endobj
>>
149 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 150 0 R
>>
endobj
150 0 obj
<</Length 236>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Bitwise and Logical Operators in Inform) Tj
ET
BT
42.52 42.52 Td
(66) Tj
ET
BT
180.566 42.52 Td
(Intermediate Coding) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(this article to its present form.] ) Tj
ET
endstream
endobj
>>
151 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 152 0 R
>>
endobj
152 0 obj
<</Length 239>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
396.505 42.52 Td
(67) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
210.738 333 Td
(Part E) Tj
ET
BT
184.138 320.244 Td
(Advanced Topics) Tj
ET
endstream
endobj
>>
153 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 154 0 R
>>
endobj
154 0 obj
<</Length 144>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(68) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
endstream
endobj
>>
155 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 156 0 R
>>
endobj
156 0 obj
<</Length 3330>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(69) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Inform Extensions Voodoo) Tj
ET
BT
42.52 555.449 Td
(Introduction) Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I341 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(n case you didn't get it from the title, this article describes) Tj
ET
BT
99.213 517.181 Td
(techniques that are useful to Inform extension developers. These) Tj
ET
BT
99.213 504.425 Td
(techniques offer solutions to especially sticky issues that extension) Tj
ET
BT
99.213 491.669 Td
(authors face. They provide reusable code that not only makes life) Tj
ET
BT
42.52 478.913 Td
(easier for the extension developer, but also eases the burden of implementing the) Tj
ET
BT
42.52 466.157 Td
(extension for the game developer. ) Tj
ET
BT
42.52 440.646 Td
(Note the distinction that is made here between "extension developer" and "game) Tj
ET
BT
42.52 427.89 Td
(developer." Yes, I know that there probably isn't an extension developer that hasn't) Tj
ET
BT
42.52 415.134 Td
(written, or at least started writing, a game. Keep in mind, though, that there is a) Tj
ET
BT
42.52 402.378 Td
(whole set of issues that are faced uniquely by authors of reusable extensions. This) Tj
ET
BT
42.52 389.622 Td
(article focuses on such issues, so readers should now take a moment to put on) Tj
ET
BT
42.52 376.866 Td
(their "extension developer" hats to gain the full value of this article. ) Tj
ET
BT
42.52 351.354 Td
(Be forewarned that the examples that follow are not for the light of heart. They) Tj
ET
BT
42.52 338.598 Td
(implement code and techniques that the reader may find less than intuitive \(well,) Tj
ET
BT
42.52 325.843 Td
(maybe the first two aren't so bad\). The rewards, however, far out weigh the) Tj
ET
BT
42.52 313.087 Td
(learning curve associated with them. We'll start then, with the easiest and count) Tj
ET
BT
42.52 300.331 Td
(down to the most difficult... ) Tj
ET
BT
/F5 9.87 Tf
42.52 274.819 Td
(Trick #5: Replacing Replaced functions) Tj
ET
BT
/F6 9.87 Tf
42.52 249.307 Td
(The Replace keyword allows you to substitute your code for code that is defined in) Tj
ET
BT
42.52 236.551 Td
(the standard library. This is a common way of extending the library, and for the) Tj
ET
BT
42.52 223.795 Td
(game developer there is little need to think beyond this. The life of the extension) Tj
ET
BT
42.52 211.039 Td
(developer is not as free as all that, however. Just as extensions tend to replace) Tj
ET
BT
42.52 198.283 Td
("portions" of the standard library in order to add new functionality, so will game) Tj
ET
BT
42.52 185.528 Td
(designers often want to replace "portions" of extensions to special tailor what they) Tj
ET
BT
42.52 172.772 Td
(do. ) Tj
ET
BT
42.52 147.26 Td
(The problem? Because of the way system_file and replace have been) Tj
ET
BT
42.52 134.504 Td
(implemented, this can only be done once. That is, when designated to be replaced,) Tj
ET
BT
42.52 121.748 Td
(all instances of a function that follow the system_file directive \(in a single file\)) Tj
ET
BT
42.52 108.992 Td
(are discarded, and only instances of the function that do not follow the system_file) Tj
ET
BT
42.52 96.236 Td
(directive are included. That is, when an extension replaces a library routine \(all of) Tj
ET
endstream
endobj
>>
157 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 158 0 R
>>
endobj
158 0 obj
<</Length 2844>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Inform Extensions Voodoo) Tj
ET
BT
42.52 42.52 Td
(70) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(which are defined in the context of system_file\), it must define another version of) Tj
ET
BT
42.52 568.205 Td
(that routine not under the system_file context. By definition, this new version) Tj
ET
BT
42.52 555.449 Td
(cannot be replaced. ) Tj
ET
BT
42.52 529.937 Td
(For a real world example, my ORNPCVerb.h module redefines several verbs and) Tj
ET
BT
42.52 517.181 Td
(enables them to be performed by NPCs. Other than that modification, there are no) Tj
ET
BT
42.52 504.425 Td
(changes to the verbs or the way they work. What if a game developer wanted to) Tj
ET
BT
42.52 491.669 Td
(add new functionality to the TakeSub routine? Since he can no longer REPLACE) Tj
ET
BT
42.52 478.913 Td
(this routine, is he forced to modify my library extension directly? Obviously this is) Tj
ET
BT
42.52 466.157 Td
(a bad idea, but thankfully there is another solution, which is very easily done.) Tj
ET
BT
42.52 453.402 Td
(Simply wrap the extension's new definition in conditional compilation directives: ) Tj
ET
BT
/F8 6.053 Tf
42.52 415.644 Td
( Replace TakeSub;) Tj
ET
BT
42.52 403.398 Td
( #ifndef TakeSub;) Tj
ET
BT
42.52 397.276 Td
(   [TakeSub;) Tj
ET
BT
42.52 391.153 Td
(     !--Extension's new TakeSub code here ) Tj
ET
BT
42.52 385.03 Td
(   ];) Tj
ET
BT
42.52 378.907 Td
( #endif;) Tj
ET
BT
/F6 9.87 Tf
42.52 347.272 Td
(This forces Inform to compile the extension's replaced version of TakeSub only if) Tj
ET
BT
42.52 334.517 Td
(the game author hasn't already specified a version of his own. ) Tj
ET
BT
/F5 9.87 Tf
42.52 309.005 Td
(Trick #4: Automatic Initialization) Tj
ET
BT
/F6 9.87 Tf
42.52 283.493 Td
(Sometimes the simplest modifications are the most powerful. This one is a biggie) Tj
ET
BT
42.52 270.737 Td
(for extension developers. Although it is also useful to the game developer \(indeed,) Tj
ET
BT
42.52 257.981 Td
(I use it extensively when writing games\), it is the extension author that gains an) Tj
ET
BT
42.52 245.225 Td
(endless number of possible advantages: ) Tj
ET
BT
/F8 6.053 Tf
42.52 207.468 Td
( Property additive object_initialise; ) Tj
ET
BT
42.52 201.345 Td
( Replace Main;) Tj
ET
BT
42.52 189.099 Td
( [Main o; ) Tj
ET
BT
42.52 182.976 Td
(   objectloop\(o provides object_initialise && o.object_initialise~=0\) ) Tj
ET
BT
42.52 176.854 Td
(        o.object_initialise\(\);) Tj
ET
BT
42.52 170.731 Td
(   InformLibrary.play\(\);) Tj
ET
BT
42.52 164.608 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 132.973 Td
(Okay, I know what you're thinking: "That's it? That's the great key to writing) Tj
ET
BT
42.52 120.217 Td
(library extensions? That's the Mustafa of useful features? You've got to be) Tj
ET
BT
42.52 107.461 Td
(kidding!" ) Tj
ET
endstream
endobj
>>
159 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 160 0 R
>>
endobj
160 0 obj
<</Length 3623>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(71) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(Trust me on this one. This small snippet, transparent if not used, is perhaps the) Tj
ET
BT
42.52 568.205 Td
(single most useful modification that has ever been devised for the extension author.) Tj
ET
BT
42.52 555.449 Td
(It enables a slew of functionality upon which additional extensions can be based,) Tj
ET
BT
42.52 542.693 Td
(and allows for the initialization code of your extension to exist where it belongs:) Tj
ET
BT
42.52 529.937 Td
(actually in your extension. ) Tj
ET
BT
42.52 504.425 Td
(Keep an eye out, because this technique will pop up again in sections that follow. ) Tj
ET
BT
/F5 9.87 Tf
42.52 478.913 Td
(Trick #3:Unified Entry points) Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
(A challenging area that extension developers face deals with the use of Library) Tj
ET
BT
42.52 440.646 Td
(Entry Points \(e.g.: UnknownVerb, ChooseObjects, ParseNoun\). The problem is that) Tj
ET
BT
42.52 427.89 Td
(each of these routines may only be defined once. Thus, if you write an extension) Tj
ET
BT
42.52 415.134 Td
(that enables the use of a "wild-card for matching any collection of objects" \(DM4) Tj
ET
BT
42.52 402.378 Td
(ex. 78\) and another extension which "implements adjectives" \(DM4 ex. 75\), the two) Tj
ET
BT
42.52 389.622 Td
(will conflict since both of these techniques define the ParseNoun entry point. ) Tj
ET
BT
42.52 364.11 Td
(So how can you define two coexisting versions of the same routines? The short) Tj
ET
BT
42.52 351.354 Td
(answer is that you can't. That is why game developers have always been forced to) Tj
ET
BT
42.52 338.598 Td
(cut and paste the algorithms from two versions of an Entry Point routine into one) Tj
ET
BT
42.52 325.843 Td
(and try to make sure that the two segments of combined code don't conflict. ) Tj
ET
BT
42.52 300.331 Td
(It would be nice if there was such a thing as additive routines, just as there are) Tj
ET
BT
42.52 287.575 Td
(additive properties. There isn't, but it is possible to simulate this idea by creating) Tj
ET
BT
42.52 274.819 Td
(a list of routines and calling them until a specific value is returned \(or not returned) Tj
ET
BT
42.52 262.063 Td
(as is the case below\). The following object is an implementation of this idea: ) Tj
ET
BT
/F8 6.053 Tf
42.52 224.306 Td
( object AdditiveUnknownVerb) Tj
ET
BT
42.52 218.183 Td
(   with    routines 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0) Tj
ET
BT
42.52 212.06 Td
(   , num_routines 0) Tj
ET
BT
42.52 205.937 Td
(   , add_routine[rout;) Tj
ET
BT
42.52 199.814 Td
(      \(self.&routines-->\(self.num_routines\)\)=rout;) Tj
ET
BT
42.52 193.691 Td
(      self.num_routines++;) Tj
ET
BT
42.52 187.569 Td
(    ]) Tj
ET
BT
42.52 181.446 Td
(   , run_until_not[untilnotval one two three four five six t retval; ) Tj
ET
BT
42.52 175.323 Td
(      retval=untilnotval;) Tj
ET
BT
42.52 169.2 Td
(      for\(t=0:t<self.num_routines:t++\){) Tj
ET
BT
42.52 163.077 Td
(           if\(\(self.&routines-->t\)~=0\)) Tj
ET
BT
42.52 156.954 Td
(                retval=\(\(self.&routines-->t\)\(one, two,three, ) Tj
ET
BT
42.52 150.831 Td
(                           four, five, six\)\);) Tj
ET
BT
42.52 144.709 Td
(           if\(retval~=untilnotval\) return retval;) Tj
ET
BT
42.52 138.586 Td
(        }) Tj
ET
BT
42.52 132.463 Td
(        return retval;) Tj
ET
BT
42.52 126.34 Td
(      ]) Tj
ET
BT
42.52 120.217 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 88.583 Td
(It is now fairly straight forward to define a generic entry point routine that does) Tj
ET
endstream
endobj
>>
161 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 162 0 R
>>
endobj
162 0 obj
<</Length 3001>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Inform Extensions Voodoo) Tj
ET
BT
42.52 42.52 Td
(72) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(nothing but call our object for results \(We'll use the UnknownVerb entry point\): ) Tj
ET
BT
/F8 6.053 Tf
42.52 543.203 Td
( [UnknownVerb;) Tj
ET
BT
42.52 537.08 Td
(   return AdditiveUnknownVerb.run_until_not\(false\); ) Tj
ET
BT
42.52 530.957 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 499.323 Td
(Consider the above a mini-framework for extending UnknownVerb. Alone it) Tj
ET
BT
42.52 486.567 Td
(accomplishes nothing in terms of UnknownVerb behavior, yet we now have gained) Tj
ET
BT
42.52 473.811 Td
(the ability to allow multiple definitions of UnknownVerb to coexist and have them all) Tj
ET
BT
42.52 461.055 Td
(execute in turn. ) Tj
ET
BT
42.52 435.543 Td
(To exemplify this, we'll use two pre-existing versions of UnknownVerb \(changing) Tj
ET
BT
42.52 422.787 Td
(only the names\). The first is based upon the ) Tj
ET
BT
237.273 422.787 Td
(Teleport.inf) Tj
ET
BT
286.643 422.787 Td
( example, written by) Tj
ET
BT
42.52 410.031 Td
(Michael Huang, which allows the player to teleport from one room to another by) Tj
ET
BT
42.52 397.276 Td
(simply stating the name of the room: ) Tj
ET
BT
/F8 6.053 Tf
42.52 359.518 Td
( [UVTeleport word place; !--UnknownVerb code) Tj
ET
BT
42.52 353.395 Td
(   objectloop \(place has teleport\){) Tj
ET
BT
42.52 347.272 Td
(     if\(WordInProperty\(word,place,name\)\){ ) Tj
ET
BT
42.52 341.15 Td
(        verb_wordnum=0;) Tj
ET
BT
42.52 335.027 Td
(        return 'teleport.room';) Tj
ET
BT
42.52 328.904 Td
(     }) Tj
ET
BT
42.52 322.781 Td
(   }) Tj
ET
BT
42.52 316.658 Td
(   rfalse;) Tj
ET
BT
42.52 310.535 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 278.901 Td
(Consider this definition to be part of extension one. The second definition of) Tj
ET
BT
42.52 266.145 Td
(UnknownVerb is based upon code from the ORLibrary module ORMagic.h which) Tj
ET
BT
42.52 253.389 Td
(allows magic spells to be cast by name, rather than forcing the player to use the) Tj
ET
BT
42.52 240.633 Td
("cast" verb. Consider this code to exist in extension two: ) Tj
ET
BT
/F8 6.053 Tf
42.52 202.876 Td
( [UVCast word obj; !--UnknownVerb code) Tj
ET
BT
42.52 196.753 Td
(   objectloop\(obj ofclass\(ORMagic\)\){) Tj
ET
BT
42.52 190.63 Td
(      if\(WordInProperty\(word,place,name\)&& obj.IsKnownBy\(actor\)\){ ) Tj
ET
BT
42.52 184.507 Td
(        verb_wordnum=0;) Tj
ET
BT
42.52 178.384 Td
(        return 'cast';) Tj
ET
BT
42.52 172.261 Td
(      }) Tj
ET
BT
42.52 166.139 Td
(    }) Tj
ET
BT
42.52 160.016 Td
(    rfalse;) Tj
ET
BT
42.52 153.893 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 122.258 Td
(All that is needed to allow these two routines to coexist is to simply register them) Tj
ET
BT
42.52 109.502 Td
(with our list. Although this traditionally would have been done by instructing the) Tj
ET
BT
42.52 96.746 Td
(game developer to add certain lines to his initialise routine, the object_initialise) Tj
ET
endstream
endobj
>>
163 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 164 0 R
>>
endobj
164 0 obj
<</Length 3071>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(73) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(functionality which we discussed previously really shines here and eliminates the) Tj
ET
BT
42.52 568.205 Td
(game author's requirements to do anything other than include your extensions: ) Tj
ET
BT
/F8 6.053 Tf
42.52 530.447 Td
( !-- define in extension one) Tj
ET
BT
42.52 524.324 Td
( object with object_initialise[;) Tj
ET
BT
42.52 518.202 Td
(    AdditiveUnknownVerb.add_routine\(UVTeleport\);]; ) Tj
ET
BT
42.52 505.956 Td
( !-- define in extension two) Tj
ET
BT
42.52 499.833 Td
( object with object_initialise[;) Tj
ET
BT
42.52 493.71 Td
(    AdditiveUnknownVerb.add_routine\(UVCast\);];) Tj
ET
BT
/F6 9.87 Tf
42.52 462.076 Td
(And there you have it -- two implementations of UnknownVerb from two separate) Tj
ET
BT
42.52 449.32 Td
(extensions working together instead of conflicting. \(Why can't we all do that and) Tj
ET
BT
42.52 436.564 Td
(just get along?\) ) Tj
ET
BT
/F5 9.87 Tf
42.52 411.052 Td
(Trick #2: Redefining existing objects) Tj
ET
BT
/F6 9.87 Tf
42.52 385.54 Td
(As we've already discussed, when modifying the standard library's behavior,) Tj
ET
BT
42.52 372.784 Td
(extensions traditionally leverage Inform's REPLACE directive. This works well) Tj
ET
BT
42.52 360.028 Td
(enough with stand alone routines, but there is a great deal of code in the standard) Tj
ET
BT
42.52 347.272 Td
(library that is NOT contained in stand alone routines and so cannot be replaced) Tj
ET
BT
42.52 334.517 Td
(with the "replace" directive. Instead, this code is contained in objects. The) Tj
ET
BT
42.52 321.761 Td
(InformLibrary object is particularly noteworthy for this, and historically it has not) Tj
ET
BT
42.52 309.005 Td
(been an easy task to write a library extension which modifies the code contained in) Tj
ET
BT
42.52 296.249 Td
(the InformLibrary object. Instead, many authors resort to writing down instructions) Tj
ET
BT
42.52 283.493 Td
(for their modifications to a standard library file, like "First change the lines) Tj
ET
BT
42.52 270.737 Td
(starting at 638 of the parserm.h file which reads as ... to instead appear as ..." Not) Tj
ET
BT
42.52 257.981 Td
(the easiest solution, but there is another way. ) Tj
ET
BT
42.52 232.469 Td
(It is fairly easy to substitute an object's property definition with another definition at) Tj
ET
BT
42.52 219.713 Td
(runtime: ) Tj
ET
BT
/F8 6.053 Tf
42.52 181.956 Td
( [NewPlay; !--a modified version of InformLibrary.play\(\) ) Tj
ET
BT
42.52 175.833 Td
(    ...code goes here) Tj
ET
BT
42.52 169.71 Td
( ];) Tj
ET
BT
42.52 163.587 Td
( [Initialise;) Tj
ET
BT
42.52 157.465 Td
(   InformLibrary.play=NewPlay; !--replace with new version ) Tj
ET
BT
42.52 151.342 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 119.707 Td
(Of course an extension could leverage the object_initialise technique that we) Tj
ET
BT
42.52 106.951 Td
(discussed above to eliminate the game designer from having to code anything in) Tj
ET
BT
42.52 94.195 Td
(Initialise. ) Tj
ET
endstream
endobj
>>
165 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 166 0 R
>>
endobj
166 0 obj
<</Length 3072>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Inform Extensions Voodoo) Tj
ET
BT
42.52 42.52 Td
(74) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(A more complete and somewhat more elegant form of this involves creation of an) Tj
ET
BT
42.52 555.449 Td
(object that scans its own collection of properties and compares them to the) Tj
ET
BT
42.52 542.693 Td
(properties of a destination object, replacing the ones with the same name. The) Tj
ET
BT
42.52 529.937 Td
(following class does this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 492.18 Td
( class RedefineObject) Tj
ET
BT
42.52 486.057 Td
(   with dest_object 0 ) Tj
ET
BT
42.52 479.934 Td
(   , object_initialise[i count;) Tj
ET
BT
42.52 473.811 Td
(         count = #identifiers_table-->0;) Tj
ET
BT
42.52 467.688 Td
(         for\(i=4:i<=count:i++\){ ) Tj
ET
BT
42.52 461.565 Td
(            if\(self provides i && self.dest_object provides i\){ ) Tj
ET
BT
42.52 455.443 Td
(                \(self.dest_object\).i=self.i;) Tj
ET
BT
42.52 449.32 Td
(            }) Tj
ET
BT
42.52 443.197 Td
(         }) Tj
ET
BT
42.52 437.074 Td
(     ]) Tj
ET
BT
42.52 430.951 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 399.317 Td
(Using this class, an extension can redefine multiple properties of any object very) Tj
ET
BT
42.52 386.561 Td
(easily. The following example will redefine both the begin_action and the) Tj
ET
BT
42.52 373.805 Td
(end_turn_sequence routines of the standard library's InformLibrary object: ) Tj
ET
BT
/F8 6.053 Tf
42.52 336.047 Td
( RedefineObject ) Tj
ET
BT
42.52 329.924 Td
(   with dest_object InformLibrary !--destination object ) Tj
ET
BT
42.52 323.802 Td
(   , end_turn_sequence[;) Tj
ET
BT
42.52 317.679 Td
(        !--new end turn code) Tj
ET
BT
42.52 311.556 Td
(     ]) Tj
ET
BT
42.52 305.433 Td
(   , begin_action[;) Tj
ET
BT
42.52 299.31 Td
(        !--new begin action code) Tj
ET
BT
42.52 293.187 Td
(      ]) Tj
ET
BT
42.52 287.065 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 255.43 Td
(It should be noted that unlike the REPLACE directive, the original version of the) Tj
ET
BT
42.52 242.674 Td
(routines still exist since they are redefined at runtime. This is both a blessing and a) Tj
ET
BT
42.52 229.918 Td
(curse, since it is possible to call the prior version of a routine under specific) Tj
ET
BT
42.52 217.162 Td
(circumstances, but only at the cost of an increased code size. ) Tj
ET
BT
42.52 191.65 Td
(And now... drum roll please... ) Tj
ET
BT
/F5 9.87 Tf
42.52 166.139 Td
(Trick #1: Defining/Redefining Library Messages) Tj
ET
BT
/F6 9.87 Tf
42.52 140.627 Td
(What has seemed like a near impossibility faced by extension developers lies in) Tj
ET
BT
42.52 127.871 Td
(the addition or modification of library messages. The standard library leverages) Tj
ET
BT
42.52 115.115 Td
(the "before" property of the user-defined LibraryMessages object to enable the) Tj
ET
BT
42.52 102.359 Td
(game developer to override the messages defined in the language definition file) Tj
ET
BT
42.52 89.603 Td
(\(usually English.h\), but an extension does not have this luxury since the) Tj
ET
endstream
endobj
>>
167 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 168 0 R
>>
endobj
168 0 obj
<</Length 3834>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(75) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(LibraryMessages object can only be defined once. Not only does this keep a) Tj
ET
BT
42.52 568.205 Td
(module from redefining the standard library's messages, it forces the extension) Tj
ET
BT
42.52 555.449 Td
(developer to "hard code" messages into their objects. If the game developer wants) Tj
ET
BT
42.52 542.693 Td
(to adjust the default responses he must modify the extension directly. What we) Tj
ET
BT
42.52 529.937 Td
(really want is an additional level of messages. That is, a place where extensions) Tj
ET
BT
42.52 517.181 Td
(can redefine or create library messages, which can then be redefined by the game) Tj
ET
BT
42.52 504.425 Td
(developer if desired. ) Tj
ET
BT
42.52 478.913 Td
(This can be accomplished by combining some of the techniques described above.) Tj
ET
BT
42.52 466.157 Td
(First, let us make sure that a LibraryMessages object has been defined by the) Tj
ET
BT
42.52 453.402 Td
(player and define one ourselves if they have not: ) Tj
ET
BT
/F8 6.053 Tf
42.52 415.644 Td
( !--create only if not defined by game author) Tj
ET
BT
42.52 409.521 Td
( #ifndef LibraryMessages;  ) Tj
ET
BT
42.52 403.398 Td
(      object LibraryMessages with before[;rfalse;]; ) Tj
ET
BT
42.52 397.276 Td
( #endif;) Tj
ET
BT
/F6 9.87 Tf
42.52 365.641 Td
(Next we can create our "message proxy" which will provide storage for all of the) Tj
ET
BT
42.52 352.885 Td
(new messages that are defined at the extension level. Using Trick #2, this object) Tj
ET
BT
42.52 340.129 Td
(will also reprogram the LibraryMessages object to consider the registered) Tj
ET
BT
42.52 327.373 Td
(extension messages \(deferring to the messages defined by the game author first\): ) Tj
ET
BT
/F8 6.053 Tf
42.52 289.616 Td
( !--Object that maintains a list of Message routines \(Tip #3\) ) Tj
ET
BT
42.52 283.493 Td
( object ExtLibMsgs) Tj
ET
BT
42.52 277.37 Td
(   with routines 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 ) Tj
ET
BT
42.52 271.247 Td
(   , num_routines 0) Tj
ET
BT
42.52 265.124 Td
(   , add_routine[rout;) Tj
ET
BT
42.52 259.002 Td
(       \(self.&routines-->\(self.num_routines\)\)=rout;) Tj
ET
BT
42.52 252.879 Td
(       self.num_routines++;) Tj
ET
BT
42.52 246.756 Td
(     ]) Tj
ET
BT
42.52 240.633 Td
(   , run_until [untilval one two three four five six t retval; ) Tj
ET
BT
42.52 234.51 Td
(         retval=untilnotval;) Tj
ET
BT
42.52 228.387 Td
(         for\(t=0:t<self.num_routines:t++\){) Tj
ET
BT
42.52 222.265 Td
(               if\(\(self.&routines-->t\)~=0\)) Tj
ET
BT
42.52 216.142 Td
(               retval=\(\(self.&routines-->t\)\(one, two,three,) Tj
ET
BT
42.52 210.019 Td
(                              four, five, six\)\);) Tj
ET
BT
42.52 203.896 Td
(               if\(retval==untilval\) return retval;) Tj
ET
BT
42.52 197.773 Td
(         }) Tj
ET
BT
42.52 191.65 Td
(         return retval;) Tj
ET
BT
42.52 185.528 Td
(      ]) Tj
ET
BT
42.52 179.405 Td
(   , routine_holder 0 !--to save the game author's Messages ) Tj
ET
BT
42.52 173.282 Td
(   , object_initialise[; !--Auto setup Tip #4) Tj
ET
BT
42.52 167.159 Td
(         self.routine_holder=LibraryMessages.&before-->0;) Tj
ET
BT
42.52 161.036 Td
(            !--redefining the LibraryMessages object to call ) Tj
ET
BT
42.52 154.913 Td
(            !--our routine instead \(Tip #2\)) Tj
ET
BT
42.52 148.791 Td
(         LibraryMessages.&before-->0=\(self.DoMsg\); ) Tj
ET
BT
42.52 142.668 Td
(      ]) Tj
ET
BT
42.52 136.545 Td
(   , DoMsg[; ) Tj
ET
BT
42.52 130.422 Td
(         if\(ExtLibMsgs.routine_holder\(\)~=true\) ) Tj
ET
BT
42.52 124.299 Td
(               return ExtLibMsgs.run_until\(true\);) Tj
ET
BT
42.52 118.176 Td
(         rtrue;) Tj
ET
BT
42.52 112.054 Td
(   ];) Tj
ET
endstream
endobj
>>
169 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 170 0 R
>>
endobj
170 0 obj
<</Length 2650>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Inform Extensions Voodoo) Tj
ET
BT
42.52 42.52 Td
(76) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(And now, a simple class will provide an interface for extension developers to) Tj
ET
BT
42.52 568.205 Td
(leverage: ) Tj
ET
BT
/F8 6.053 Tf
42.52 530.447 Td
( !-- The class definition used to redefine a message) Tj
ET
BT
42.52 524.324 Td
( class ExtMsg) Tj
ET
BT
42.52 518.202 Td
(   with object_initialise[;) Tj
ET
BT
42.52 512.079 Td
(            ExtLibMsgs.add_routine\(self.body\); ) Tj
ET
BT
42.52 505.956 Td
(       ]) Tj
ET
BT
42.52 499.833 Td
(   , body 0;) Tj
ET
BT
/F6 9.87 Tf
42.52 468.198 Td
(With the above code in place, the extensions developer can now redefine library) Tj
ET
BT
42.52 455.443 Td
(messages from multiple files in multiple places without conflicting with the game) Tj
ET
BT
42.52 442.687 Td
(author's LibraryMessages Definition. For example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 404.929 Td
( ExtMsg with body[;) Tj
ET
BT
42.52 398.806 Td
(   Jump: if\(location has hollow\) "Loud echoes announce that ) Tj
ET
BT
42.52 392.683 Td
(          you are jumping.";) Tj
ET
BT
42.52 386.561 Td
(   Wave: "You practice your break-dancing and do the wave."; ) Tj
ET
BT
42.52 380.438 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 348.803 Td
(Note that this redefined message can be defined anywhere, unlike the) Tj
ET
BT
42.52 336.047 Td
(InformLibrary object which must be defined specifically between Parser.h and) Tj
ET
BT
42.52 323.291 Td
(VerbLib.h. ) Tj
ET
BT
/F5 9.87 Tf
42.52 297.78 Td
(Conclusion) Tj
ET
BT
/F6 9.87 Tf
42.52 272.268 Td
(Okay. As I often say in my articles, the examples given above are just that -) Tj
ET
BT
42.52 259.512 Td
(examples. They are intended to communicate the concepts, but several of the tips) Tj
ET
BT
42.52 246.756 Td
(have been implemented better in the ORLibrary. If you are considering leveraging) Tj
ET
BT
42.52 234 Td
(some of these ideas in your own extensions, it might behoove you to review some) Tj
ET
BT
42.52 221.244 Td
(of the related ORLibrary modules. The code there is more fleshed out, have been) Tj
ET
BT
42.52 208.488 Td
(written to support GLULX, and can serve as an example of real-world) Tj
ET
BT
42.52 195.732 Td
(implementation. ) Tj
ET
BT
42.52 170.22 Td
(Additionally, there are a couple of other "Tips" that I did not put in this article) Tj
ET
BT
42.52 157.465 Td
(but which nevertheless target the same extension-developer audience. These can) Tj
ET
BT
42.52 144.709 Td
(be found in the following articles: ) Tj
ET
BT
42.52 119.197 Td
(Building a Personal library) Tj
ET
BT
42.52 93.685 Td
(And ) Tj
ET
endstream
endobj
>>
171 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 172 0 R
>>
endobj
172 0 obj
<</Length 228>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(77) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(Using "system_file" and "replace" In the Same Source File) Tj
ET
endstream
endobj
>>
173 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 174 0 R
>>
endobj
174 0 obj
<</Length 3208>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs: Introduction) Tj
ET
BT
42.52 42.52 Td
(78) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Advanced NPC Creation: Introduction) Tj
ET
q
51.024 0 0 44.646 42.52 517.181 cm
/I338 Do
Q
BT
/F6 9.87 Tf
99.213 555.449 Td
(he creation of a believable non-player character \(NPC\) is, at times, a) Tj
ET
BT
99.213 542.693 Td
(daunting task. In part, this is because there is such breadth in the) Tj
ET
BT
99.213 529.937 Td
(spectrum of detail that can be given to an NPC, but even this is just) Tj
ET
BT
99.213 517.181 Td
(an element of the bigger truth: NPCs represent people, and people) Tj
ET
BT
42.52 504.425 Td
(know people. ) Tj
ET
BT
42.52 478.913 Td
(Unlike a book or a mirror, a person is alive. Living things by their very nature are) Tj
ET
BT
42.52 466.157 Td
(not static. Even basic creatures, like a cat \(no offense cat lovers!\) walk around.) Tj
ET
BT
42.52 453.402 Td
(They move with purpose, or perhaps they just wander aimlessly. ) Tj
ET
BT
42.52 427.89 Td
(Living things also interact with the world around them. More than just seeking the) Tj
ET
BT
42.52 415.134 Td
(warmth of a sunspot, cats knock things off counters and mercilessly attack helpless) Tj
ET
BT
42.52 402.378 Td
(pairs of house shoes. They interact with other living creatures in different ways,) Tj
ET
BT
42.52 389.622 Td
(such as rubbing against their legs or hoping into their laps. They also respond to) Tj
ET
BT
42.52 376.866 Td
(interaction, like purring when pet. ) Tj
ET
BT
42.52 351.354 Td
(People are even more complex, since they speak. Not only do they respond to) Tj
ET
BT
42.52 338.598 Td
(questions, but they also initiate conversion. Language itself further adds to the) Tj
ET
BT
42.52 325.843 Td
(complexity, since people learn. They can be told something, or read about it, and) Tj
ET
BT
42.52 313.087 Td
(then relay that information to another person in conversation. ) Tj
ET
BT
42.52 287.575 Td
(To some degree a player will expect these things from an NPC, too. Players of) Tj
ET
BT
42.52 274.819 Td
(interactive fiction, new or experienced, experiment with the world in which they are) Tj
ET
BT
42.52 262.063 Td
(playing. The player knows what happens in real life and tries actions to see if they) Tj
ET
BT
42.52 249.307 Td
(work in the game. ) Tj
ET
BT
42.52 223.795 Td
(Players will invariably test to see what the NPCs are capable of. They understand) Tj
ET
BT
42.52 211.039 Td
(intuitively that people are subjective and that they may choose to either do) Tj
ET
BT
42.52 198.283 Td
(something or refuse to do something simply because they are in a good or bad) Tj
ET
BT
42.52 185.528 Td
(mood. When dealing with people who refuse them, players will often attempt) Tj
ET
BT
42.52 172.772 Td
(persuasion by complimenting, or trying to establishing a camaraderie with a) Tj
ET
BT
42.52 160.016 Td
(character. They may even attempt bribery. ) Tj
ET
BT
42.52 134.504 Td
(What the NPC is capable of will add to its believability. The NPC's believability) Tj
ET
BT
42.52 121.748 Td
(will add to the player's enjoyment and therefore overall assessment of the game. ) Tj
ET
BT
42.52 96.236 Td
(So what's the big deal? ) Tj
ET
endstream
endobj
>>
175 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 176 0 R
>>
endobj
176 0 obj
<</Length 2086>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(79) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(A believable NPC is just not an easy thing to accomplish. ) Tj
ET
BT
42.52 542.693 Td
(This multi-part article series will describe some of the hurdles that are) Tj
ET
BT
42.52 529.937 Td
(encountered when developing NPCs, describe design principals that can be used) Tj
ET
BT
42.52 517.181 Td
(to address these hurdles, and give INFORM specific examples of implementing the) Tj
ET
BT
42.52 504.425 Td
(principals. The examples vary in complexity and are implemented with) Tj
ET
BT
42.52 491.669 Td
(intermediate to advanced coding techniques. These techniques include: ) Tj
ET
BT
/F7 12.61 Tf
28.346 466.157 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 466.157 Td
(creating new base classes to inherit from) Tj
ET
BT
/F7 12.61 Tf
28.346 453.402 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
(creating new print rules) Tj
ET
BT
/F7 12.61 Tf
28.346 440.646 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 440.646 Td
(extending the standard library) Tj
ET
BT
/F7 12.61 Tf
28.346 427.89 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 427.89 Td
(replacing the language definition file) Tj
ET
BT
42.52 402.378 Td
(The results are more than worth the effort, however, and include dynamic text) Tj
ET
BT
42.52 389.622 Td
(that reads more naturally, library messages that relate to NPC actions, and a) Tj
ET
BT
42.52 376.866 Td
(more believable, more powerful NPC implementation. ) Tj
ET
BT
42.52 351.354 Td
(For more complete examples of these principals in action, see the ORNPC and) Tj
ET
BT
42.52 338.598 Td
(ORKnowledgeTopic entries in the ORLibrary section of this site. ) Tj
ET
BT
42.52 313.087 Td
(\(Note: at the time if this writing, the ORKnowledge and ORNPC entries are in) Tj
ET
BT
42.52 300.331 Td
(ALPHA state. That is, they are still actively being developed and bugs are being) Tj
ET
BT
42.52 287.575 Td
(ironed out, however they are developed enough to sufficiently serve as example) Tj
ET
BT
42.52 274.819 Td
(code that will compile and run.\) ) Tj
ET
endstream
endobj
>>
177 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 178 0 R
>>
endobj
178 0 obj
<</Length 3117>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 1: Pronouns on Steroids) Tj
ET
BT
42.52 42.52 Td
(80) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Advanced NPCs, part 1: Pronouns on Steroids ) Tj
ET
BT
42.52 555.449 Td
(Common Print Rules) Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I340 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(ometimes writing reusable code is a hassle. This is especially true) Tj
ET
BT
99.213 517.181 Td
(in the case of pronouns. When creating a simple NPC, one may be) Tj
ET
BT
99.213 504.425 Td
(tempted to hard code gender phrasing into text. Sentences like ) Tj
ET
BT
/F8 6.053 Tf
127.559 498.302 Td
(The waiter gives you his pen.) Tj
ET
BT
/F6 9.87 Tf
42.52 472.791 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
70.866 466.668 Td
(The doctor drops her stethoscope.) Tj
ET
BT
/F6 9.87 Tf
42.52 441.156 Td
(may very likely find their way into such an object. Although this seems fine at first) Tj
ET
BT
42.52 428.4 Td
(glance, and indeed IS fine for instances of an object, text written in this way ties) Tj
ET
BT
42.52 415.644 Td
(the object to its gender. Dropping "HER stethoscope" is fine for a female doctor,) Tj
ET
BT
42.52 402.888 Td
(but a male doctor should drop "HIS stethoscope." This can restrict an object's) Tj
ET
BT
42.52 390.132 Td
(reusability and therefore makes it unsuitable for implementation in a class. ) Tj
ET
BT
42.52 377.376 Td
(The Inform Developer's Manual \(fourth edition\) gives a limited example of how to) Tj
ET
BT
42.52 364.62 Td
(deal with this in chapter IV 26 exercise 62 by defining print rules to deal with a) Tj
ET
BT
42.52 351.865 Td
(couple of different forms of pronouns \(nominative and accusative.\) ) Tj
ET
BT
42.52 326.353 Td
(So everyone will be on the same page, lets review one of the examples given in) Tj
ET
BT
42.52 313.597 Td
(a6 page 477: ) Tj
ET
BT
/F8 6.053 Tf
42.52 269.717 Td
( [PronounNom i; !this code snatched from the DM4  ) Tj
ET
BT
42.52 263.594 Td
(   if \(i hasnt animate || i has neuter\) print "it";  ) Tj
ET
BT
42.52 257.471 Td
(      else { ) Tj
ET
BT
42.52 251.348 Td
(         if \(i has female\) print "she";   ) Tj
ET
BT
42.52 245.225 Td
(         else print "he";  ) Tj
ET
BT
42.52 239.102 Td
(      }) Tj
ET
BT
42.52 232.98 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 201.345 Td
(This routine, and the others like it, simply checks for the existence of the) Tj
ET
BT
42.52 188.589 Td
(appropriate gender attributes and prints out the correct pronoun \(i.e.: "him," "her,") Tj
ET
BT
42.52 175.833 Td
(or "it."\) The example in the manual is, I think, intended to point us in the right) Tj
ET
BT
42.52 163.077 Td
(direction without really addressing all possibilities. That's for us to do. ) Tj
ET
BT
/F5 9.87 Tf
42.52 137.565 Td
(Why Are There So Many Pronouns?) Tj
ET
BT
/F6 9.87 Tf
42.52 112.054 Td
(Some readers may not immediately recognize the references to "Nominative" or) Tj
ET
BT
42.52 99.298 Td
("Accusative" forms of a noun or pronoun. Many people, way back in grammar) Tj
ET
BT
42.52 86.542 Td
(school, learned instead to call these "subject of a sentence" and "object of a) Tj
ET
endstream
endobj
>>
179 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F9 9 0 R
/F7 7 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 180 0 R
>>
endobj
180 0 obj
<</Length 3565>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(81) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(sentence." Once upon a time, in languages other than English, all nouns had) Tj
ET
BT
42.52 568.205 Td
(different forms based upon their placement in the sentence. Ancient Greek, for) Tj
ET
BT
42.52 555.449 Td
(instance, has four \(actually five, but only four of significance\). These are: ) Tj
ET
BT
/F7 12.61 Tf
28.346 517.181 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 517.181 Td
(Nominative \(subject of the sentence\)) Tj
ET
BT
/F7 12.61 Tf
28.346 504.425 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 504.425 Td
(Accusative \(object of the sentence\)) Tj
ET
BT
/F7 12.61 Tf
28.346 491.669 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 491.669 Td
(Genitive \(noun possessing or qualifying another noun\) ) Tj
ET
BT
/F7 12.61 Tf
28.346 478.913 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 478.913 Td
(dative \(receiver of the object\)) Tj
ET
BT
42.52 453.402 Td
(These correlate exactly with how nouns are used in a sentence. For example: ) Tj
ET
BT
/F8 6.053 Tf
70.866 441.156 Td
("The ) Tj
ET
BT
/F9 6.053 Tf
89.024 441.156 Td
(king) Tj
ET
BT
/F8 6.053 Tf
137.475 441.156 Td
(: nominative \(subject of sentence\)) Tj
ET
BT
70.866 430.074 Td
(put the ) Tj
ET
BT
/F9 6.053 Tf
99.919 430.074 Td
(wife) Tj
ET
BT
/F8 6.053 Tf
137.475 430.074 Td
(: accusative \(object of sentence, what was put\)) Tj
ET
BT
70.866 418.991 Td
(of the ) Tj
ET
BT
/F9 6.053 Tf
96.287 418.991 Td
(banker) Tj
ET
BT
/F8 6.053 Tf
137.475 418.991 Td
(: genitive \(qualifier of the wife\)) Tj
ET
BT
70.866 407.909 Td
(in the ) Tj
ET
BT
/F9 6.053 Tf
96.287 407.909 Td
(dungeon.) Tj
ET
BT
/F8 6.053 Tf
125.34 407.909 Td
(") Tj
ET
BT
137.475 407.909 Td
(: dative \(receiver of the object\)) Tj
ET
BT
/F6 9.87 Tf
42.52 346.313 Td
(And again: ) Tj
ET
BT
/F8 6.053 Tf
70.866 334.067 Td
("The ) Tj
ET
BT
/F9 6.053 Tf
89.024 334.067 Td
(boy) Tj
ET
BT
/F8 6.053 Tf
141.107 334.067 Td
(: nominative \(subject of sentence\) ) Tj
ET
BT
70.866 322.985 Td
(kicked the ) Tj
ET
BT
/F9 6.053 Tf
110.813 322.985 Td
(girl"s) Tj
ET
BT
/F8 6.053 Tf
141.107 322.985 Td
(: genitive \(owner of the ball\) ) Tj
ET
BT
/F9 6.053 Tf
70.866 311.903 Td
(ball) Tj
ET
BT
/F8 6.053 Tf
141.107 311.903 Td
(: accusative \(object of sentence, what was kicked\) ) Tj
ET
BT
70.866 300.82 Td
(into the ) Tj
ET
BT
/F9 6.053 Tf
103.55 300.82 Td
(creek) Tj
ET
BT
/F8 6.053 Tf
121.708 300.82 Td
(.") Tj
ET
BT
141.107 300.82 Td
(: dative \(receiver of the object\)) Tj
ET
BT
/F6 9.87 Tf
42.52 239.225 Td
(In English, differences between these forms have primarily disappeared. An) Tj
ET
BT
42.52 226.469 Td
(apostrophe "s" has been adapted to show possession, and most nouns are now) Tj
ET
BT
42.52 213.713 Td
(written the same regardless of their placement in the sentence. With pronouns,) Tj
ET
BT
42.52 200.957 Td
(however, they remain in varying degrees. The dative form has all but been) Tj
ET
BT
42.52 188.201 Td
(eliminated and shows up only when nouns affect themselves, but a second genitive) Tj
ET
BT
42.52 175.445 Td
(form also occurs when the qualified noun has been previously described and is so) Tj
ET
BT
42.52 162.689 Td
(obvious as to be left out. ) Tj
ET
BT
42.52 149.933 Td
(See how the masculine pronoun takes a different form depending upon its) Tj
ET
BT
42.52 137.177 Td
(placement: ) Tj
ET
BT
/F8 6.053 Tf
70.866 131.055 Td
(HE gave HIM HIS dog, which was HIS, anyway.) Tj
ET
BT
/F6 9.87 Tf
42.52 92.787 Td
(The last occurrence of the masculine pronoun \("his"\) is the second form of) Tj
ET
endstream
endobj
>>
181 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 182 0 R
>>
endobj
182 0 obj
<</Length 4312>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 1: Pronouns on Steroids) Tj
ET
BT
42.52 42.52 Td
(82) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(possession. In this example the two forms are the same. This is not the case for) Tj
ET
BT
42.52 568.205 Td
(the feminine pronoun: ) Tj
ET
BT
/F8 6.053 Tf
70.866 562.082 Td
(SHE gave HER HER dog, which was HERS, anyway.) Tj
ET
BT
/F6 9.87 Tf
42.52 536.57 Td
(The second form of possessive pronouns occurs when the object possessed is) Tj
ET
BT
42.52 523.814 Td
(obvious and therefore not listed. For example: ) Tj
ET
BT
/F8 6.053 Tf
70.866 517.691 Td
(She took her chocolate, but gave you YOURS.) Tj
ET
BT
/F6 9.87 Tf
42.52 492.18 Td
(does not specify chocolate in the same dependant clause as the pronoun) Tj
ET
BT
42.52 479.424 Td
("YOURS". If it did, then the form of the pronoun would revert to the first) Tj
ET
BT
42.52 466.668 Td
(possessive form and the sentence would read: ) Tj
ET
BT
/F8 6.053 Tf
70.866 460.545 Td
(She took her chocolate, but gave you YOUR chocolate.) Tj
ET
BT
/F5 9.87 Tf
42.52 435.033 Td
(A Plethora of Pronouns) Tj
ET
BT
/F6 9.87 Tf
42.52 409.521 Td
(The following table shows the pronoun for each person, plurality, and gender: ) Tj
ET
BT
/F5 9.87 Tf
42.52 384.009 Td
(Person/Plurality/Gender) Tj
ET
BT
163.472 384.009 Td
(Nom.) Tj
ET
BT
196.651 384.009 Td
(Accus.) Tj
ET
BT
237.518 384.009 Td
(Gen. 1) Tj
ET
BT
276.194 384.009 Td
(Gen. 2) Tj
ET
BT
314.871 384.009 Td
(Dat.) Tj
ET
BT
42.52 370.255 Td
(1P/Sing) Tj
ET
BT
/F6 9.87 Tf
163.472 370.255 Td
(I) Tj
ET
BT
196.651 370.255 Td
(me) Tj
ET
BT
237.518 370.255 Td
(my) Tj
ET
BT
276.194 370.255 Td
(mine) Tj
ET
BT
314.871 370.255 Td
(myself) Tj
ET
BT
/F5 9.87 Tf
42.52 356.589 Td
(1P/Plur) Tj
ET
BT
/F6 9.87 Tf
163.472 356.589 Td
(we) Tj
ET
BT
196.651 356.589 Td
(us) Tj
ET
BT
237.518 356.589 Td
(our) Tj
ET
BT
276.194 356.589 Td
(ours) Tj
ET
BT
314.871 356.589 Td
(ourselves) Tj
ET
BT
/F5 9.87 Tf
42.52 342.923 Td
(2P/Sing*) Tj
ET
BT
/F6 9.87 Tf
163.472 342.923 Td
(you) Tj
ET
BT
196.651 342.923 Td
(you) Tj
ET
BT
237.518 342.923 Td
(your) Tj
ET
BT
276.194 342.923 Td
(yours) Tj
ET
BT
314.871 342.923 Td
(yourself) Tj
ET
BT
/F5 9.87 Tf
42.52 329.257 Td
(2P/Plur*) Tj
ET
BT
/F6 9.87 Tf
163.472 329.257 Td
(you) Tj
ET
BT
196.651 329.257 Td
(you) Tj
ET
BT
237.518 329.257 Td
(your) Tj
ET
BT
276.194 329.257 Td
(yours) Tj
ET
BT
314.871 329.257 Td
(yourselves) Tj
ET
BT
/F5 9.87 Tf
42.52 315.591 Td
(3P/Sing/Masc) Tj
ET
BT
/F6 9.87 Tf
163.472 315.591 Td
(he) Tj
ET
BT
196.651 315.591 Td
(him) Tj
ET
BT
237.518 315.591 Td
(his) Tj
ET
BT
276.194 315.591 Td
(his) Tj
ET
BT
314.871 315.591 Td
(himself) Tj
ET
BT
/F5 9.87 Tf
42.52 301.925 Td
(3P/Sing/Fem) Tj
ET
BT
/F6 9.87 Tf
163.472 301.925 Td
(she) Tj
ET
BT
196.651 301.925 Td
(her) Tj
ET
BT
237.518 301.925 Td
(her) Tj
ET
BT
276.194 301.925 Td
(hers) Tj
ET
BT
314.871 301.925 Td
(herself) Tj
ET
BT
/F5 9.87 Tf
42.52 288.259 Td
(3P/Sing/Neut) Tj
ET
BT
/F6 9.87 Tf
163.472 288.259 Td
(it) Tj
ET
BT
196.651 288.259 Td
(it) Tj
ET
BT
237.518 288.259 Td
(its) Tj
ET
BT
276.194 288.259 Td
(its) Tj
ET
BT
314.871 288.259 Td
(itself) Tj
ET
BT
/F5 9.87 Tf
42.52 274.593 Td
(3P/Plur) Tj
ET
BT
/F6 9.87 Tf
163.472 274.593 Td
(they) Tj
ET
BT
196.651 274.593 Td
(them) Tj
ET
BT
237.518 274.593 Td
(their) Tj
ET
BT
276.194 274.593 Td
(theirs) Tj
ET
BT
314.871 274.593 Td
(their selves) Tj
ET
BT
/F4 9.87 Tf
42.52 222.66 Td
(* As a side note, notice that in modern English, second person pronouns almost) Tj
ET
BT
42.52 209.904 Td
(always are treated as plural even if they represent a singular noun. This was not) Tj
ET
BT
42.52 197.148 Td
(always the case. For a game placed during the reign of King James, it may) Tj
ET
BT
42.52 184.392 Td
(behoove the developer to implement the missing second-person, singular pronouns) Tj
ET
BT
42.52 171.636 Td
(that were commonplace in old-English: Thou, Thee, Thy, Thine, and Thyself,) Tj
ET
BT
42.52 158.88 Td
(respectively.) Tj
ET
BT
/F6 9.87 Tf
42.52 120.612 Td
(Looking at this table, you may be wondering what some of these forms have to do) Tj
ET
BT
42.52 107.857 Td
(with writing an NPC class. Specifically you may wonder about first, and second) Tj
ET
BT
42.52 95.101 Td
(person pronouns as well as the plural pronouns. The answer to this is that you) Tj
ET
endstream
endobj
>>
183 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 184 0 R
>>
endobj
184 0 obj
<</Length 3517>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(83) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(simply don't know how your class may be used in the future. For example, the) Tj
ET
BT
42.52 568.205 Td
(standard library supports the ability to allow the player to become an NPC \(the) Tj
ET
BT
42.52 555.449 Td
(ChangePlayer\(\) library routine\). It may be that phrases like "The troll swings the) Tj
ET
BT
42.52 542.693 Td
(axe" need to become "You swing the ax." ) Tj
ET
BT
42.52 529.937 Td
(Additionally, some library extensions \(such as the OREnglish.h file\) also allow the) Tj
ET
BT
42.52 517.181 Td
(game to change the "person" the narrative is being told in. The story could be told) Tj
ET
BT
42.52 504.425 Td
(in first person and the above example would then need to read, "I swing the axe." ) Tj
ET
BT
42.52 478.913 Td
(Plurality too is not beyond reason since an NPC can be constructed to represent a) Tj
ET
BT
42.52 466.157 Td
(swarm of bees \("They fly after the horse as it runs from them"\) just as it could) Tj
ET
BT
42.52 453.402 Td
(represent Superman \("He flies after the horse as it runs from him."\) A game where) Tj
ET
BT
42.52 440.646 Td
(the player shares a body with an NPC might require first person plurality. Text) Tj
ET
BT
42.52 427.89 Td
(would suddenly need to take the form "We swing the ax" and "We fly after the) Tj
ET
BT
42.52 415.134 Td
(horse as it runs from us." ) Tj
ET
BT
42.52 389.622 Td
(When developing reusable code, it's always best to cover all bases. ) Tj
ET
BT
42.52 364.11 Td
(Enough with design, now the implementation. ) Tj
ET
BT
/F5 9.87 Tf
42.52 338.598 Td
(A Stronger, More Powerful Pronoun Rule) Tj
ET
BT
/F6 9.87 Tf
42.52 313.087 Td
(Using the above chart, we"ll rewrite the PronounNom routine and name it "I" after) Tj
ET
BT
42.52 300.331 Td
(the first person singular pronoun \(remembering the pronoun is a lot easier than) Tj
ET
BT
42.52 287.575 Td
(remembering the name of the case of the pronoun, and first person singular is the) Tj
ET
BT
42.52 274.819 Td
(only form that offers five distinct words for each case\): ) Tj
ET
BT
/F8 6.053 Tf
42.52 230.939 Td
( Default NarativePerson 2; !if not changing the ) Tj
ET
BT
42.52 224.816 Td
(   !narrative, then default ) Tj
ET
BT
42.52 218.693 Td
(   !to second person   ) Tj
ET
BT
42.52 212.57 Td
( [I obj;!Nominative form \(she/he/it/they/I/we/you\)  ) Tj
ET
BT
42.52 206.447 Td
(   if\(obj==player\){  !talking about the player?  ) Tj
ET
BT
42.52 200.324 Td
(      if\(NarativePerson==1\) { !first person?) Tj
ET
BT
42.52 194.202 Td
(         if\(obj has pluralname\) print "we"; ) Tj
ET
BT
42.52 188.079 Td
(         else print "I";) Tj
ET
BT
42.52 181.956 Td
(      }) Tj
ET
BT
42.52 175.833 Td
(      else print "you"; !2nd person, ignore plural  ) Tj
ET
BT
42.52 169.71 Td
(   }) Tj
ET
BT
42.52 163.587 Td
(   else { !not the player, so 3rd person) Tj
ET
BT
42.52 157.465 Td
(      if\(obj has pluralname\) print "they";  ) Tj
ET
BT
42.52 151.342 Td
(      else { ! is singular) Tj
ET
BT
42.52 145.219 Td
(         if \(obj has neuter || obj hasnt animate\)  ) Tj
ET
BT
42.52 139.096 Td
(            print "it";) Tj
ET
BT
42.52 132.973 Td
(         else {) Tj
ET
BT
42.52 126.85 Td
(            if \(obj has female\)  print "she";  ) Tj
ET
BT
42.52 120.728 Td
(            else print "he";) Tj
ET
BT
42.52 114.605 Td
(         }) Tj
ET
BT
42.52 108.482 Td
(      }) Tj
ET
BT
42.52 102.359 Td
(   }) Tj
ET
BT
42.52 96.236 Td
( ];) Tj
ET
endstream
endobj
>>
185 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 186 0 R
>>
endobj
186 0 obj
<</Length 3127>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 1: Pronouns on Steroids) Tj
ET
BT
42.52 42.52 Td
(84) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(In addition to the above print rule named "I", a rule for each of the five cases) Tj
ET
BT
42.52 555.449 Td
(should be implemented, plus additional capitalized versions. By duplicating the) Tj
ET
BT
42.52 542.693 Td
(above example and modifying it just a little, we will end up with ten basic pronoun) Tj
ET
BT
42.52 529.937 Td
(print routines. Specifically, the five lowercase routines: "I", "Me", "My", "Mine",) Tj
ET
BT
42.52 517.181 Td
("Myself", plus the five uppercase version: "CI", "CMe", "CMy", "CMine", and) Tj
ET
BT
42.52 504.425 Td
("CMyself". ) Tj
ET
BT
42.52 491.669 Td
(Using these print rules, it is now possible to write lines of text that literally) Tj
ET
BT
42.52 478.913 Td
(transform themselves based upon their use. Look at the following example for a) Tj
ET
BT
42.52 466.157 Td
(moment: ) Tj
ET
BT
/F8 6.053 Tf
42.52 422.277 Td
( print \(CI\)man, " gave ", \(My\)man," food to ",  ) Tj
ET
BT
42.52 416.154 Td
(   \(Me\)woman,". ", \(CI\)woman," accepted ",  ) Tj
ET
BT
42.52 410.031 Td
(   \(My\)man, " food and then thanked ",\(Me\)man; ) Tj
ET
BT
/F6 9.87 Tf
42.52 378.397 Td
(With two NPCs, one male, one female, this line above would output the following) Tj
ET
BT
42.52 365.641 Td
(text: ) Tj
ET
BT
/F8 6.053 Tf
70.866 359.518 Td
(He gave his food to her. She accepted his food and then thanked him.) Tj
ET
BT
/F6 9.87 Tf
42.52 321.25 Td
(If the player inhabits the object "man" then the text would appear as: ) Tj
ET
BT
/F8 6.053 Tf
70.866 315.128 Td
(You gave your food to her. She accepted your food and then thanked you.) Tj
ET
BT
/F6 9.87 Tf
42.52 289.616 Td
(Or if the NarativePerson variable is equal to 1 \(first person\): ) Tj
ET
BT
/F8 6.053 Tf
70.866 283.493 Td
(I gave my food to her. She accepted my food and then thanked me.) Tj
ET
BT
/F6 9.87 Tf
42.52 257.981 Td
(Or the player could be the woman and the man object could represent a group of) Tj
ET
BT
42.52 245.225 Td
(monks: ) Tj
ET
BT
/F8 6.053 Tf
70.866 239.102 Td
(They gave their food to me. I accepted their food and then thanked them.) Tj
ET
BT
/F6 9.87 Tf
42.52 213.591 Td
(The variations are numerous. ) Tj
ET
BT
/F5 9.87 Tf
42.52 200.835 Td
(Even More Flexibility...) Tj
ET
BT
/F6 9.87 Tf
42.52 175.323 Td
(The whole purpose in having pronouns is to keep from having to repeatedly refer) Tj
ET
BT
42.52 162.567 Td
(to the noun by name. For example, a sentence such as: ) Tj
ET
BT
/F8 6.053 Tf
70.866 156.444 Td
(The troll reached into the troll's bag and pulled out the troll's axe. The troll) Tj
ET
BT
70.866 150.321 Td
(swung the troll's axe and chopped down the troll's tree.) Tj
ET
BT
/F6 9.87 Tf
42.52 124.809 Td
(reads better as: ) Tj
ET
BT
/F8 6.053 Tf
70.866 118.687 Td
(The troll reached into his bag and pulled out his axe. He swung it and chopped down) Tj
ET
BT
70.866 112.564 Td
(his tree.) Tj
ET
BT
/F6 9.87 Tf
42.52 87.052 Td
(Once the noun has been mentioned, it is fine to begin referring to it in pronoun) Tj
ET
endstream
endobj
>>
187 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 188 0 R
>>
endobj
188 0 obj
<</Length 3704>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(85) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(form. It is even desirable to do so. Using the pronoun without first naming the) Tj
ET
BT
42.52 568.205 Td
(noun, however, is confusing. For independent blocks of text, that are displayed) Tj
ET
BT
42.52 555.449 Td
(solely as we write them, this is never a problem since we can be assured that we) Tj
ET
BT
42.52 542.693 Td
(reference the troll first by name, then as a pronoun. NPCs, however, have a) Tj
ET
BT
42.52 529.937 Td
(tendency to do multiple things at different times, and it is not always known what) Tj
ET
BT
42.52 517.181 Td
(text has already been printed. ) Tj
ET
BT
42.52 504.425 Td
(Consider an NPC that moves around, possibly responding to a call, and speaks 50) Tj
ET
BT
42.52 491.669 Td
(percent of the time. Creating text that describes the NPC entering the room and) Tj
ET
BT
42.52 478.913 Td
(another line of text that describes him talking makes it difficult to efficiently) Tj
ET
BT
42.52 466.157 Td
(use pronouns because one of the events may happen without the other, or they) Tj
ET
BT
42.52 453.402 Td
(may both happen together. Assuming both occur, we would like to print the) Tj
ET
BT
42.52 440.646 Td
(following: ) Tj
ET
BT
/F8 6.053 Tf
70.866 434.523 Td
(The troll enters the room. "You called? " he asks.) Tj
ET
BT
/F6 9.87 Tf
42.52 409.011 Td
(If we know that these two sentences will always print together, we can code them) Tj
ET
BT
42.52 396.255 Td
(by referring to the troll with the standard "The" print rule in the first line of text,) Tj
ET
BT
42.52 383.499 Td
(and our specialized "I" print rule in the second line of text. This doesn't really) Tj
ET
BT
42.52 370.743 Td
(work well when the NPC talks without first moving, however, since we would get a) Tj
ET
BT
42.52 357.987 Td
(pronoun without any prior mention of the troll: ) Tj
ET
BT
/F8 6.053 Tf
70.866 351.865 Td
("You called?" he asks.) Tj
ET
BT
/F6 9.87 Tf
42.52 326.353 Td
(This leaves it up to the player to figure out who the pronoun "he" refers to. To) Tj
ET
BT
42.52 313.597 Td
(complicate things further, if the troll is mentioned prior to his entering the room,) Tj
ET
BT
42.52 300.841 Td
(we get duplicated references to the noun. Although this is okay: ) Tj
ET
BT
/F8 6.053 Tf
70.866 294.718 Td
(You blow the whistle to summon the troll. The troll enters the room.) Tj
ET
BT
/F6 9.87 Tf
42.52 269.206 Td
(The pronoun is preferable: ) Tj
ET
BT
/F8 6.053 Tf
70.866 263.083 Td
(You blow the whistle to summon the troll. He enters the room.) Tj
ET
BT
/F6 9.87 Tf
42.52 237.572 Td
(In addition, when two objects are of the same gender, pronoun use can become) Tj
ET
BT
42.52 224.816 Td
(confusing: ) Tj
ET
BT
/F8 6.053 Tf
70.866 218.693 Td
(The barber grimaced at the sheriff. He handed him a badge.) Tj
ET
BT
/F6 9.87 Tf
42.52 193.181 Td
(Who gave whom a badge? The sentence seems to indicate that the barber gave) Tj
ET
BT
42.52 180.425 Td
(the sheriff the badge, but was that really what we intended? In cases such as) Tj
ET
BT
42.52 167.669 Td
(these, it is generally preferable to limit pronoun use to only the first named object) Tj
ET
BT
42.52 154.913 Td
(of any given gender: ) Tj
ET
BT
/F8 6.053 Tf
70.866 148.791 Td
(The barber grimaced at the sheriff. The sheriff handed him a badge.) Tj
ET
BT
/F6 9.87 Tf
42.52 123.279 Td
(Preceding text should also change the pronoun context: ) Tj
ET
BT
/F8 6.053 Tf
70.866 117.156 Td
(The sheriff entered. The barber grimaced at him. He gave the barber a badge.) Tj
ET
BT
/F6 9.87 Tf
42.52 91.644 Td
(Addressing both of these points requires another set of print rules that keeps) Tj
ET
endstream
endobj
>>
189 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 190 0 R
>>
endobj
190 0 obj
<</Length 3185>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 1: Pronouns on Steroids) Tj
ET
BT
42.52 42.52 Td
(86) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(track of the current pronoun-described objects and outputs the name of the object) Tj
ET
BT
42.52 568.205 Td
(if the use of a pronoun would be unclear: ) Tj
ET
BT
/F8 6.053 Tf
42.52 537.08 Td
( Global MPronounObj;) Tj
ET
BT
42.52 530.957 Td
( Global FPronounObj;) Tj
ET
BT
42.52 524.835 Td
( Global NPronounObj;) Tj
ET
BT
42.52 518.712 Td
( [TheI obj checkobj;   ) Tj
ET
BT
42.52 512.589 Td
(   if\(obj hasnt animate || obj has neuter\)  ) Tj
ET
BT
42.52 506.466 Td
(      checkobj=NPronounObj;) Tj
ET
BT
42.52 500.343 Td
(   else {) Tj
ET
BT
42.52 494.22 Td
(      if\(obj has female\) ) Tj
ET
BT
42.52 488.098 Td
(         checkobj=FPronounObj;) Tj
ET
BT
42.52 481.975 Td
(      else ) Tj
ET
BT
42.52 475.852 Td
(         checkobj=MPronounObj;) Tj
ET
BT
42.52 469.729 Td
(   }) Tj
ET
BT
42.52 463.606 Td
(   if\(obj==checkobj\)  print_ret \(I\)obj;) Tj
ET
BT
42.52 457.483 Td
(   print \(the\)obj;) Tj
ET
BT
42.52 451.361 Td
(   if\(checkobj==NULL && obj~=player\){) Tj
ET
BT
42.52 445.238 Td
(      if\(obj hasnt animate || obj has neuter\) ) Tj
ET
BT
42.52 439.115 Td
(         NPronounObj=obj;) Tj
ET
BT
42.52 432.992 Td
(      else {) Tj
ET
BT
42.52 426.869 Td
(         if\(obj has female\) FPronounObj=obj; ) Tj
ET
BT
42.52 420.746 Td
(         else MPronounObj=obj;) Tj
ET
BT
42.52 414.624 Td
(      }) Tj
ET
BT
42.52 408.501 Td
(   }) Tj
ET
BT
42.52 402.378 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 370.743 Td
(Of course nine more rules need to be implemented to cover the rest of the print) Tj
ET
BT
42.52 357.987 Td
(rules developed previously. Additionally, a routine should be created that resets) Tj
ET
BT
42.52 345.231 Td
(pronoun usage by setting the three pronoun variables to NULL: ) Tj
ET
BT
/F8 6.053 Tf
42.52 301.351 Td
( [ClearPronoun; ) Tj
ET
BT
42.52 295.228 Td
(   MPronounObj=FPronounObj=NPronounObj=NULL;];  ) Tj
ET
BT
/F6 9.87 Tf
42.52 263.594 Td
(Now the above example can be demonstrated by the following randomized code) Tj
ET
BT
42.52 250.838 Td
(\(assuming the sheriff and barber objects have been defined appropriately\): ) Tj
ET
BT
/F8 6.053 Tf
42.52 206.957 Td
( ClearPronoun\(\);) Tj
ET
BT
42.52 200.835 Td
( if\(random\(2\)==1\) print \(CTheI\) sheriff," entered. "; ) Tj
ET
BT
42.52 194.712 Td
( if\(random\(2\)==1\) print \(CTheI\) barber," grimaced  ) Tj
ET
BT
42.52 188.589 Td
(   at ",\(theMe\)sheriff,". "; ) Tj
ET
BT
42.52 182.466 Td
( print \(CTheI\)sheriff," gave ",\(theMe\)barber,"  ) Tj
ET
BT
42.52 176.343 Td
(   a badge.";) Tj
ET
BT
/F5 9.87 Tf
42.52 144.709 Td
(Verb and \(pro\)Noun agreement...) Tj
ET
BT
/F6 9.87 Tf
42.52 131.953 Td
(The reader may have noticed that many of the examples above have been given in) Tj
ET
BT
42.52 119.197 Td
(past tense. This is not only to demonstrate diversity, but also for the sake of) Tj
ET
BT
42.52 106.441 Td
(clarity, since it avoids a quirk in the English language that should be discussed) Tj
ET
BT
42.52 93.685 Td
(now. Specifically it is the agreement of verbs with their Nominative noun's) Tj
ET
endstream
endobj
>>
191 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 192 0 R
>>
endobj
192 0 obj
<</Length 2618>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(87) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(plurality when described in third person, present tense. ) Tj
ET
BT
42.52 555.449 Td
(Yeah, I know, it sounds confusing, but English speakers understand this on an) Tj
ET
BT
42.52 542.693 Td
(intuitive level so a couple of examples should clear this right up. First lets look at) Tj
ET
BT
42.52 529.937 Td
(a present tense verb used with a first person noun: ) Tj
ET
BT
/F8 6.053 Tf
70.866 523.814 Td
(I run.) Tj
ET
BT
70.866 511.569 Td
(We run.) Tj
ET
BT
/F6 9.87 Tf
42.52 486.057 Td
(Okay, that was both singular and plural forms. No change in the verb. We can see) Tj
ET
BT
42.52 473.301 Td
(the same thing in second person: ) Tj
ET
BT
/F8 6.053 Tf
70.866 467.178 Td
(You run.) Tj
ET
BT
/F6 9.87 Tf
42.52 441.666 Td
(Even third person plural follows this rule: ) Tj
ET
BT
/F8 6.053 Tf
70.866 435.543 Td
(They run.) Tj
ET
BT
/F6 9.87 Tf
42.52 410.031 Td
(The third person, singular noun disrupts our continuity, however, because it) Tj
ET
BT
42.52 397.276 Td
(makes the verb change form: ) Tj
ET
BT
/F8 6.053 Tf
70.866 391.153 Td
(He runs.) Tj
ET
BT
70.866 378.907 Td
(She runs.) Tj
ET
BT
70.866 366.661 Td
(It runs.) Tj
ET
BT
/F6 9.87 Tf
42.52 341.15 Td
(For most verbs, this change takes the form of an "s" being appended to the verb.) Tj
ET
BT
42.52 328.394 Td
(Not all, however: ) Tj
ET
BT
/F8 6.053 Tf
70.866 322.271 Td
(We do.) Tj
ET
BT
70.866 310.025 Td
(He does.) Tj
ET
BT
/F6 9.87 Tf
42.52 284.513 Td
(and, ) Tj
ET
BT
/F8 6.053 Tf
70.866 278.391 Td
(They fly.) Tj
ET
BT
70.866 266.145 Td
(It flies.) Tj
ET
BT
/F6 9.87 Tf
42.52 240.633 Td
(And again, ) Tj
ET
BT
/F8 6.053 Tf
70.866 234.51 Td
(I wax.) Tj
ET
BT
70.866 222.265 Td
(It waxes.) Tj
ET
BT
/F6 9.87 Tf
42.52 196.753 Td
(Print rules won't help us here. What we need is a routine that checks the noun and) Tj
ET
BT
42.52 183.997 Td
(chooses the appropriate verb form, or possibly appends an "s" to the verb for us if) Tj
ET
BT
42.52 171.241 Td
(appropriate. Luckily, verbs only follow nominative nouns so a single lowercase and) Tj
ET
BT
42.52 158.485 Td
(a single uppercase routine can be put into place to affect this change. Here's the) Tj
ET
BT
42.52 145.729 Td
(uppercase version: ) Tj
ET
BT
/F8 6.053 Tf
42.52 114.605 Td
( [CIVerb obj verb altverb;) Tj
ET
BT
42.52 108.482 Td
(   print \(CTheI\) obj," ";) Tj
ET
BT
42.52 102.359 Td
(   if\(obj has pluralname || obj~=player\)  ) Tj
ET
BT
42.52 96.236 Td
(      print verb; ) Tj
ET
BT
42.52 90.113 Td
(   if\(altverb==null\) ) Tj
ET
endstream
endobj
>>
193 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 194 0 R
>>
endobj
194 0 obj
<</Length 2352>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 1: Pronouns on Steroids) Tj
ET
BT
42.52 42.52 Td
(88) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
(      print verb,"s"; ) Tj
ET
BT
42.52 574.838 Td
(   else print altverb;) Tj
ET
BT
42.52 568.715 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 537.08 Td
(Routines always return a value of some kind. Roger Firth's article, ") Tj
ET
BT
335.884 537.08 Td
(Print Rules) Tj
ET
BT
384.148 537.08 Td
(") Tj
ET
BT
42.52 524.324 Td
(suggests creating a do-nothing print rule to discard the return value rather than) Tj
ET
BT
42.52 511.569 Td
(print it: ) Tj
ET
BT
/F8 6.053 Tf
42.52 467.688 Td
( [ignore o;]; ) Tj
ET
BT
/F6 9.87 Tf
42.52 436.054 Td
(Having done this, the IVerb routines can be implemented in the print statement like) Tj
ET
BT
42.52 423.298 Td
(this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 379.417 Td
( print \(ignore\)CIVerb\(obj,"drink"\),"  ) Tj
ET
BT
42.52 373.294 Td
(   the glass of milk.";) Tj
ET
BT
/F6 9.87 Tf
42.52 341.66 Td
(And like this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 297.78 Td
( print \(ignore\)CIVerb\(obj,"smash",) Tj
ET
BT
42.52 291.657 Td
(   "smashes"\)," the empty glass."; ) Tj
ET
BT
/F6 9.87 Tf
42.52 260.022 Td
(Depending upon the attributes of obj and what text has already been printed, any of) Tj
ET
BT
42.52 247.266 Td
(the following could be printed: ) Tj
ET
BT
/F8 6.053 Tf
70.866 241.143 Td
(The troll drinks the glass of milk. He smashes the empty glass.) Tj
ET
BT
70.866 228.898 Td
(You drink the glass of milk. You smash the empty glass.) Tj
ET
BT
70.866 216.652 Td
(The monks drink the glass of milk. They smash the empty glass.) Tj
ET
BT
/F5 9.87 Tf
42.52 191.14 Td
(As If That Wasn't Enough...) Tj
ET
BT
/F6 9.87 Tf
42.52 165.628 Td
(Additionally, there are a few special cases regarding the so-called "verbs of being") Tj
ET
BT
42.52 152.872 Td
(that change based upon plurality and person. The standard library attempts to) Tj
ET
BT
42.52 140.117 Td
(address these with the IsOrAre print rule. If implementing a game in first person,) Tj
ET
BT
42.52 127.361 Td
(this routine would have to be replaced to also support "am". Better still, a) Tj
ET
BT
42.52 114.605 Td
(variable could be implemented that checks the tense a game is being told in and) Tj
ET
BT
42.52 101.849 Td
(adequately supports "was", "were", and "will". ) Tj
ET
endstream
endobj
>>
195 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 196 0 R
>>
endobj
196 0 obj
<</Length 962>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(89) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(A Little Note on the Code) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(The samples described above are just that, samples. Although the text often refers) Tj
ET
BT
42.52 542.693 Td
(to duplicating code and changing portions of it to match, this really isn't the best) Tj
ET
BT
42.52 529.937 Td
(way. A skeleton function containing the duplicated algorithm which accepts all) Tj
ET
BT
42.52 517.181 Td
(variations of text as parameters would take up significantly less space, and be) Tj
ET
BT
42.52 504.425 Td
(easier to maintain. You can see for yourself because... ) Tj
ET
BT
42.52 478.913 Td
(The ORLibrary entry ) Tj
ET
BT
134.665 478.913 Td
(ORPronoun.h) Tj
ET
BT
195.01 478.913 Td
( contains a complete implementation of the) Tj
ET
BT
42.52 466.157 Td
(techniques discussed in this article. ) Tj
ET
endstream
endobj
>>
197 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 198 0 R
>>
endobj
198 0 obj
<</Length 3498>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2a: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(90) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Knowledge and Conversation ) Tj
ET
BT
42.52 568.205 Td
(1 The Basics ) Tj
ET
BT
42.52 555.449 Td
(\(Advanced NPC Implementation, Part 2a\)) Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I344 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(s developers, we can put forth a great deal of effort while trying to) Tj
ET
BT
99.213 517.181 Td
(make an NPC appear believable. We can make the character walk) Tj
ET
BT
99.213 504.425 Td
(around randomly. We can make him steal items that are lying around.) Tj
ET
BT
99.213 491.669 Td
(We can even program the character to scribble graffiti on walls at) Tj
ET
BT
42.52 478.913 Td
(significant locations. It's true, a character can be designed to do just about) Tj
ET
BT
42.52 466.157 Td
(anything imaginable, but there is one aspect of NPC design that will, above all) Tj
ET
BT
42.52 453.402 Td
(others, make or break the believability of an NPC: conversation. ) Tj
ET
BT
42.52 427.89 Td
(A successful implementation of a PC-NPC conversation is no small task. Many) Tj
ET
BT
42.52 415.134 Td
(developers have tried and failed to create believable dialog. Obviously, success at) Tj
ET
BT
42.52 402.378 Td
(this bares great dependency upon the author's writing skill. Conversely, a) Tj
ET
BT
42.52 389.622 Td
(well-written manuscript can be implemented poorly. The truth is, a text adventure) Tj
ET
BT
42.52 376.866 Td
(without code is just text. Code and prose are equally important in interactive) Tj
ET
BT
42.52 364.11 Td
(fiction and the two must complement each other to truly be effective. ) Tj
ET
BT
42.52 338.598 Td
(The purpose of this three-part article series is to identify the major coding) Tj
ET
BT
42.52 325.843 Td
(techniques used in the development of talking NPCs and give examples of) Tj
ET
BT
42.52 313.087 Td
(implementing some of these. Additionally we will cover advanced techniques such) Tj
ET
BT
42.52 300.331 Td
(as uniting knowledge and information, separating information from conversation,) Tj
ET
BT
42.52 287.575 Td
(morphing conversation topics, conversation scripts, and implementing knowledge) Tj
ET
BT
42.52 274.819 Td
(that is learnable. First, a disclaimer: ) Tj
ET
BT
42.52 249.307 Td
(In interactive fiction, complex puzzles often have multiple solutions. The) Tj
ET
BT
42.52 236.551 Td
(similarities between life and art are ever obvious in this regard, since complex) Tj
ET
BT
42.52 223.795 Td
(coding objectives often can be accomplished by multiple techniques. As a general) Tj
ET
BT
42.52 211.039 Td
(rule of thumb, the more complex the objective, the more diversified are the) Tj
ET
BT
42.52 198.283 Td
(possible solutions. Since this is an article about "advanced" techniques in NPC) Tj
ET
BT
42.52 185.528 Td
(conversations, the variations and alternate implementations abound. It should be) Tj
ET
BT
42.52 172.772 Td
(noted that the techniques covered in this article work for me, but my way is not the) Tj
ET
BT
42.52 160.016 Td
(only way. If you, as the reader, see another technique then feel free to implement) Tj
ET
BT
42.52 147.26 Td
(it. ) Tj
ET
BT
42.52 121.748 Td
(Now that that stuff is out of the way, let us begin slowly by touching upon the) Tj
ET
BT
42.52 108.992 Td
(three major techniques used to implement interactive character conversations:) Tj
ET
BT
42.52 96.236 Td
(Menus, keywords, and topics. ) Tj
ET
endstream
endobj
>>
199 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 200 0 R
>>
endobj
200 0 obj
<</Length 3586>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(91) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 568.205 Td
(The Menu System) Tj
ET
BT
/F6 9.87 Tf
42.52 542.693 Td
(A commonly used method of implementing conversation is the menu-based) Tj
ET
BT
42.52 529.937 Td
(system. There are several advantages to using this technique: ) Tj
ET
BT
/F7 12.61 Tf
28.346 491.669 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 491.669 Td
(There is never any doubt for the player that there is a conversation to be had \(i.e.:) Tj
ET
BT
42.52 478.913 Td
(that there are things to say or ask\) since the conversation options are listed up) Tj
ET
BT
42.52 466.157 Td
(front.) Tj
ET
BT
/F7 12.61 Tf
28.346 453.402 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
(The player never has a problem with phrasing \(finding the right words to ask\).) Tj
ET
BT
/F7 12.61 Tf
28.346 440.646 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 440.646 Td
(The developer has control of the flow of conversation. Specifically, the author) Tj
ET
BT
42.52 427.89 Td
(determines what can be asked and when that menu option appears.) Tj
ET
BT
42.52 402.378 Td
(There are also some disadvantages to this technique: ) Tj
ET
BT
/F7 12.61 Tf
28.346 376.866 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 376.866 Td
(The player's experience is a less personal one. Choosing conversation options is) Tj
ET
BT
42.52 364.11 Td
(more akin to the "Choose Your Own Adventure" style of stories. It can also be) Tj
ET
BT
42.52 351.354 Td
(frustrating to a player that wants to ask a question which isn't listed. Given the) Tj
ET
BT
42.52 338.598 Td
(same conversation coded two ways, many players come away feeling that their) Tj
ET
BT
42.52 325.843 Td
(options seemed more limited with this technique. A player that has the ability to) Tj
ET
BT
42.52 313.087 Td
(formulate his own question experiences a feeling of freedom, even if the question) Tj
ET
BT
42.52 300.331 Td
(has not been coded for and the response is just the simple: "I know nothing about) Tj
ET
BT
42.52 287.575 Td
(that." ) Tj
ET
BT
/F7 12.61 Tf
28.346 274.819 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 274.819 Td
(The menu technique also requires less player involvement. In conventional) Tj
ET
BT
42.52 262.063 Td
(methods, important conversation topics can be derived from seemingly insignificant) Tj
ET
BT
42.52 249.307 Td
(details mentioned previously. For example, asking about a book of restaurant) Tj
ET
BT
42.52 236.551 Td
(matches, found in a character's coat, might reveal him as a previously unknown) Tj
ET
BT
42.52 223.795 Td
(witness to a restaurant murder. In a mystery game, the matches might be a clue) Tj
ET
BT
42.52 211.039 Td
(that the player would need to attend to and recognize the significance of. Seeing) Tj
ET
BT
42.52 198.283 Td
(the menu item "Ask about matchbook" fairly spoils the need for the player to pay) Tj
ET
BT
42.52 185.528 Td
(attention to this sort of detail.) Tj
ET
BT
/F7 12.61 Tf
28.346 172.772 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 172.772 Td
(A significant drawback to menu-based conversations is the inherent limitation of) Tj
ET
BT
42.52 160.016 Td
(realism. A believable NPC is often coded with dozens of insignificant responses) Tj
ET
BT
42.52 147.26 Td
(that have no importance in the game except to add realism to the character.) Tj
ET
BT
42.52 134.504 Td
(Implementing this sort of detail in a menu-based system is difficult at best. If not) Tj
ET
BT
42.52 121.748 Td
(carefully limited in scope, the player could be left facing a substantially sized) Tj
ET
BT
42.52 108.992 Td
(menu of meaningless small talk. ) Tj
ET
endstream
endobj
>>
201 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 202 0 R
>>
endobj
202 0 obj
<</Length 3273>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2a: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(92) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(This is not to say that the menu system is not worth considering. In fact, it has) Tj
ET
BT
42.52 568.205 Td
(been implemented with great success in a few choice works. It is, however a) Tj
ET
BT
42.52 555.449 Td
(replacement for what the standard library offers, the Ask/Tell/Answer paradigm,) Tj
ET
BT
42.52 542.693 Td
(and will not be discussed further in this article. ) Tj
ET
BT
42.52 517.181 Td
(Nearly every other conversation technique is based upon the Ask/Tell/Answer) Tj
ET
BT
42.52 504.425 Td
(model. At its most basic implementation is the use of keywords... ) Tj
ET
BT
/F5 9.87 Tf
42.52 478.913 Td
(Using Ask/Tell/Answer \(With Keywords\)) Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
(As stated above, the standard library implements a basic conversation framework) Tj
ET
BT
42.52 440.646 Td
(by defining three communication verbs. These three verb are 'ask,' 'tell,' and) Tj
ET
BT
42.52 427.89 Td
('answer' \(or say\) and they are handled traditionally in the NPC's life property. For) Tj
ET
BT
42.52 415.134 Td
(the 'tell' and 'ask' forms, the first significant keyword is stored in the library) Tj
ET
BT
42.52 402.378 Td
(variable 'second.' For the 'answer' form, it is stored in the variable 'noun.' Take) Tj
ET
BT
42.52 389.622 Td
(the following as an example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 345.742 Td
( object -> magicmirror "magic mirror" ) Tj
ET
BT
42.52 339.619 Td
( has animate) Tj
ET
BT
42.52 333.496 Td
( with name 'magic' 'mirror') Tj
ET
BT
42.52 327.373 Td
( ,   life [;) Tj
ET
BT
42.52 321.25 Td
(         tell: if\(second=='hello'\)"~Yes, I know what 'hello' is.  ) Tj
ET
BT
42.52 315.128 Td
(            I may not get out much, but I recognize a greeting!~";) Tj
ET
BT
42.52 309.005 Td
(         answer: if\(noun=='hello'\) "~Well, 'hello' right back at you,   ) Tj
ET
BT
42.52 302.882 Td
(            mortal.~";) Tj
ET
BT
42.52 296.759 Td
(         ask: if\(second=='hello'\) "~You want to know about 'hello?') Tj
ET
BT
42.52 290.636 Td
(            Where have you been all your life, that you don't ) Tj
ET
BT
42.52 284.513 Td
(            recognize a greeting?~";) Tj
ET
BT
42.52 278.391 Td
(      ];) Tj
ET
BT
/F6 9.87 Tf
42.52 246.756 Td
(See how the keyword 'hello' is handled differently depending upon the verb used to) Tj
ET
BT
42.52 234 Td
(reference it: ) Tj
ET
BT
/F8 6.053 Tf
42.52 190.12 Td
( >ask mirror about hello) Tj
ET
BT
42.52 183.997 Td
( "You want to know about 'hello?'  Where have you been all your life, ) Tj
ET
BT
42.52 177.874 Td
( that you don't recognize a greeting?") Tj
ET
BT
42.52 165.628 Td
( >tell mirror about hello) Tj
ET
BT
42.52 159.506 Td
( "Yes, I know what 'hello' is. I may not get out much, but I recognize a    ) Tj
ET
BT
42.52 153.383 Td
( greeting!") Tj
ET
BT
42.52 141.137 Td
( >say hello to mirror) Tj
ET
BT
42.52 135.014 Td
( "Well, 'hello' right back at you, mortal.") Tj
ET
BT
/F6 9.87 Tf
42.52 103.38 Td
(Alone, this technique is fairly limited, but it is also one of the most widely) Tj
ET
BT
42.52 90.624 Td
(used methods for implementing conversation that you will find in Inform games.) Tj
ET
endstream
endobj
>>
203 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 204 0 R
>>
endobj
204 0 obj
<</Length 3242>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(93) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(As such, there are various methods of making it somewhat more powerful. The) Tj
ET
BT
42.52 568.205 Td
(consult_from and consult_words variables, for example, can be used to "look) Tj
ET
BT
42.52 555.449 Td
(ahead" and example more than a single word. To demonstrate a starting point for) Tj
ET
BT
42.52 542.693 Td
(diversifying the keyword technique, let's focus on the ASK form of communication) Tj
ET
BT
42.52 529.937 Td
(in the next example: ) Tj
ET
BT
/F8 6.053 Tf
42.52 486.057 Td
( object -> magicmirror "magic mirror" ) Tj
ET
BT
42.52 479.934 Td
(   has animate) Tj
ET
BT
42.52 473.811 Td
(   with name 'magic' 'mirror') Tj
ET
BT
42.52 467.688 Td
(   , life [word;) Tj
ET
BT
42.52 461.565 Td
(         ask:wn=consult_from; !position the pointer for the) Tj
ET
BT
42.52 455.443 Td
(            word=NextWord\(\); !NextWord call) Tj
ET
BT
42.52 449.32 Td
(            if\(word=='hello'\) { !make sure we are talking about a type of hello) Tj
ET
BT
42.52 443.197 Td
(               while\(\(word=NextWord\(\)\)=='in' or 'from'\); !ignored words) Tj
ET
BT
42.52 437.074 Td
(               switch\(word\) { !lets find what kind of hello we are looking for) Tj
ET
BT
42.52 430.951 Td
(                  0: "~You want to know about 'hello?' Where have you been) Tj
ET
BT
42.52 424.828 Td
(                     all your life, that you don't recognize a  greeting?~";) Tj
ET
BT
42.52 418.706 Td
(                  'canada', 'canadian': "~In Canada they say 'Hello, eh.'~";   ) Tj
ET
BT
42.52 412.583 Td
(                  'hawaii', 'hawaiian': "~Hmmm, I believe that would be ) Tj
ET
BT
42.52 406.46 Td
(                     'Aloha.'~";) Tj
ET
BT
42.52 400.337 Td
(               }) Tj
ET
BT
42.52 394.214 Td
(            }) Tj
ET
BT
42.52 388.091 Td
(      ]) Tj
ET
BT
42.52 381.969 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 350.334 Td
(Now the keyword 'hello' can be put into a specific context: ) Tj
ET
BT
/F8 6.053 Tf
42.52 306.454 Td
( >ask mirror about hello in canada) Tj
ET
BT
42.52 300.331 Td
( "In Canada they say 'Hello, eh.'") Tj
ET
BT
42.52 288.085 Td
( >ask mirror about hello in hawaiian) Tj
ET
BT
42.52 281.962 Td
( "Hmmm, I believe that would be 'Aloha.'") Tj
ET
BT
42.52 269.717 Td
( >ask mirror about hello) Tj
ET
BT
42.52 263.594 Td
( "You want to know about 'hello?' Where have you been all your life, that   ) Tj
ET
BT
42.52 257.471 Td
( you don't recognize a greeting?" ) Tj
ET
BT
/F6 9.87 Tf
42.52 225.836 Td
(Obviously the above example isn't as useful as it could be since it is too) Tj
ET
BT
42.52 213.08 Td
(dependent upon word order. For instance, ) Tj
ET
BT
/F8 6.053 Tf
42.52 169.2 Td
( >ask mirror about Hawaiian hello   ) Tj
ET
BT
/F6 9.87 Tf
42.52 137.565 Td
(will NOT be matched by the routine in its present form. Certainly it could be) Tj
ET
BT
42.52 124.809 Td
(modified to scan for words despite order, but the more we pattern match, the more) Tj
ET
BT
42.52 112.054 Td
(we are duplicating code that exists in the parser. For conversation topics that are) Tj
ET
BT
42.52 99.298 Td
(more than a single unique keyword, there is a better way. ) Tj
ET
endstream
endobj
>>
205 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 206 0 R
>>
endobj
206 0 obj
<</Length 3309>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2a: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(94) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Using Ask/Tell/Answer \(With Conversation Objects\)) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(Inform is an object based language. The rooms the player visits are objects, the) Tj
ET
BT
42.52 542.693 Td
(items that are gathered are objects, and the very NPCs that exist in the game are) Tj
ET
BT
42.52 529.937 Td
(objects. Not surprisingly, all of these things are accessible through the game. We) Tj
ET
BT
42.52 517.181 Td
(can look at the room we are in, pick up a hammer that lies on the floor, and talk) Tj
ET
BT
42.52 504.425 Td
(to the NPCs. Each of these objects exists in the game world. One of the more) Tj
ET
BT
42.52 491.669 Td
(allusive concepts for a new Inform developer to grasp is that objects do not have) Tj
ET
BT
42.52 478.913 Td
(to actually be present in the game at all. They can, instead, be abstractions. Use) Tj
ET
BT
42.52 466.157 Td
(of these non-existent objects is the third, and most powerful method of) Tj
ET
BT
42.52 453.402 Td
(implementing NPC conversation, since it opens the door for numerous other) Tj
ET
BT
42.52 440.646 Td
(techniques. ) Tj
ET
BT
42.52 415.134 Td
(Let us set the stage for more advanced techniques by walking through a thorough) Tj
ET
BT
42.52 402.378 Td
(example of basic conversation objects. First, we can create a base class from) Tj
ET
BT
42.52 389.622 Td
(which all conversation objects will be derived: ) Tj
ET
BT
/F8 6.053 Tf
42.52 345.742 Td
( class KnowledgeTopic;   ) Tj
ET
BT
/F6 9.87 Tf
42.52 314.107 Td
(Not the most impressive line of code, but it is a step in the right direction. In) Tj
ET
BT
42.52 301.351 Td
(fact, what it accomplishes is significant. We can now, for instance, write a fully) Tj
ET
BT
42.52 288.595 Td
(qualified scope rule to determine if an NPC "owns" a specific conversation object) Tj
ET
BT
42.52 275.839 Td
(and extend the 'ask' verb to use that rule. ) Tj
ET
BT
/F8 6.053 Tf
42.52 231.959 Td
( Object CommonKnowledge;) Tj
ET
BT
42.52 225.836 Td
( [TopicInTarget o; !isolate information known by the target) Tj
ET
BT
42.52 219.713 Td
(   switch\(scope_stage\){) Tj
ET
BT
42.52 213.591 Td
(      2:objectloop\(o ofclass KnowledgeTopic && ) Tj
ET
BT
42.52 207.468 Td
(         parent\(o\)==inputobjs-->2 or CommonKnowledge\) ) Tj
ET
BT
42.52 201.345 Td
(         PlaceInScope\(o\); rtrue;) Tj
ET
BT
42.52 195.222 Td
(      3: "I did not understand who or what you were referring to.";   ) Tj
ET
BT
42.52 189.099 Td
(   } ) Tj
ET
BT
42.52 182.976 Td
( ];) Tj
ET
BT
42.52 176.854 Td
( extend "ask" first * creature 'about' scope=TopicInTarget-> Ask;) Tj
ET
BT
/F6 9.87 Tf
42.52 145.219 Td
(The TopicInTarget\(\) routine \(scope rule\) will pull into scope any KnowledgeTopic) Tj
ET
BT
42.52 132.463 Td
(derived object that is a child of the character being questioned. In this way we) Tj
ET
BT
42.52 119.707 Td
(can define what the character "knows". Additionally, notice the definition of the) Tj
ET
BT
42.52 106.951 Td
(CommonKnowledge object. Topics that are placed within this object are also pulled) Tj
ET
BT
42.52 94.195 Td
(into scope. All characters know topics that are classified as "common knowledge.") Tj
ET
endstream
endobj
>>
207 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 208 0 R
>>
endobj
208 0 obj
<</Length 2884>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(95) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(Here is an example of two topics. The first, "beauty," is a child of the) Tj
ET
BT
42.52 568.205 Td
(CommonKnowledge object and so is known by all characters. Only the mirror) Tj
ET
BT
42.52 555.449 Td
(knows the second, "snowwhite": ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( KnowledgeTopic beauty CommonKnowledge with name 'beauty';) Tj
ET
BT
42.52 505.446 Td
( KnowledgeTopic snowwhite magicmirror with name 'snowwhite' 'girl';   ) Tj
ET
BT
/F6 9.87 Tf
42.52 473.811 Td
(As you can see, using knowledge objects allows us to fill the 'name' property with) Tj
ET
BT
42.52 461.055 Td
(the keywords that can reference a topic, just as we would a table or a chair. With) Tj
ET
BT
42.52 448.299 Td
(this technique, the variable 'second' no longer holds the keyword, but points to the) Tj
ET
BT
42.52 435.543 Td
(object that was recognized. The life property must be changed to reflect this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 391.663 Td
( object -> magicmirror "magic mirror" ) Tj
ET
BT
42.52 385.54 Td
(   has animate) Tj
ET
BT
42.52 379.417 Td
(   with name 'magic' 'mirror') Tj
ET
BT
42.52 373.294 Td
(   , life [; ask:switch\(second\) {) Tj
ET
BT
42.52 367.172 Td
(         beauty: "~Ah yes. That is only skin deep.~";) Tj
ET
BT
42.52 361.049 Td
(         snowwhite: "~Yes, I remember her.  But that was long ago.~"; }] ) Tj
ET
BT
42.52 354.926 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 323.291 Td
(For the sake of example, and to verify that our new scope rule is working how we) Tj
ET
BT
42.52 310.535 Td
(intended it, let's create another character coded almost exactly as the mirror: ) Tj
ET
BT
/F8 6.053 Tf
42.52 266.655 Td
( object -> guard "guard" ) Tj
ET
BT
42.52 260.532 Td
(   has animate) Tj
ET
BT
42.52 254.409 Td
(   with name 'guard') Tj
ET
BT
42.52 248.287 Td
(   , life [; ask:switch\(second\) {) Tj
ET
BT
42.52 242.164 Td
(         beauty: "~Ah yes. That is only skin deep.~";) Tj
ET
BT
42.52 236.041 Td
(         snowwhite: "~Yes, I remember her.  But that was long ago.~"; }] ) Tj
ET
BT
42.52 229.918 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 198.283 Td
(Now we have two characters to converse with. Note that, like the mirror, the guard) Tj
ET
BT
42.52 185.528 Td
(is also coded to respond to the 'snowwhite' question. It'll be up to our scope rule to) Tj
ET
BT
42.52 172.772 Td
(determine if he knows about the topic. Since he does not, this portion of his life rule) Tj
ET
BT
42.52 160.016 Td
(will never be called and the text, although defined, will never print: ) Tj
ET
BT
/F8 6.053 Tf
42.52 116.135 Td
( >ask guard about beauty) Tj
ET
BT
42.52 110.013 Td
( "Ah yes. That is only skin deep.") Tj
ET
BT
42.52 97.767 Td
( >ask mirror about beauty) Tj
ET
BT
42.52 91.644 Td
( "Ah yes. That is only skin deep.") Tj
ET
endstream
endobj
>>
209 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 210 0 R
>>
endobj
210 0 obj
<</Length 1471>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2a: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(96) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
( >ask mirror about snowwhite) Tj
ET
BT
42.52 574.838 Td
( "Yes, I remember her. But that was long ago."   ) Tj
ET
BT
42.52 562.592 Td
( >ask guard about snowwhite) Tj
ET
BT
42.52 556.469 Td
( There is no reply.) Tj
ET
BT
/F6 9.87 Tf
42.52 524.835 Td
(That was what we expected. The guard knows nothing of 'snowwhite.' Our new) Tj
ET
BT
42.52 512.079 Td
(scope rule is pulling in the appropriate knowledge for the appropriate character. ) Tj
ET
BT
/F5 9.87 Tf
42.52 486.567 Td
(On to Advanced Techniques \(Concluding the Basics\)) Tj
ET
BT
/F6 9.87 Tf
42.52 461.055 Td
(The topics discussed in this section have set the stage for a discussion of more) Tj
ET
BT
42.52 448.299 Td
(advanced techniques. In 2 we will begin to delve into more advanced topics that) Tj
ET
BT
42.52 435.543 Td
(build upon what we have learned so far. For readers that wish to further) Tj
ET
BT
42.52 422.787 Td
(contemplate the material of this section, I highly recommend a review of Roger) Tj
ET
BT
42.52 410.031 Td
(Firth's Infact page. Specifically, the conversation section found at ") Tj
ET
BT
42.52 397.276 Td
(http://www.firthworks.com/roger/infact/convers1.html) Tj
ET
BT
271.236 397.276 Td
(" is of immediate relevance. ) Tj
ET
BT
42.52 371.764 Td
(And now, on to section 2... ) Tj
ET
endstream
endobj
>>
211 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 212 0 R
>>
endobj
212 0 obj
<</Length 2788>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(97) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Knowledge and Conversation ) Tj
ET
BT
42.52 568.205 Td
(2 Advanced Techniques ) Tj
ET
BT
42.52 555.449 Td
(\(Advanced NPC Implementation, Part 2b\)) Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I341 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(n the previous section we discussed various methods for developing) Tj
ET
BT
99.213 517.181 Td
(NPC conversation and reviewed techniques for implementing the most) Tj
ET
BT
99.213 504.425 Td
(widely used of these. In this section we will expand upon those) Tj
ET
BT
99.213 491.669 Td
(methods with much more powerful techniques and begin to develop) Tj
ET
BT
42.52 478.913 Td
(reusable classes for NPCs in the process. ) Tj
ET
BT
/F5 9.87 Tf
42.52 453.402 Td
(Uniting Knowledge and Information) Tj
ET
BT
/F6 9.87 Tf
42.52 427.89 Td
(In the previous example, a character's knowledge of something and his ability to) Tj
ET
BT
42.52 415.134 Td
(talk about it are not as tightly related, as they ought to be. Coded into the) Tj
ET
BT
42.52 402.378 Td
(guard's life routine is the same information about Snow White that the mirror) Tj
ET
BT
42.52 389.622 Td
(has. The guard may not recognize her name, but he was coded, wastefully, to talk) Tj
ET
BT
42.52 376.866 Td
(about her anyway. The reverse of this is a more probable circumstance,) Tj
ET
BT
42.52 364.11 Td
(considering the existence of common knowledge. In the above example, a new) Tj
ET
BT
42.52 351.354 Td
(NPC would also need to be coded with responses to the 'beauty' topic. Uniting what) Tj
ET
BT
42.52 338.598 Td
(is said with what is known is the second major benefit to using conversation) Tj
ET
BT
42.52 325.843 Td
(objects. ) Tj
ET
BT
42.52 300.331 Td
(To start off with, let's modify our KnowledgeTopic base class a little to default a) Tj
ET
BT
42.52 287.575 Td
(property, which we will arbitrarily call "TopicInformation:" ) Tj
ET
BT
/F8 6.053 Tf
42.52 243.694 Td
( class KnowledgeTopic ) Tj
ET
BT
42.52 237.572 Td
(   with TopicInformation "~Yes, I know about that but I think I'll keep it   ) Tj
ET
BT
42.52 231.449 Td
(      to myself.~") Tj
ET
BT
42.52 225.326 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 193.691 Td
(Now we can tie the text to the actual knowledge objects: ) Tj
ET
BT
/F8 6.053 Tf
42.52 149.811 Td
( KnowledgeTopic beauty CommonKnowledge with name 'beauty') Tj
ET
BT
42.52 143.688 Td
(   , TopicInformation "~Ah yes. That is only skin deep.~") Tj
ET
BT
42.52 137.565 Td
( ;) Tj
ET
BT
42.52 125.32 Td
( KnowledgeTopic snowwhite magicmirror with name 'snowwhite' 'girl'  ) Tj
ET
BT
42.52 119.197 Td
(   , TopicInformation "~Yes, I remember her.  But that was long ago.~") Tj
ET
BT
42.52 113.074 Td
( ;) Tj
ET
endstream
endobj
>>
213 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 214 0 R
>>
endobj
214 0 obj
<</Length 3319>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(98) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(And remove the text from the life property \(of both characters\) entirely. Instead, we) Tj
ET
BT
42.52 568.205 Td
(can print out the TopicInformation value: ) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( object -> magicmirror "magic mirror" ) Tj
ET
BT
42.52 518.202 Td
(   has animate) Tj
ET
BT
42.52 512.079 Td
(   with name 'magic' 'mirror'  ) Tj
ET
BT
42.52 505.956 Td
(   , life [;ask:) Tj
ET
BT
42.52 499.833 Td
(      if\(second ofclass KnowledgeTopic\)  {) Tj
ET
BT
42.52 493.71 Td
(         PrintOrRun\(second, TopicInformation\);) Tj
ET
BT
42.52 487.587 Td
(         return true; ) Tj
ET
BT
42.52 481.465 Td
(      }) Tj
ET
BT
42.52 475.342 Td
( ];) Tj
ET
BT
42.52 469.219 Td
( object -> guard"guard" ) Tj
ET
BT
42.52 463.096 Td
(   has animate) Tj
ET
BT
42.52 456.973 Td
(   with name 'guard') Tj
ET
BT
42.52 450.85 Td
(   , life [;ask:) Tj
ET
BT
42.52 444.728 Td
(      if\(second ofclass KnowledgeTopic\)  {) Tj
ET
BT
42.52 438.605 Td
(         PrintOrRun\(second, TopicInformation\);) Tj
ET
BT
42.52 432.482 Td
(            return true; ) Tj
ET
BT
42.52 426.359 Td
(      }) Tj
ET
BT
42.52 420.236 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 388.602 Td
(Note that the example runs exactly as it did previously \(i.e.: The guard will) Tj
ET
BT
42.52 375.846 Td
(respond when asked about 'beauty', but not 'snowwhite.' The magic mirror will talk) Tj
ET
BT
42.52 363.09 Td
(about both.\) ) Tj
ET
BT
42.52 337.578 Td
(An NPC'a ability to converse about a topic is now tied directly to the scope of the) Tj
ET
BT
42.52 324.822 Td
(topic itself. If the character "knows" the information, he can talk about it. No) Tj
ET
BT
42.52 312.066 Td
(changes to his life property need to be made to add this knowledge. This technique) Tj
ET
BT
42.52 299.31 Td
(benefits us in several ways: ) Tj
ET
BT
/F7 12.61 Tf
28.346 261.043 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 261.043 Td
(The life property now has code that is consistent across all NPCs. This enables) Tj
ET
BT
42.52 248.287 Td
(us to implement a NPC base class to share the common code in the life routine.) Tj
ET
BT
/F7 12.61 Tf
28.346 235.531 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 235.531 Td
(We now have the ability to add knowledge and to take away knowledge without) Tj
ET
BT
42.52 222.775 Td
(coding them in each and every NPC. We simply have to move the knowledge) Tj
ET
BT
42.52 210.019 Td
(object around.) Tj
ET
BT
/F7 12.61 Tf
28.346 197.263 Td
() Tj
ET
BT
/F6 9.87 Tf
42.52 197.263 Td
(We are now one step closer to implementing a feature in our NPCs that is) Tj
ET
BT
42.52 184.507 Td
(somewhat uncommon: the ability to learn and teach. Of course, this will require a) Tj
ET
BT
42.52 171.751 Td
(few changes to fully accomplish. The next step in that direction is...) Tj
ET
BT
/F5 9.87 Tf
42.52 146.239 Td
(Shared Knowledge) Tj
ET
BT
/F6 9.87 Tf
42.52 120.728 Td
(So far we've developed our scope rule to allow a knowledge object to be known by) Tj
ET
BT
42.52 107.972 Td
(one character or all characters. This doesn't cover all cases, though. Rarely do) Tj
ET
BT
42.52 95.216 Td
(we have an all-or-nothing circumstance; often we have a group of people that know) Tj
ET
endstream
endobj
>>
215 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 216 0 R
>>
endobj
216 0 obj
<</Length 3015>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
396.505 42.52 Td
(99) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(a specific topic of conversation, and another group of people that do not. What is) Tj
ET
BT
42.52 568.205 Td
(needed is a way to keep track of who knows what. ) Tj
ET
BT
42.52 542.693 Td
(The most intuitive way to accomplish this would be to add a property to each NPC) Tj
ET
BT
42.52 529.937 Td
(that records what he knows. This isn't really the best solution, however, since) Tj
ET
BT
42.52 517.181 Td
(knowledge does not have to be limited to NPCs. It could also be found in a book.) Tj
ET
BT
42.52 504.425 Td
(Instead we can attach a property list to the knowledge object that indicates who or) Tj
ET
BT
42.52 491.669 Td
(what "knows" it: ) Tj
ET
BT
/F8 6.053 Tf
42.52 447.789 Td
( ...from KnowledgeTopic class) Tj
ET
BT
42.52 441.666 Td
(   , KnownBy 0 0 0 0 0 0 0 0 0 0 !added to KnowledgeTopic  ) Tj
ET
BT
/F6 9.87 Tf
42.52 410.031 Td
(Having done that, it is now not such a complicated task to check this list for a) Tj
ET
BT
42.52 397.276 Td
(specific object. We'll call this routine IsKnownBy\(\) and attach it as a property to) Tj
ET
BT
42.52 384.52 Td
(the KnowledgeTopic class as shown below: ) Tj
ET
BT
/F8 6.053 Tf
42.52 340.639 Td
( class KnowledgeTopic ) Tj
ET
BT
42.52 334.517 Td
(   with TopicInformation "~Yes, I know about that but I think I'll keep   ) Tj
ET
BT
42.52 328.394 Td
(      it to myself.~") Tj
ET
BT
42.52 322.271 Td
(   , KnownBy 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0) Tj
ET
BT
42.52 316.148 Td
(   , IsKnownBy[obj t;) Tj
ET
BT
42.52 310.025 Td
(      for\(t=0:t<\(self.# KnownBy\)/2:t++\) \() Tj
ET
BT
42.52 303.902 Td
(         if\(self.& KnownBy -->t==obj\) return true;) Tj
ET
BT
42.52 297.78 Td
(      }) Tj
ET
BT
42.52 291.657 Td
(      return false;) Tj
ET
BT
42.52 285.534 Td
(   ]) Tj
ET
BT
42.52 279.411 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 247.776 Td
(And, of course, our scope rule can leverage this as well: ) Tj
ET
BT
/F8 6.053 Tf
42.52 203.896 Td
( [TopicInTarget o; !isolate information known by the target) Tj
ET
BT
42.52 197.773 Td
(   switch\(scope_stage\){) Tj
ET
BT
42.52 191.65 Td
(      2: objectloop\(o ofclass KnowledgeTopic\) ) Tj
ET
BT
42.52 185.528 Td
(         if\(parent\(o\)==CommonKnowledge || ) Tj
ET
BT
42.52 179.405 Td
(               o.IsKnownBy\(inputobjs-->2\)\) ) Tj
ET
BT
42.52 173.282 Td
(            PlaceInScope\(o\); ) Tj
ET
BT
42.52 167.159 Td
(            rtrue;) Tj
ET
BT
42.52 161.036 Td
(      3: "I did not understand who or what you were referring to.";  ) Tj
ET
BT
42.52 154.913 Td
(   }) Tj
ET
BT
42.52 148.791 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 117.156 Td
(Note that our scope rule no longer looks for the parent of the topic anymore. This) Tj
ET
BT
42.52 104.4 Td
(is actually a preferable arrangement since we can now avoid placing the knowledge) Tj
ET
BT
42.52 91.644 Td
(topics in the game world at all. This keeps us from having to deal with sticky) Tj
ET
endstream
endobj
>>
217 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 218 0 R
>>
endobj
218 0 obj
<</Length 2169>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(100) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(commands like: ) Tj
ET
BT
/F8 6.053 Tf
42.52 537.08 Td
( >drop beauty  ) Tj
ET
BT
/F6 9.87 Tf
42.52 518.202 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
42.52 499.833 Td
( >examine beauty  ) Tj
ET
BT
/F6 9.87 Tf
42.52 468.198 Td
(To demonstrate our new capacity for selectively shared knowledge, we will need to) Tj
ET
BT
42.52 455.443 Td
(create a third NPC. This one, like the mirror will also know the 'snowwhite' topic,) Tj
ET
BT
42.52 442.687 Td
(making this knowledge shared by two characters, but still unknown by the third \(the) Tj
ET
BT
42.52 429.931 Td
(guard.\) ) Tj
ET
BT
42.52 404.419 Td
(Since we are beginning to duplicate code, this is a good opportunity to implement) Tj
ET
BT
42.52 391.663 Td
(an NPC base class: ) Tj
ET
BT
/F8 6.053 Tf
42.52 347.783 Td
(  Class NPC) Tj
ET
BT
42.52 341.66 Td
(   has animate      ) Tj
ET
BT
42.52 335.537 Td
(   with life[;ask:) Tj
ET
BT
42.52 329.414 Td
(         if\(second ofclass KnowledgeTopic\) {  ) Tj
ET
BT
42.52 323.291 Td
(            if\(noun==actor\) {) Tj
ET
BT
42.52 317.169 Td
(               L__M\(##Tell, 1\);) Tj
ET
BT
42.52 311.046 Td
(               rtrue;) Tj
ET
BT
42.52 304.923 Td
(            }) Tj
ET
BT
42.52 298.8 Td
(            PrintOrRun\(second, TopicInformation\);   ) Tj
ET
BT
42.52 292.677 Td
(            rtrue;) Tj
ET
BT
42.52 286.554 Td
(         }) Tj
ET
BT
42.52 280.431 Td
(      ]) Tj
ET
BT
42.52 274.309 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 242.674 Td
(The two existing NPC's, by inheriting from this class, are now reduced to: ) Tj
ET
BT
/F8 6.053 Tf
42.52 198.794 Td
( NPC -> magicmirror "magic mirror" with name 'magic' 'mirror';  ) Tj
ET
BT
42.52 192.671 Td
( NPC -> guard "guard" with name 'guard';) Tj
ET
BT
/F6 9.87 Tf
42.52 161.036 Td
(And a third can be created just as easily: ) Tj
ET
BT
/F8 6.053 Tf
42.52 117.156 Td
( NPC -> dwarf "dwarf" with name 'dwarf';) Tj
ET
BT
/F6 9.87 Tf
42.52 85.521 Td
(The snowwhite topic can now be shared between the MagicMirror NPC and the) Tj
ET
endstream
endobj
>>
219 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 220 0 R
>>
endobj
220 0 obj
<</Length 2854>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(101) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(Dwarf NPC by filling in values in the KnownBy property \(the beauty topic, being) Tj
ET
BT
42.52 568.205 Td
(a child of the CommonKnowledge object, does not need the KnownBy property\): ) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( KnowledgeTopic snowwhite magicmirror ) Tj
ET
BT
42.52 518.202 Td
(   with name 'snowwhite' 'girl') Tj
ET
BT
42.52 512.079 Td
(   , TopicInformation "~Yes, I remember her.  But that was long ago.~"  ) Tj
ET
BT
42.52 505.956 Td
(   , KnownBy magicmirror dwarf 0 0 0 0 0 0 0) Tj
ET
BT
42.52 499.833 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 468.198 Td
(Now we can verify that the same KnowledgeTopic is shared by two NPCs, but not) Tj
ET
BT
42.52 455.443 Td
(all NPCs: ) Tj
ET
BT
/F8 6.053 Tf
42.52 411.562 Td
( >ask mirror about snowwhite) Tj
ET
BT
42.52 405.439 Td
( "Yes, I remember her. But that was long ago."  ) Tj
ET
BT
42.52 393.194 Td
( >ask guard about snowwhite) Tj
ET
BT
42.52 387.071 Td
( "There is no reply.") Tj
ET
BT
42.52 374.825 Td
( >ask dwarf about snowwhite) Tj
ET
BT
42.52 368.702 Td
( "Yes, I remember her. But that was long ago.") Tj
ET
BT
/F6 9.87 Tf
42.52 337.068 Td
(Now we're are ready to give our NPCs \(and PCs, too\) the ability to learn... ) Tj
ET
BT
/F5 9.87 Tf
42.52 311.556 Td
(Learning and Teaching Knowledge) Tj
ET
BT
/F6 9.87 Tf
42.52 286.044 Td
(Learning and teaching are the same action described from two perspectives. Since) Tj
ET
BT
42.52 273.288 Td
(implementing the 'shared knowledge' functionality, the act of learning a new topic) Tj
ET
BT
42.52 260.532 Td
(translates exactly into manipulating the topic's KnownBy list. The following routine) Tj
ET
BT
42.52 247.776 Td
(can be added to the KnowledgeTopic class to do just this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 203.896 Td
( ...from KnowledgeTopic class) Tj
ET
BT
42.52 197.773 Td
(   , MemorizeFor[obj t;) Tj
ET
BT
42.52 191.65 Td
(      if\(self.IsKnownBy\(obj\)\) return true; !already known  ) Tj
ET
BT
42.52 185.528 Td
(      for\(t=0:t<\(self.# KnownBy\)/2:t++\) {) Tj
ET
BT
42.52 179.405 Td
(         if\(self.& KnownBy -->t==0\){) Tj
ET
BT
42.52 173.282 Td
(            self.& KnownBy -->t=obj;) Tj
ET
BT
42.52 167.159 Td
(            return true;) Tj
ET
BT
42.52 161.036 Td
(         }) Tj
ET
BT
42.52 154.913 Td
(      }) Tj
ET
BT
42.52 148.791 Td
(      print "Run-Time Error!  Object is known by too many sources and  ) Tj
ET
BT
42.52 142.668 Td
(         cannot be learned.  Increase the size of the KnownBy property.";  ) Tj
ET
BT
42.52 136.545 Td
(      return false;) Tj
ET
BT
42.52 130.422 Td
(   ]) Tj
ET
BT
/F6 9.87 Tf
42.52 98.787 Td
(Now, letting the guard in on the 'snowwhite' secret can be accomplished with a) Tj
ET
BT
42.52 86.031 Td
(simple: ) Tj
ET
endstream
endobj
>>
221 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 222 0 R
>>
endobj
222 0 obj
<</Length 2858>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(102) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F8 6.053 Tf
42.52 549.836 Td
( snowwhite.MemorizeFor\(guard\);  ) Tj
ET
BT
/F6 9.87 Tf
42.52 518.202 Td
(Thus far, the 'ask' portion of the 'life' routine has called the TopicInformation) Tj
ET
BT
42.52 505.446 Td
(property to print out the topic. Often, as with the case of topics being taught and) Tj
ET
BT
42.52 492.69 Td
(learned, there is more to be done than simply printing text. Morphing topics is an) Tj
ET
BT
42.52 479.934 Td
(example of this that will be discussed in a moment, as well as adding character) Tj
ET
BT
42.52 467.178 Td
(personality by separating information from conversation. For now though, we can) Tj
ET
BT
42.52 454.422 Td
(just recognize that the teaching/learning of topics should be tied to the printing of) Tj
ET
BT
42.52 441.666 Td
(dialog and a driving function should be added to call both, without blurring the two) Tj
ET
BT
42.52 428.91 Td
(into the same routine. A new property, we'll call it 'TellAbout,' will be added to) Tj
ET
BT
42.52 416.154 Td
(the KnowledgeTopic class to do both: ) Tj
ET
BT
/F8 6.053 Tf
42.52 372.274 Td
( Attribute learnable;) Tj
ET
BT
42.52 360.028 Td
( ... rest of KnowledgeTopic class code here   ) Tj
ET
BT
42.52 353.906 Td
(   , TellAbout[to from;) Tj
ET
BT
42.52 347.783 Td
(      PrintOrRun\(self,TopicInformation\);) Tj
ET
BT
42.52 341.66 Td
(      if\(self has learnable\) Self.MemorizeFor\(to\);  ) Tj
ET
BT
42.52 335.537 Td
(   ]) Tj
ET
BT
/F6 9.87 Tf
42.52 303.902 Td
(The TellAbout routine is where the logic behind the conversation occurs. The) Tj
ET
BT
42.52 291.146 Td
('learnable' attribute has been introduced to govern whether or not to "teach" this) Tj
ET
BT
42.52 278.391 Td
(topic. Some topics are simply small talk and don't need to be shared between) Tj
ET
BT
42.52 265.635 Td
(characters. 'Learnable' allows the developer to designate which topics can be) Tj
ET
BT
42.52 252.879 Td
("learned." ) Tj
ET
BT
42.52 227.367 Td
(Astute readers may catch that the 'from' variable is never used and so will generate) Tj
ET
BT
42.52 214.611 Td
(a compiler warning. This is okay. The 'from' variable is actually a parameter that) Tj
ET
BT
42.52 201.855 Td
(will become useful to us later. We've just introduced it early. ) Tj
ET
BT
42.52 176.343 Td
(We can now change the life routine of our NPC class to call the TellAbout property: ) Tj
ET
BT
/F8 6.053 Tf
42.52 132.463 Td
( ...from NPC class) Tj
ET
BT
42.52 126.34 Td
(   , life [;ask:) Tj
ET
BT
42.52 120.217 Td
(      if\(second ofclass KnowledgeTopic\) {) Tj
ET
BT
42.52 114.094 Td
(         second.TellAbout\(actor,self\);) Tj
ET
BT
42.52 107.972 Td
(         return true;) Tj
ET
BT
42.52 101.849 Td
(      }) Tj
ET
BT
42.52 95.726 Td
(   ]  ) Tj
ET
endstream
endobj
>>
223 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 224 0 R
>>
endobj
224 0 obj
<</Length 2781>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(103) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(That's all that's needed for the player character to learn from an NPC. Of course,) Tj
ET
BT
42.52 555.449 Td
(learning a topic is nothing if you cannot speak about that topic. In order to do) Tj
ET
BT
42.52 542.693 Td
(that, we need to extend the 'tell' verb. First, a new scope rule to check and see) Tj
ET
BT
42.52 529.937 Td
(what the actor \(usually the player\) knows: ) Tj
ET
BT
/F8 6.053 Tf
42.52 486.057 Td
( [TopicInActor o; !isolate information known by the actor  ) Tj
ET
BT
42.52 479.934 Td
(   switch\(scope_stage\) {) Tj
ET
BT
42.52 473.811 Td
(      2: objectloop\(o ofclass KnowledgeTopic && ) Tj
ET
BT
42.52 467.688 Td
(               \(o.isknownby\(actor\) || ) Tj
ET
BT
42.52 461.565 Td
(               parent\(o\)==CommonKnowledge\)\) ) Tj
ET
BT
42.52 455.443 Td
(            PlaceInScope\(o\); ) Tj
ET
BT
42.52 449.32 Td
(         return true;) Tj
ET
BT
42.52 443.197 Td
(      3: "Who did you want me to say that to?";) Tj
ET
BT
42.52 437.074 Td
(   } ) Tj
ET
BT
42.52 430.951 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 399.317 Td
(Next we will extend the 'tell' verb appropriately: ) Tj
ET
BT
/F8 6.053 Tf
42.52 355.436 Td
( [TellTopicSub; ) Tj
ET
BT
42.52 349.313 Td
(   if\(noun==actor\) {) Tj
ET
BT
42.52 343.191 Td
(      L__M\(##Tell, 1\);  ) Tj
ET
BT
42.52 337.068 Td
(      return;) Tj
ET
BT
42.52 330.945 Td
(   }) Tj
ET
BT
42.52 324.822 Td
(   second.TellAbout\(noun,actor\); ) Tj
ET
BT
42.52 318.699 Td
( ];) Tj
ET
BT
42.52 312.576 Td
( Extend "tell" first  * creature 'about' scope=TopicInActor -> TellTopic;) Tj
ET
BT
/F6 9.87 Tf
42.52 280.942 Td
(And that's it. All the functionality for teaching and learning topics is in place. For) Tj
ET
BT
42.52 268.186 Td
(the sake of example, let's give the 'snowwhite' topic the 'learnable' attribute: ) Tj
ET
BT
/F8 6.053 Tf
42.52 237.061 Td
( KnowledgeTopic snowwhite magicmirror ) Tj
ET
BT
42.52 230.939 Td
(   has learnable     ) Tj
ET
BT
42.52 224.816 Td
(   with name 'snowwhite' 'girl') Tj
ET
BT
42.52 218.693 Td
(   , TopicInformation "~Yes, I remember her.  But that was long ago.~"  ) Tj
ET
BT
42.52 212.57 Td
(   , KnownBy magicmirror dwarf 0 0 0 0 0 0) Tj
ET
BT
42.52 206.447 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 174.813 Td
(and see our new functionality in action: ) Tj
ET
BT
/F8 6.053 Tf
42.52 130.932 Td
( >ask guard about snowwhite) Tj
ET
BT
42.52 124.809 Td
( There is not reply.) Tj
ET
BT
42.52 112.564 Td
( >tell guard about snowwhite) Tj
ET
BT
42.52 106.441 Td
( This provokes no reaction.) Tj
ET
BT
42.52 94.195 Td
( >ask dwarf about snowwhite) Tj
ET
BT
42.52 88.072 Td
( "Yes, I remember her. But that was long ago."  ) Tj
ET
endstream
endobj
>>
225 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 226 0 R
>>
endobj
226 0 obj
<</Length 2700>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(104) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F8 6.053 Tf
42.52 574.838 Td
( >tell guard about snowwhite) Tj
ET
BT
42.52 568.715 Td
( "Yes, I remember her. But that was long ago.") Tj
ET
BT
42.52 556.469 Td
( >ask guard about snowwhite) Tj
ET
BT
42.52 550.346 Td
( "Yes, I remember her. But that was long ago.") Tj
ET
BT
/F5 9.87 Tf
42.52 518.712 Td
(Separating Information and Conversation) Tj
ET
BT
/F6 9.87 Tf
42.52 493.2 Td
(A drawback to uniting information and knowledge is that we lose the ability to) Tj
ET
BT
42.52 480.444 Td
(tailor a response to an NPC's personality. Separating the text that qualifies as) Tj
ET
BT
42.52 467.688 Td
(topic information from the text that is character specific addresses this and) Tj
ET
BT
42.52 454.932 Td
(creates dialog that is much more fluid and believable. Consider the ways in which) Tj
ET
BT
42.52 442.176 Td
(each of the NPCs may differ in their answers regarding 'snowwhite,' as well as the) Tj
ET
BT
42.52 429.42 Td
(differing ways that the topic could be broached: ) Tj
ET
BT
/F8 6.053 Tf
42.52 385.54 Td
( You hesitate for a moment, then: "Do you remember Snow White?"  ) Tj
ET
BT
42.52 379.417 Td
( "Yes, I remember her," replies the dwarf with a dreamy ) Tj
ET
BT
42.52 373.294 Td
( expression. "But that was long ago."  For a moment you think you   ) Tj
ET
BT
42.52 367.172 Td
( see a tear in his eye.) Tj
ET
BT
/F6 9.87 Tf
42.52 335.537 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
42.52 291.657 Td
( "Do you remember Snow White?" you ask.) Tj
ET
BT
42.52 285.534 Td
( The guard looks at you with disdain. "Yes, I remember her," he   ) Tj
ET
BT
42.52 279.411 Td
( says smugly. "But that was long ago.") Tj
ET
BT
/F6 9.87 Tf
42.52 247.776 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
42.52 203.896 Td
( You look around, making sure no one can see you talking to the ) Tj
ET
BT
42.52 197.773 Td
( mirror. "Do you remember Snow White?"  you ask it, feeling   ) Tj
ET
BT
42.52 191.65 Td
( somewhat foolish. For a moment the mirror pauses, as though ) Tj
ET
BT
42.52 185.528 Td
( trying to recall something almost forgotten.  Then it speaks: ) Tj
ET
BT
42.52 179.405 Td
( "Yes, I remember her.  But that was long ago." ) Tj
ET
BT
/F6 9.87 Tf
42.52 147.77 Td
(The narrative that accompanies dialog occurs in many different forms, but breaking) Tj
ET
BT
42.52 135.014 Td
(the topic's information into, for example, two pieces can facilitate the use of) Tj
ET
BT
42.52 122.258 Td
(most of these forms. The above examples can be accomplished by doing this. Text) Tj
ET
BT
42.52 109.502 Td
(for asking about a topic also needs to be introduced: ) Tj
ET
endstream
endobj
>>
227 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 228 0 R
>>
endobj
228 0 obj
<</Length 3672>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(105) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 562.592 Td
( KnowledgeTopic snowwhite magicmirror ) Tj
ET
BT
42.52 556.469 Td
(   has learnable) Tj
ET
BT
42.52 550.346 Td
(   with name 'snowwhite' 'girl') Tj
ET
BT
42.52 544.224 Td
(   , Query "Do you remember Snow White?" 0 !zero: don't replace punctuation   ) Tj
ET
BT
42.52 538.101 Td
(   , TopicInformation "Yes, I remember her" "." "But that was long ago" "."  ) Tj
ET
BT
42.52 531.978 Td
(   , KnownBy magicmirror dwarf 0 0 0 0 0 0) Tj
ET
BT
42.52 525.855 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 494.22 Td
(Notice that the ending punctuation has been separated from the rest of the text. In) Tj
ET
BT
42.52 481.465 Td
(the English language \(and shown in the above examples\), periods are often) Tj
ET
BT
42.52 468.709 Td
(substituted with commas when joining a piece of dialog with a piece of narrative.) Tj
ET
BT
42.52 455.953 Td
(This separation gives us the option to replace the punctuation programmatically. It) Tj
ET
BT
42.52 443.197 Td
(would be nice if the substitution always occurred, but with some punctuation, such) Tj
ET
BT
42.52 430.441 Td
(as the question mark, the punctuation remains and is not replaced by a comma. To) Tj
ET
BT
42.52 417.685 Td
(signify this, we can choose a zero value for the punctuation list element.) Tj
ET
BT
42.52 404.929 Td
(Additionally, you can see that there are no quotation marks included in the) Tj
ET
BT
42.52 392.173 Td
(information text. These will be included or not, by the narrative text. ) Tj
ET
BT
42.52 366.661 Td
(Adding all of this new diversity to the information objects greatly increases the) Tj
ET
BT
42.52 353.906 Td
(complexity. Since we may not always want the complexity we should be able to opt) Tj
ET
BT
42.52 341.15 Td
(out of it if we so desire. A fairly good indicator that we don't want to personalize) Tj
ET
BT
42.52 328.394 Td
(the text to the NPC is having only one value in the given property. That is, if the) Tj
ET
BT
42.52 315.638 Td
(ending punctuation wasn't provided then just print the text and move on. The) Tj
ET
BT
42.52 302.882 Td
(following KnowledgeTopic TellAbout routine, together with a new property, does a) Tj
ET
BT
42.52 290.126 Td
(basic form of this conversation "blending" provided the telling NPC doesn't provide) Tj
ET
BT
42.52 277.37 Td
(a means to do this: ) Tj
ET
BT
/F8 6.053 Tf
42.52 233.49 Td
( ... part of the KnowledgeTopic base class) Tj
ET
BT
42.52 227.367 Td
(   , TellAbout[to from;) Tj
ET
BT
42.52 221.244 Td
(      if\(\(self.#topicinformation/2\)>1\){) Tj
ET
BT
42.52 215.121 Td
(         if\(from provides ProcessDialog\) {) Tj
ET
BT
42.52 208.998 Td
(            from.ProcessDialog\(to, PersonalizeTell,) Tj
ET
BT
42.52 202.876 Td
(               self, TopicInformation\);) Tj
ET
BT
42.52 196.753 Td
(         }) Tj
ET
BT
42.52 190.63 Td
(         else{) Tj
ET
BT
42.52 184.507 Td
(            if\(from==player\) print "You say, ";  ) Tj
ET
BT
42.52 178.384 Td
(            else print \(The\)from, " says, ";) Tj
ET
BT
42.52 172.261 Td
(            FlushDialog\(self,TopicInformation,0\);) Tj
ET
BT
42.52 166.139 Td
(         }) Tj
ET
BT
42.52 160.016 Td
(      }) Tj
ET
BT
42.52 153.893 Td
(      else PrintOrRun\(self,TopicInformation\);) Tj
ET
BT
42.52 147.77 Td
(      if\(self has learnable\) self.MemorizeFor\(to\);) Tj
ET
BT
42.52 141.647 Td
(   ]) Tj
ET
BT
/F6 9.87 Tf
42.52 110.013 Td
(Note that the ProcessDialog routine is called if the NPC provides it. This routine) Tj
ET
BT
42.52 97.257 Td
(will parse the topic information and print it through a property we've specified, in) Tj
ET
endstream
endobj
>>
229 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 230 0 R
>>
endobj
230 0 obj
<</Length 3801>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(106) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(this case PersonalizeTell. We've made a presumption that if the object provides) Tj
ET
BT
42.52 568.205 Td
(ProcessDialog, then it also provides PersonalizeTell. We could check for both, but) Tj
ET
BT
42.52 555.449 Td
(if we add them to our NPC base class, then it is really not such a large leap of) Tj
ET
BT
42.52 542.693 Td
(faith to presume that the existence of one implies the existence of the other. ) Tj
ET
BT
/F8 6.053 Tf
42.52 498.813 Td
( ... part of the NPC base class) Tj
ET
BT
42.52 492.69 Td
(   ProcessDialog[talkto procedure knobj info s1 p1 s2 p2;  ) Tj
ET
BT
42.52 486.567 Td
(      s1=\(knobj.&info-->0\);) Tj
ET
BT
42.52 480.444 Td
(      p1=knobj.&info-->1;) Tj
ET
BT
42.52 474.321 Td
(      s2=0; !default to nothing) Tj
ET
BT
42.52 468.198 Td
(      if\(\(knobj.#info/2\)>2\){) Tj
ET
BT
42.52 462.076 Td
(         s2=knobj.&info-->2;) Tj
ET
BT
42.52 455.953 Td
(         p2=knobj.&info-->3;) Tj
ET
BT
42.52 449.83 Td
(      }) Tj
ET
BT
42.52 443.707 Td
(      self.procedure\(talkto, s1,p1,s2,p2\);) Tj
ET
BT
42.52 437.584 Td
(      FlushDialog\(knobj,info,4\); !print out remaining text) Tj
ET
BT
42.52 431.461 Td
(   ]   ) Tj
ET
BT
42.52 425.339 Td
(   , TellLine[before s1 canreplace p1 after;!print a single portion of text  ) Tj
ET
BT
42.52 419.216 Td
(         if\(s1\){print \(string\)before, \(string\)s1;) Tj
ET
BT
42.52 413.093 Td
(            if\(canreplace\)print \(string\)p1; !can replace punctuation?) Tj
ET
BT
42.52 406.97 Td
(            print \(string\)after;) Tj
ET
BT
42.52 400.847 Td
(            return true;) Tj
ET
BT
42.52 394.724 Td
(         }) Tj
ET
BT
42.52 388.602 Td
(         return false;) Tj
ET
BT
42.52 382.479 Td
(      ]) Tj
ET
BT
42.52 376.356 Td
(   , PersonalizeTell[talkto s1 p1 s2 p2; !override for npc formating) Tj
ET
BT
42.52 370.233 Td
(         if\(self.TellLine\("~",s1,p1,",","~ "\)\);) Tj
ET
BT
42.52 364.11 Td
(         if\(self==player\) print "you say to ";) Tj
ET
BT
42.52 357.987 Td
(         else print \(the\)self," says to ";) Tj
ET
BT
42.52 351.865 Td
(         if\(talkto==player\) print "you. ";) Tj
ET
BT
42.52 345.742 Td
(         else print \(the\)talkto,".";) Tj
ET
BT
42.52 339.619 Td
(         self.TellLine\("~",s2,p2,".","~ "\);) Tj
ET
BT
42.52 333.496 Td
(      ]) Tj
ET
BT
/F6 9.87 Tf
42.52 301.861 Td
( The routine for wrapping all remaining text in quotes and printing it is best) Tj
ET
BT
42.52 289.106 Td
(allocated globally since multiple classes will use it. ) Tj
ET
BT
/F8 6.053 Tf
42.52 245.225 Td
( [FlushDialog knobj info start t ;) Tj
ET
BT
42.52 239.102 Td
(   if\(\(knobj.#info/2\)) Tj
ET
BT
118.783 239.102 Td
(   print"~";) Tj
ET
BT
42.52 232.98 Td
(   for\(t=start:t<\(knobj.#info/2\):t=t+2\){) Tj
ET
BT
42.52 226.857 Td
(      if\(t>start\) print " ";) Tj
ET
BT
42.52 220.734 Td
(      print \(string\) knobj.&info-->t;) Tj
ET
BT
42.52 214.611 Td
(      if\(knobj.&info-->\(t+1\)\) print \(string\) knobj.&info-->\(t+1\);  ) Tj
ET
BT
42.52 208.488 Td
(   }) Tj
ET
BT
42.52 202.365 Td
(   print"~";) Tj
ET
BT
42.52 196.243 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 164.608 Td
(So why did we pass in PersonalizeTell rather than just calling it from the) Tj
ET
BT
42.52 151.852 Td
(ProcessDialog? Doing so enables us to reuse the code in ProcessDialog and) Tj
ET
BT
42.52 139.096 Td
(specify other routines for the text customization. We'll use this in a moment when) Tj
ET
BT
42.52 126.34 Td
(our characters begin to "ask" as well as "tell." ) Tj
ET
BT
42.52 100.828 Td
(Now we have the entire framework in place. Alone, we have far better than just) Tj
ET
BT
42.52 88.072 Td
(quoted text. ) Tj
ET
endstream
endobj
>>
231 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 232 0 R
>>
endobj
232 0 obj
<</Length 3309>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(107) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 549.836 Td
( >ask dwarf about snowwhite) Tj
ET
BT
42.52 543.713 Td
( "Yes, I remember her," the dwarf says to you. "But that was long   ) Tj
ET
BT
42.52 537.591 Td
( ago.") Tj
ET
BT
/F6 9.87 Tf
42.52 499.833 Td
(But we can also personalize the telling of topics with regard to the speaking NPC: ) Tj
ET
BT
/F8 6.053 Tf
42.52 455.953 Td
( NPC -> dwarf "dwarf" ) Tj
ET
BT
42.52 449.83 Td
(   with name 'dwarf') Tj
ET
BT
42.52 443.707 Td
(   , PersonalizeTell[talkto s1 p1 s2 p2;) Tj
ET
BT
42.52 437.584 Td
(      talkto=0; !disable warning msg) Tj
ET
BT
42.52 431.461 Td
(      self.TellLine\("~",s1,p1,",","~ replies the dwarf with ) Tj
ET
BT
42.52 425.339 Td
(         a dreamy expression. "\);) Tj
ET
BT
42.52 419.216 Td
(      self.TellLine\("~",s2,p2,".","~ For a moment you think you see  ) Tj
ET
BT
42.52 413.093 Td
(         a tear in his eye."\);) Tj
ET
BT
42.52 406.97 Td
( ];) Tj
ET
BT
42.52 394.724 Td
( NPC -> guard "guard" ) Tj
ET
BT
42.52 388.602 Td
(   with name 'guard') Tj
ET
BT
42.52 382.479 Td
(   , PersonalizeTell[talkto s1 p1 s2 p2;) Tj
ET
BT
42.52 376.356 Td
(      print "The guard looks at ";) Tj
ET
BT
42.52 370.233 Td
(      if\(talkto==player\) print "you";) Tj
ET
BT
42.52 364.11 Td
(      else print \(the\)talkto;) Tj
ET
BT
42.52 357.987 Td
(      self.TellLine\(" with disdain.  ~",s1,p1,",",) Tj
ET
BT
42.52 351.865 Td
(         "~ he says smugly. "\);) Tj
ET
BT
42.52 345.742 Td
(      self.TellLine\("~",s2,p2,".","~ "\);) Tj
ET
BT
42.52 339.619 Td
( ];) Tj
ET
BT
42.52 327.373 Td
( NPC -> magicmirror "magic mirror" ) Tj
ET
BT
42.52 321.25 Td
(   with name 'magic' 'mirror') Tj
ET
BT
42.52 315.128 Td
(   , PersonalizeTell[talkto s1 p1 s2 p2;) Tj
ET
BT
42.52 309.005 Td
(      talkto=0; !disable warning msg) Tj
ET
BT
42.52 302.882 Td
(      self.TellLine\("For a moment the mirror pauses, as though ) Tj
ET
BT
42.52 296.759 Td
(         trying to recall something almost forgotten.  ) Tj
ET
BT
42.52 290.636 Td
(         Then it speaks: ~",s1,p1,"."," "\);) Tj
ET
BT
42.52 284.513 Td
(      if\(self.TellLine\("",s2,p2,".","~ "\)==false\) print"~";) Tj
ET
BT
42.52 278.391 Td
(   ]) Tj
ET
BT
42.52 272.268 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 240.633 Td
(Of course, the PersonalizedTell routine works better if stocked with several) Tj
ET
BT
42.52 227.877 Td
(variations of text, but this is a good starting point. To completely implement our) Tj
ET
BT
42.52 215.121 Td
(examples, we still need to implement a PersonalizedAsk routine. Since the act of) Tj
ET
BT
42.52 202.365 Td
(asking is done by the player rather than the NPC, it needs to be implemented) Tj
ET
BT
42.52 189.609 Td
(somewhere other than the NPC's life routine. Replacing the standard library's) Tj
ET
BT
42.52 176.854 Td
(AskSub routine is the obvious choice: ) Tj
ET
BT
/F8 6.053 Tf
42.52 132.973 Td
( replace AskSub;) Tj
ET
BT
42.52 120.728 Td
( [AskSub;) Tj
ET
BT
42.52 114.605 Td
(   if\(second ofclass KnowledgeTopic\) ) Tj
ET
BT
42.52 108.482 Td
(   second.AskAbout\(noun, actor\);) Tj
ET
BT
42.52 102.359 Td
(   if\(RunLife\(noun,##Ask\)~=0\) rfalse;  ) Tj
ET
BT
42.52 96.236 Td
(    L__M\(##Ask,1,noun\);) Tj
ET
BT
42.52 90.113 Td
( ];  ) Tj
ET
endstream
endobj
>>
233 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 234 0 R
>>
endobj
234 0 obj
<</Length 3176>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(108) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(Now we can implement the AskAbout routine just as we did TellAbout: ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( ...in the KnowledgeTopic class) Tj
ET
BT
42.52 505.446 Td
(   , AskAbout[askwho askby;) Tj
ET
BT
42.52 499.323 Td
(      if\(\(self provides query\)==false\) return;) Tj
ET
BT
42.52 493.2 Td
(      if\(\(self.#query/2\)>1 && askwho has animate or talkable\){  ) Tj
ET
BT
42.52 487.077 Td
(         if\(askby provides ProcessDialog\) {) Tj
ET
BT
42.52 480.954 Td
(            askby.ProcessDialog\(askwho, PersonalizeAsk,) Tj
ET
BT
42.52 474.831 Td
(               self,query\);) Tj
ET
BT
42.52 468.709 Td
(         }) Tj
ET
BT
42.52 462.586 Td
(      }) Tj
ET
BT
42.52 456.463 Td
(      else{) Tj
ET
BT
42.52 450.34 Td
(         if\(askby==player\) print "You ask, ";) Tj
ET
BT
42.52 444.217 Td
(         else print \(The\)askby, " asks, ";) Tj
ET
BT
42.52 438.094 Td
(         FlushDialog\(self, query,0\);) Tj
ET
BT
42.52 431.972 Td
(      } ) Tj
ET
BT
42.52 425.849 Td
(   }) Tj
ET
BT
42.52 419.726 Td
(   else PrintOrRun\(self,query\);) Tj
ET
BT
42.52 413.603 Td
(   print "^";) Tj
ET
BT
42.52 407.48 Td
( ]) Tj
ET
BT
/F6 9.87 Tf
42.52 375.846 Td
(And add the default PersonalizeAsk routine to the NPC base class: ) Tj
ET
BT
/F8 6.053 Tf
42.52 331.965 Td
( ... NPC class     ) Tj
ET
BT
42.52 325.843 Td
(   , PersonalizeAsk [talkto s1 p1 s2 p2; !over-ride for npc formatting  ) Tj
ET
BT
42.52 319.72 Td
(      if\(self.TellLine\("~",s1,p1,",","~ "\)\){) Tj
ET
BT
42.52 313.597 Td
(         if\(self==player\) print "you ask ";) Tj
ET
BT
42.52 307.474 Td
(         else print \(the\)self," asks ";) Tj
ET
BT
42.52 301.351 Td
(         if\(talkto==player\) print "you. ";) Tj
ET
BT
42.52 295.228 Td
(         else print \(the\)talkto,".";) Tj
ET
BT
42.52 289.106 Td
(      }) Tj
ET
BT
42.52 282.983 Td
(      self.TellLine\("~",s2,p2,".","~ "\);) Tj
ET
BT
42.52 276.86 Td
(   ]) Tj
ET
BT
/F6 9.87 Tf
42.52 245.225 Td
(At this point, we've accomplished everything we need to print out the query text) Tj
ET
BT
42.52 232.469 Td
(when the player asks about a topic. We've also laid the framework for our NPCs to) Tj
ET
BT
42.52 219.713 Td
(ask questions. Personalizing the narrative is accomplished for "ask" in the same) Tj
ET
BT
42.52 206.957 Td
(way that it was for "tell." For example, let's add the following personalization to the) Tj
ET
BT
42.52 194.202 Td
(guard: ) Tj
ET
BT
/F8 6.053 Tf
42.52 150.321 Td
( ...guard instance) Tj
ET
BT
42.52 144.198 Td
(   , PersonalizeAsk [talkto s1 p1 s2 p2;) Tj
ET
BT
42.52 138.076 Td
(      talkto=0; !disable warning) Tj
ET
BT
42.52 131.953 Td
(      if\(self==player\) print "You hesitate";) Tj
ET
BT
42.52 125.83 Td
(      else print \(The\)self," hesitates";) Tj
ET
BT
42.52 119.707 Td
(      self.TellLine\(" for a moment, then:  ~",s1,p1,".",) Tj
ET
BT
42.52 113.584 Td
(         " "\);) Tj
ET
BT
42.52 107.461 Td
(      if\(~self.TellLine\("~",s2,p2,".","~ "\)\) print"~";  ) Tj
ET
BT
42.52 101.339 Td
(   ]) Tj
ET
endstream
endobj
>>
235 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 236 0 R
>>
endobj
236 0 obj
<</Length 2536>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(109) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(The following code will now cause the guard to ask the dwarf about the snowwhite) Tj
ET
BT
42.52 555.449 Td
(topic: ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( actor=guard;) Tj
ET
BT
42.52 505.446 Td
( <ask dwarf snowwhite>;  ) Tj
ET
BT
/F6 9.87 Tf
42.52 473.811 Td
(Upon execution, the generated text reads: ) Tj
ET
BT
/F8 6.053 Tf
42.52 429.931 Td
( The guard hesitates for a moment, then:  "Do you remember  ) Tj
ET
BT
42.52 423.808 Td
( Snow White? ") Tj
ET
BT
42.52 417.685 Td
( "Yes, I remember her," replies the dwarf with a dreamy   ) Tj
ET
BT
42.52 411.562 Td
( expression. "But that was long ago." For a moment you think   ) Tj
ET
BT
42.52 405.439 Td
( you see a tear in his eye.) Tj
ET
BT
/F6 9.87 Tf
42.52 373.805 Td
(To top it all off, when all of this narrative diversity is said and done, the guard) Tj
ET
BT
42.52 361.049 Td
(has now learned something that he can talk about if asked. ) Tj
ET
BT
42.52 335.537 Td
(As you look over the guard's PersonalizeAsk routine, you might be wondering) Tj
ET
BT
42.52 322.781 Td
(about the "You hesitate" text and the corresponding check to see if the guard and) Tj
ET
BT
42.52 310.025 Td
(the player are one and the same. Of course, this is only necessary if you plan of) Tj
ET
BT
42.52 297.269 Td
(letting the player "body jump" into the guard, and in a real game, we would want to) Tj
ET
BT
42.52 284.513 Td
(make similar changes to the PersonalizeTell routine. As it happens, we can utilize) Tj
ET
BT
42.52 271.757 Td
(the standard library's ChangePlayer\(\) routine to demonstrate giving the player the) Tj
ET
BT
42.52 259.002 Td
(same conversation abilities that we have given our NPCs: ) Tj
ET
BT
/F8 6.053 Tf
42.52 215.121 Td
( <ask dwarf snowwhite>;) Tj
ET
BT
42.52 208.998 Td
( print "^     <Player becomes the guard...>^";  ) Tj
ET
BT
42.52 202.876 Td
( ChangePlayer\(guard\);) Tj
ET
BT
42.52 196.753 Td
( <ask dwarf snowwhite>;) Tj
ET
BT
/F6 9.87 Tf
42.52 165.118 Td
(Notice that when the player character becomes the NPC, he also inherits the) Tj
ET
BT
42.52 152.362 Td
(personalization routines: ) Tj
ET
BT
/F8 6.053 Tf
42.52 108.482 Td
( "Do you remember Snow White?") Tj
ET
BT
42.52 102.359 Td
( "Yes, I remember her," replies the dwarf with a dreamy) Tj
ET
BT
42.52 96.236 Td
( expression. "But that was long ago." For a moment you think  ) Tj
ET
BT
42.52 90.113 Td
( you see a tear in his eye.) Tj
ET
endstream
endobj
>>
237 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 238 0 R
>>
endobj
238 0 obj
<</Length 1525>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2b: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(110) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
(      <Player becomes the guard...>) Tj
ET
BT
42.52 574.838 Td
( You hesitate for a moment, then:  "Do you remember ) Tj
ET
BT
42.52 568.715 Td
( Snow White?") Tj
ET
BT
42.52 562.592 Td
( "Yes, I remember her," replies the dwarf with a dreamy ) Tj
ET
BT
42.52 556.469 Td
( expression. "But that was long ago." For a moment you think ) Tj
ET
BT
42.52 550.346 Td
( you see a tear in his eye.) Tj
ET
BT
/F6 9.87 Tf
42.52 518.712 Td
(A useful technique, even for games where the player does not change, is to create) Tj
ET
BT
42.52 505.956 Td
(an NPC that will be the player. This way, questions asked by the player will) Tj
ET
BT
42.52 493.2 Td
(have the same customized formatting as questions asked by NPCs. ) Tj
ET
BT
42.52 467.688 Td
(It should be noted that the pronoun print rules discussed in the previous article ") Tj
ET
BT
42.52 454.932 Td
(Pronouns On Steroids) Tj
ET
BT
139.62 454.932 Td
(" really shine in this area and make coding dialog for these) Tj
ET
BT
42.52 442.176 Td
(sorts of dual-purpose NPCs much simpler. ) Tj
ET
BT
/F5 9.87 Tf
42.52 416.665 Td
(On to More Advanced Techniques) Tj
ET
BT
/F6 9.87 Tf
42.52 391.153 Td
(In this section we have covered several advanced topics, that can be used to) Tj
ET
BT
42.52 378.397 Td
(customize text to a specific NPC. There's more to come in section 3... ) Tj
ET
endstream
endobj
>>
239 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 240 0 R
>>
endobj
240 0 obj
<</Length 3022>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(111) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Knowledge and Conversation ) Tj
ET
BT
42.52 568.205 Td
(3: More Advanced Techniques ) Tj
ET
BT
42.52 555.449 Td
(\(Advanced NPC Implementation, Part 2c\)) Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I341 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(n the previous section we discussed various methods of sharing) Tj
ET
BT
99.213 517.181 Td
(knowledge between characters and customizing the dialog to match a) Tj
ET
BT
99.213 504.425 Td
(character. This section will cover additional techniques, such as) Tj
ET
BT
99.213 491.669 Td
(topics that change content. ) Tj
ET
BT
/F5 9.87 Tf
42.52 466.157 Td
(Morphing Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 440.646 Td
(A common practice when developing NPCs is to have the character say random) Tj
ET
BT
42.52 427.89 Td
(things at various points in the game. Embedded somewhere deep in whatever) Tj
ET
BT
42.52 415.134 Td
(daemon controls the NPC can be a couple of lines of code that cause the character) Tj
ET
BT
42.52 402.378 Td
(to speak to the player: ) Tj
ET
BT
/F8 6.053 Tf
42.52 358.498 Td
( actor=dwarf;) Tj
ET
BT
42.52 352.375 Td
( <tell player smalltalk>;   ) Tj
ET
BT
/F6 9.87 Tf
42.52 320.74 Td
(Although it is certainly possible to create a dozen or so KnowledgeTopics, pick one) Tj
ET
BT
42.52 307.984 Td
(at random each turn and have the NPC talk about it, a better way is to create a) Tj
ET
BT
42.52 295.228 Td
(morphing topic. That is, a topic that prints something different each time it is) Tj
ET
BT
42.52 282.472 Td
(used. Since this technique is best implemented with non-learnable topics,) Tj
ET
BT
42.52 269.717 Td
(separating conversation from information need not be done: ) Tj
ET
BT
/F8 6.053 Tf
42.52 225.836 Td
( KnowledgeTopic smalltalk ) Tj
ET
BT
42.52 219.713 Td
(   with name 'smalltalk') Tj
ET
BT
42.52 213.591 Td
(   , KnownBy dwarf ) Tj
ET
BT
42.52 207.468 Td
(   , TopicInformation[;) Tj
ET
BT
42.52 201.345 Td
(      switch\(random\(4\)\){) Tj
ET
BT
42.52 195.222 Td
(         1: "~There don't appear to be any other dwarves here,~ ) Tj
ET
BT
42.52 189.099 Td
(            says the dwarf.  ~I'll have to notify the ) Tj
ET
BT
42.52 182.976 Td
(            labor board.~";) Tj
ET
BT
42.52 176.854 Td
(         2: "~I'm trying to keep my shoes clean,~ says the dwarf. ~My   ) Tj
ET
BT
42.52 170.731 Td
(            brothers are all envious of them.~";) Tj
ET
BT
42.52 164.608 Td
(         3: "~Hi-ho!~ spouts the dwarf.";) Tj
ET
BT
42.52 158.485 Td
(         4: "The dwarf scratches his bearded chin and says, ) Tj
ET
BT
42.52 152.362 Td
(            ~Hmmm, I wonder where my children hid my hat.~ ";) Tj
ET
BT
42.52 146.239 Td
(      }) Tj
ET
BT
42.52 140.117 Td
(   ]) Tj
ET
BT
42.52 133.994 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 115.115 Td
(Additionally, using a variation of this technique we can customize conversations to) Tj
ET
BT
42.52 102.359 Td
(follow a specific script... ) Tj
ET
endstream
endobj
>>
241 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 242 0 R
>>
endobj
242 0 obj
<</Length 3556>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2c: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(112) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Conversation Script Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(One of the more difficult challenges that must be faced when writing believable) Tj
ET
BT
42.52 542.693 Td
(NPC dialog via the ASK/Tell method is getting the player to ask the right questions.) Tj
ET
BT
42.52 529.937 Td
(In many cases there is information that needs to be conveyed to the player to) Tj
ET
BT
42.52 517.181 Td
(further the game, yet there is no viable method of forcing him/her to make the) Tj
ET
BT
42.52 504.425 Td
(appropriate inquiries. It is true that the occasional hint can be dropped here and) Tj
ET
BT
42.52 491.669 Td
(there, but there are often times that hints just don't seem appropriate to the game. ) Tj
ET
BT
42.52 466.157 Td
(Having an NPC initiate conversation and thereby volunteer this information is a) Tj
ET
BT
42.52 453.402 Td
(time-honored method of dealing with situation. In truth, this technique can be) Tj
ET
BT
42.52 440.646 Td
(useful even if no pertinent information needs to be conveyed. People initiate) Tj
ET
BT
42.52 427.89 Td
(conversation and volunteer trivial information as a matter of common practice. A) Tj
ET
BT
42.52 415.134 Td
(realistic NPC should do this as well. Having an NPC follow a "conversation script") Tj
ET
BT
42.52 402.378 Td
(that evolves over a series of turns can help to simulate a conversation and provide) Tj
ET
BT
42.52 389.622 Td
(pertinent information if needed. ) Tj
ET
BT
42.52 364.11 Td
(There is a caveat or two associated with this approach, though. Many developers,) Tj
ET
BT
42.52 351.354 Td
(myself included, have implemented this technique and rendered the player helpless) Tj
ET
BT
42.52 338.598 Td
(for a time. That is, a situation has been created where the player can do nothing) Tj
ET
BT
42.52 325.843 Td
(except wait until the NPC is finished talking. No amount of ingenious dialog can) Tj
ET
BT
42.52 313.087 Td
(make up for a lack of interactivity. If the only action available to the player is to) Tj
ET
BT
42.52 300.331 Td
(type "z", the game's "player experience" will suffer. ) Tj
ET
BT
42.52 274.819 Td
(Another thing to consider when designing a conversation script is that people) Tj
ET
BT
42.52 262.063 Td
(generally do not repeat the same information unless asked to. In a conversation) Tj
ET
BT
42.52 249.307 Td
(where the player actually participates, it is possible that an NPC will be asked a) Tj
ET
BT
42.52 236.551 Td
(question earlier than he was scripted to volunteer it. Repeating the information) Tj
ET
BT
42.52 223.795 Td
(after it has been already been told is repetitive. What is needed is a way for the) Tj
ET
BT
42.52 211.039 Td
(NPC to remember what has already been said and to move on to the next item in) Tj
ET
BT
42.52 198.283 Td
(the script. ) Tj
ET
BT
42.52 172.772 Td
(The "conversation script topic," a variation of morphing topics, is one of the more) Tj
ET
BT
42.52 160.016 Td
(useful techniques in creating realistic, non-repeating dialog. It is particularly) Tj
ET
BT
42.52 147.26 Td
(powerful because it can utilize other KnowledgeTopic objects so that the) Tj
ET
BT
42.52 134.504 Td
(information can be both asked for and volunteered. ) Tj
ET
BT
42.52 108.992 Td
(A couple of minor modifications should be implemented to facilitate knowledge) Tj
ET
BT
42.52 96.236 Td
(scripts. The first is a method of recording whether or not a topic has been) Tj
ET
endstream
endobj
>>
243 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 244 0 R
>>
endobj
244 0 obj
<</Length 3108>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(113) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(communicated before. We can accomplish this by defining and setting an attribute.) Tj
ET
BT
42.52 568.205 Td
(Arbitrarily, we'll call this 'hasbeentold': ) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( attribute hasbeentold;   ) Tj
ET
BT
/F6 9.87 Tf
42.52 492.69 Td
(The next modification we can make will ensure that the NPC doesn't "double talk") Tj
ET
BT
42.52 479.934 Td
(or say two things at once. This can happen when the NPC is following a script and) Tj
ET
BT
42.52 467.178 Td
(the player asks a question. If not coded correctly, the NPC will answer the) Tj
ET
BT
42.52 454.422 Td
(question and then continue to say whatever comes next on the topic script. Game) Tj
ET
BT
42.52 441.666 Td
(conversation seems to more closely parallel reality if the NPC only "drives" the) Tj
ET
BT
42.52 428.91 Td
(conversation when the player isn't talking to him. To accomplish this, we can add) Tj
ET
BT
42.52 416.154 Td
(a property to the NPC class that records the last move he/she spoke in: ) Tj
ET
BT
/F8 6.053 Tf
42.52 372.274 Td
( ...add to NPC class   ) Tj
ET
BT
42.52 366.151 Td
(   , LastMoveSpoken 0) Tj
ET
BT
/F6 9.87 Tf
42.52 334.517 Td
(These values can be updated when a topic is conveyed. The TellAbout routine, in) Tj
ET
BT
42.52 321.761 Td
(the KnowledgeTopic class, is the obvious place: ) Tj
ET
BT
/F8 6.053 Tf
42.52 277.88 Td
( ...in the KnowledgeTopic class) Tj
ET
BT
42.52 271.757 Td
(   , TellAbout[to from;) Tj
ET
BT
42.52 265.635 Td
(      if\(from provides LastMoveSpoken\)) Tj
ET
BT
42.52 259.512 Td
(      from.LastMoveSpoken=turns+1;) Tj
ET
BT
42.52 253.389 Td
(      give self HasBeenTold;) Tj
ET
BT
42.52 247.266 Td
(      if\(\(self.#topicinformation/2\)>1\){) Tj
ET
BT
42.52 241.143 Td
(         if\(from provides ProcessDialog\) ) Tj
ET
BT
42.52 235.02 Td
(            from.ProcessDialog\(to, PersonalizeTell,   ) Tj
ET
BT
42.52 228.898 Td
(               self, TopicInformation\);) Tj
ET
BT
42.52 222.775 Td
(         else{) Tj
ET
BT
42.52 216.652 Td
(            if\(from==player\) print "You say, ";) Tj
ET
BT
42.52 210.529 Td
(            else print \(The\)from, " says, ";) Tj
ET
BT
42.52 204.406 Td
(            FlushDialog\(self,TopicInformation,0\);) Tj
ET
BT
42.52 198.283 Td
(         }) Tj
ET
BT
42.52 192.161 Td
(      }) Tj
ET
BT
42.52 186.038 Td
(      else PrintOrRun\(self,TopicInformation\);) Tj
ET
BT
42.52 179.915 Td
(      if\(self has learnable\) ) Tj
ET
BT
42.52 173.792 Td
(      Self.MemorizeFor\(to\);) Tj
ET
BT
42.52 167.669 Td
(   ]) Tj
ET
BT
/F6 9.87 Tf
42.52 136.035 Td
(The final new addition that we will make to the KnowledgeTopic object, which we) Tj
ET
BT
42.52 123.279 Td
(have been developing in this article, is a routine called SayOrRecurse. The sole) Tj
ET
BT
42.52 110.523 Td
(purpose of this routine is to facilitate a conversation script. This routine, which is) Tj
ET
BT
42.52 97.767 Td
(called by the TellAbout routine, checks to see if the specified KnowledgeTopic has) Tj
ET
endstream
endobj
>>
245 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 246 0 R
>>
endobj
246 0 obj
<</Length 3379>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2c: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(114) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(already been conveyed. If not, then it will print it and return. If so, then the) Tj
ET
BT
42.52 568.205 Td
(TellAbout routine of the current object is called \(recursively\) to request the next) Tj
ET
BT
42.52 555.449 Td
(scripted topic: ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( ...from KnowledgeTopic class) Tj
ET
BT
42.52 505.446 Td
(   , SayOrRecurse [o to from;) Tj
ET
BT
42.52 499.323 Td
(      if\(o hasnt hasbeentold\) o.TellAbout\(to, from\);   ) Tj
ET
BT
42.52 493.2 Td
(      else self.TellAbout\(to, from\);) Tj
ET
BT
42.52 487.077 Td
(   ]) Tj
ET
BT
/F6 9.87 Tf
42.52 455.443 Td
(Opinions vary concerning the use of recursion. Suffice it to say, misuse of this) Tj
ET
BT
42.52 442.687 Td
(technique can cause run-time errors in the Z-Machine interpreter. Although it can) Tj
ET
BT
42.52 429.931 Td
(be a useful addition to your conversation repertoire, use this method with care. ) Tj
ET
BT
42.52 404.419 Td
(Before creating a conversation script, an author should have a clear idea of how) Tj
ET
BT
42.52 391.663 Td
(the conversation should flow. A design technique used by many authors is to write) Tj
ET
BT
42.52 378.907 Td
(the entire conversation the way they would prefer it to read first. Once this has) Tj
ET
BT
42.52 366.151 Td
(been done, the conversation can be logically separated into pieces. Almost always,) Tj
ET
BT
42.52 353.395 Td
(these pieces of text can be classified into two categories: dialog that is the) Tj
ET
BT
42.52 340.639 Td
(answer to a question which the player will possibly ask, and dialog that will) Tj
ET
BT
42.52 327.883 Td
(never be asked about, and serves no purpose other than to make the NPC seem) Tj
ET
BT
42.52 315.128 Td
(more believable. ) Tj
ET
BT
42.52 289.616 Td
(The former type, which can be inquired about, is best stored in a KnowledgeTopic) Tj
ET
BT
42.52 276.86 Td
(of it's own. Generally, these types of dialog pieces will compromise the bulk of a) Tj
ET
BT
42.52 264.104 Td
(conversation script. The latter type more often appears at the beginning and end of) Tj
ET
BT
42.52 251.348 Td
(a script. Generic statements, such as variations of "hello," and "goodbye", are) Tj
ET
BT
42.52 238.592 Td
(classified in this category. ) Tj
ET
BT
42.52 213.08 Td
(What follows is an example script object for a conversation between a doctor and) Tj
ET
BT
42.52 200.324 Td
(the player who has just woken up in a hospital. Notice that script steps 2, 3, and 4) Tj
ET
BT
42.52 187.569 Td
(utilize three other KnowledgeTopics and so will be brought up, even if not directly) Tj
ET
BT
42.52 174.813 Td
(asked about by the player. ) Tj
ET
BT
/F8 6.053 Tf
42.52 130.932 Td
( KnowledgeTopic DocScript_t) Tj
ET
BT
42.52 124.809 Td
(   with     count     0, KnownBy doctor) Tj
ET
BT
42.52 118.687 Td
(   , TellAbout[towho fromwho;) Tj
ET
BT
42.52 112.564 Td
(      self.count=self.count+1;) Tj
ET
BT
42.52 106.441 Td
(      switch\(self.count\) {) Tj
ET
BT
42.52 100.318 Td
(         1: print "^~How are you feeling, Mr. Valentine?  I'm pleased to ) Tj
ET
BT
42.52 94.195 Td
(               see you've awakened,~ the man says to you. ";) Tj
ET
BT
42.52 88.072 Td
(         2: self.SayOrRecurse\(doc_who_t,towho, fromwho\);) Tj
ET
endstream
endobj
>>
247 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 248 0 R
>>
endobj
248 0 obj
<</Length 5210>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(115) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
(         3: self.SayOrRecurse\(doc_me_t, towho, fromwho\);) Tj
ET
BT
42.52 574.838 Td
(         4: self.SayOrRecurse\(hosp_where_t, towho,fromwho\); ) Tj
ET
BT
42.52 568.715 Td
(         5: print "~Okay then,~ says the doctor as he opens the door.  ~If you   ) Tj
ET
BT
42.52 562.592 Td
(               have anymore questions, feel free to buzz the nurse.~  He ) Tj
ET
BT
42.52 556.469 Td
(               leaves and closes the door behind him.";) Tj
ET
BT
42.52 550.346 Td
(            self.TellAbout=NULL;) Tj
ET
BT
42.52 544.224 Td
(      }) Tj
ET
BT
42.52 538.101 Td
(   ]) Tj
ET
BT
42.52 531.978 Td
( ;) Tj
ET
BT
42.52 525.855 Td
( KnowledgeTopic doc_who_t ) Tj
ET
BT
42.52 519.732 Td
(   with     name 'him' 'himself' 'man' 'doc' 'doctor' 'who') Tj
ET
BT
42.52 513.609 Td
(   , KnownBy doctor) Tj
ET
BT
42.52 507.487 Td
(   , query  "^~So who are you?~ I asked the man. ") Tj
ET
BT
42.52 501.364 Td
(   , TopicInformation "^~My name is Doctor Harris.  I'm the resident ) Tj
ET
BT
42.52 495.241 Td
(      Nuerological specialist.~ ^^~Nuerological.~ You repeat, ) Tj
ET
BT
42.52 489.118 Td
(      then touch your head probingly. No bandage.^^The doctor ) Tj
ET
BT
42.52 482.995 Td
(      nods. ") Tj
ET
BT
42.52 476.872 Td
( ;) Tj
ET
BT
42.52 470.75 Td
( KnowledgeTopic doc_me_t ) Tj
ET
BT
42.52 464.627 Td
(   with name 'myself' 'self' 'me' 'head' 'damage' 'condition') Tj
ET
BT
42.52 458.504 Td
(   , KnownBy doctor) Tj
ET
BT
42.52 452.381 Td
(   , query "^~So what's my condition, Doc?~ You ask.") Tj
ET
BT
42.52 446.258 Td
(   , TopicInformation "^^~You're the talk of the hospital right now,~ he replies. ) Tj
ET
BT
42.52 440.135 Td
(      ~You've been comatose for several weeks. CAT scans showed ) Tj
ET
BT
42.52 434.013 Td
(      extreme cerebral dysfunction. To be frank, the prognosis was ) Tj
ET
BT
42.52 427.89 Td
(      bleak.^^~This morning, for no apparent reason, monitors ) Tj
ET
BT
42.52 421.767 Td
(      registered a return to normal brain activity. Further examination ) Tj
ET
BT
42.52 415.644 Td
(      showed burned tissue and broken ribs healed. I've never seen ) Tj
ET
BT
42.52 409.521 Td
(      anything like it before.~^^Cerebral dysfunction... You think ) Tj
ET
BT
42.52 403.398 Td
(      about that for a moment when it suddenly dawns on you that) Tj
ET
BT
42.52 397.276 Td
(      you cannot remember anything about yourself, including your ) Tj
ET
BT
42.52 391.153 Td
(      own name!") Tj
ET
BT
42.52 385.03 Td
( ;) Tj
ET
BT
42.52 378.907 Td
( KnowledgeTopic hosp_where_t) Tj
ET
BT
42.52 372.784 Td
(   with name 'where' 'hospital' 'location') Tj
ET
BT
42.52 366.661 Td
(   , KnownBy doctor) Tj
ET
BT
42.52 360.539 Td
(   , query "^~So where am I?~ ,You ask the doctor. ") Tj
ET
BT
42.52 354.416 Td
(   , TopicInformation "^~You're at Saint Augustine Hospital.~^Saint Augustine. ) Tj
ET
BT
42.52 348.293 Td
(      You don't recognize the name. ") Tj
ET
BT
42.52 342.17 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 310.535 Td
(Additionally, a believable NPC will have a collection of additional topics that are) Tj
ET
BT
42.52 297.78 Td
(not volunteered, but are clarifications of statements made in the script. This NPC) Tj
ET
BT
42.52 285.024 Td
(will be able to answer questions the player may have in the course of the) Tj
ET
BT
42.52 272.268 Td
(conversation but will not volunteer this information unless directly asked about it: ) Tj
ET
BT
/F8 6.053 Tf
42.52 228.387 Td
( KnowledgeTopic doc_amnesia_t ) Tj
ET
BT
42.52 222.265 Td
(   with name 'memory' 'amnesia') Tj
ET
BT
42.52 216.142 Td
(   , KnownBy doctor) Tj
ET
BT
42.52 210.019 Td
(   , query "^~So could my memory be affected?~ You ask.") Tj
ET
BT
42.52 203.896 Td
(   , TopicInformation "^^~Certainly,~ he said. ) Tj
ET
BT
42.52 197.773 Td
(      ~Without a doubt, the explosion, and   ) Tj
ET
BT
42.52 191.65 Td
(      events immediately preceding and following it would be   ) Tj
ET
BT
42.52 185.528 Td
(       unclear to you. That's normal.  There may even be ) Tj
ET
BT
42.52 179.405 Td
(       more substantial memory loss.~"  ) Tj
ET
BT
42.52 173.282 Td
( ;) Tj
ET
BT
42.52 167.159 Td
( KnowledgeTopic explosion_t ) Tj
ET
BT
42.52 161.036 Td
(   with name 'explosion') Tj
ET
BT
42.52 154.913 Td
(   , KnownBy doctor) Tj
ET
BT
42.52 148.791 Td
(   , query "^~What happened? You said I was in an explosion? ~") Tj
ET
BT
42.52 142.668 Td
(   , TopicInformation "^^A sad look comes across the doctor's face. ) Tj
ET
BT
42.52 136.545 Td
(      ~I'm afraid that I don't know many of the details behind what ) Tj
ET
BT
42.52 130.422 Td
(      happened to you. I only know that there was an explosion of some kind. ) Tj
ET
BT
42.52 124.299 Td
(      I have no information as to the condition of your family.~^^You watch ) Tj
ET
BT
42.52 118.176 Td
(      his eyes as he says this to you. For reasons you don't know, you ) Tj
ET
BT
42.52 112.054 Td
(      concentrate upon pupils as they dilate. In the back of your head, some    ) Tj
ET
BT
42.52 105.931 Td
(      forgotten memory tells you that this means he is lying. ") Tj
ET
BT
42.52 99.808 Td
( ;) Tj
ET
endstream
endobj
>>
249 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 250 0 R
>>
endobj
250 0 obj
<</Length 4119>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2c: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(116) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(Now that we have a workable script, we need an NPC capable of driving the) Tj
ET
BT
42.52 555.449 Td
(conversation: ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( NPC -> doctor "man" ) Tj
ET
BT
42.52 505.446 Td
(   with name 'doc' 'doctor' 'harris' 'man'   ) Tj
ET
BT
42.52 499.323 Td
(   , description "The man is dressed in a white coat.  He ) Tj
ET
BT
42.52 493.2 Td
(      appears to be a doctor.") Tj
ET
BT
42.52 487.077 Td
(   , each_turn[; if\(self.LastMoveSpoken==turns\) return;) Tj
ET
BT
42.52 480.954 Td
(      if\(DocScript_t provides TellAbout\) ) Tj
ET
BT
42.52 474.831 Td
(      DocScript_t.TellAbout\(player,self\);]) Tj
ET
BT
42.52 468.709 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 437.074 Td
(This simple NPC will converse with the player each turn about our script object.) Tj
ET
BT
42.52 424.318 Td
(The conversation can happen in several different ways now. One possible play out) Tj
ET
BT
42.52 411.562 Td
(of the script follows: ) Tj
ET
BT
/F8 6.053 Tf
42.52 367.682 Td
( "How are you feeling, Mr. Valentine? I'm pleased to see you've    ) Tj
ET
BT
42.52 361.559 Td
( awakened," the man says to you. ) Tj
ET
BT
42.52 349.313 Td
( >x man ) Tj
ET
BT
42.52 343.191 Td
( The man is dressed in a white coat. He appears to be a doctor.) Tj
ET
BT
42.52 337.068 Td
( "My name is Doctor Harris. I'm the resident Nuerological specialist."   ) Tj
ET
BT
42.52 324.822 Td
( "Nuerological." You repeat, and then touch your head probingly. No bandage.  ) Tj
ET
BT
42.52 318.699 Td
( The doctor nods. ) Tj
ET
BT
42.52 306.454 Td
( >ask doc about head) Tj
ET
BT
42.52 300.331 Td
( "So what's my condition, Doc?" You ask.) Tj
ET
BT
42.52 294.208 Td
( "You're the talk of the hospital right now," he ) Tj
ET
BT
42.52 288.085 Td
( replies. "You've been comatose for several weeks. CAT ) Tj
ET
BT
42.52 281.962 Td
( scans showed extreme cerebral dysfunction. To be frank, the prognosis ) Tj
ET
BT
42.52 275.839 Td
( was bleak.) Tj
ET
BT
42.52 263.594 Td
( "This morning, for no apparent reason, monitors registered a return ) Tj
ET
BT
42.52 257.471 Td
( to normal brain activity. Further examination showed burned tissue and ) Tj
ET
BT
42.52 251.348 Td
( broken ribs healed. I've never seen anything like it before.") Tj
ET
BT
42.52 239.102 Td
( Cerebral dysfunction... You think about that for a moment when it suddenly   ) Tj
ET
BT
42.52 232.98 Td
( dawns on you that you cannot remember anything about yourself, including   ) Tj
ET
BT
42.52 226.857 Td
( your own name!) Tj
ET
BT
42.52 214.611 Td
( >ask doc about hospital) Tj
ET
BT
42.52 208.488 Td
( "So where am I?", You ask the doctor. ) Tj
ET
BT
42.52 202.365 Td
( "You're at Saint Augustine Hospital.") Tj
ET
BT
42.52 190.12 Td
( Saint Augustine. You don't recognize the name. ) Tj
ET
BT
42.52 177.874 Td
( >ask doc about memory) Tj
ET
BT
42.52 171.751 Td
( "So could my memory be affected?" You ask.) Tj
ET
BT
42.52 165.628 Td
( "Certainly," he said. "Without a doubt, the explosion, and events   ) Tj
ET
BT
42.52 159.506 Td
( immediately preceding and following it would be unclear to you. That's ) Tj
ET
BT
42.52 153.383 Td
( normal. There may even be more substantial memory loss.") Tj
ET
BT
42.52 141.137 Td
( >ask doc about explosion) Tj
ET
BT
42.52 135.014 Td
( "What happened? You said I was in an explosion?") Tj
ET
BT
42.52 128.891 Td
( A sad look comes across the doctor's face. "I'm afraid that I ) Tj
ET
BT
42.52 122.769 Td
( don't know many of the details behind what happened to you. I only know   ) Tj
ET
BT
42.52 116.646 Td
( that there was an explosion of some kind. I have no information as to the ) Tj
ET
BT
42.52 110.523 Td
( condition of your family.") Tj
ET
BT
42.52 98.277 Td
( You watch his eyes as he says this to you. For reasons you don't know,  ) Tj
ET
BT
42.52 92.154 Td
( you concentrate upon his pupils as they dilate. In the back of your head,  ) Tj
ET
BT
42.52 86.031 Td
( some forgotten memory tells you this means he is lying.) Tj
ET
endstream
endobj
>>
251 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 252 0 R
>>
endobj
252 0 obj
<</Length 2750>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(117) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 574.838 Td
( >z) Tj
ET
BT
42.52 568.715 Td
( Time passes.) Tj
ET
BT
42.52 562.592 Td
( "Okay then," says the doctor as he opens the door. "If you have   ) Tj
ET
BT
42.52 556.469 Td
( anymore questions, feel free to buzz the nurse."  He leaves and closes   ) Tj
ET
BT
42.52 550.346 Td
( the door behind him.) Tj
ET
BT
/F6 9.87 Tf
42.52 518.712 Td
(Of course this is just a basic example, but notice that the script adapts and skips) Tj
ET
BT
42.52 505.956 Td
(over topics already asked about by the player. This technique has the advantage of) Tj
ET
BT
42.52 493.2 Td
(ensuring that the player gets information, even if he does not think to ask the) Tj
ET
BT
42.52 480.444 Td
(appropriate question, but also adapts to a player's questions, ensuring a more) Tj
ET
BT
42.52 467.688 Td
(realistic conversation. ) Tj
ET
BT
/F5 9.87 Tf
42.52 442.176 Td
(Inanimate Knowledge Transfer) Tj
ET
BT
/F6 9.87 Tf
42.52 416.665 Td
(It was mentioned above that characters are not the only objects that can utilize) Tj
ET
BT
42.52 403.909 Td
(the knowledge objects. Any book, such as "Waldecks's Mayan dictionary" from the) Tj
ET
BT
42.52 391.153 Td
(Inform Designer's Manual, or the ever-popular spell book is an ideal candidate) Tj
ET
BT
42.52 378.397 Td
(for an inanimate object housing KnowledgeTopics. The consult verb should be) Tj
ET
BT
42.52 365.641 Td
(extended much as the tell verb was: ) Tj
ET
BT
/F8 6.053 Tf
42.52 321.761 Td
( [ConsultTopicSub; second.TellAbout\(actor,noun\); ];) Tj
ET
BT
42.52 309.515 Td
( extend "consult" first * noun 'about' scope=TopicInTarget-> ConsultTopic   ) Tj
ET
BT
42.52 303.392 Td
(   * noun 'on' scope=TopicInTarget -> ConsultTopic ;  ) Tj
ET
BT
/F6 9.87 Tf
42.52 271.757 Td
(Now we can create the spell book with a specialized ProcessDialog routine,) Tj
ET
BT
42.52 259.002 Td
(specifically tailored to a reference book: ) Tj
ET
BT
/F8 6.053 Tf
42.52 215.121 Td
( Object -> spellbook "dusty old spell book" ) Tj
ET
BT
42.52 208.998 Td
(   with name 'spell' 'book' 'dusty' 'old') Tj
ET
BT
42.52 202.876 Td
(   , ProcessDialog [talkto procedure knobj info;  ) Tj
ET
BT
42.52 196.753 Td
(      talkto=procedure; !warning supression  ) Tj
ET
BT
42.52 190.63 Td
(      print "Flipping through the old book uncovers the following entry:^";  ) Tj
ET
BT
42.52 184.507 Td
(      FlushDialog\(knobj,info,0\);) Tj
ET
BT
42.52 178.384 Td
(   ]  ) Tj
ET
BT
42.52 172.261 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 140.627 Td
(And of course a spell for the spell book: ) Tj
ET
BT
/F8 6.053 Tf
42.52 96.746 Td
( KnowledgeTopic lightspell ) Tj
ET
BT
42.52 90.624 Td
(   has learnable) Tj
ET
endstream
endobj
>>
253 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 254 0 R
>>
endobj
254 0 obj
<</Length 2219>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 2c: Conversation and Learning) Tj
ET
BT
42.52 42.52 Td
(118) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
(   with name 'lumos' 'light') Tj
ET
BT
42.52 574.838 Td
(   , KnownBy spellbook 0 0 0 0 0 0 0 0 0) Tj
ET
BT
42.52 568.715 Td
(   , TopicInformation "The lumos spell provides light" "."  ) Tj
ET
BT
42.52 562.592 Td
( ;) Tj
ET
BT
/F6 9.87 Tf
42.52 543.713 Td
(Since the spell book is not a "creature," as defined by the standard library, we) Tj
ET
BT
42.52 530.957 Td
(cannot tell the spell book anything \(this is a good thing\), and so the spell book) Tj
ET
BT
42.52 518.202 Td
(cannot learn new KnowledgeTopics as NPCs do. ) Tj
ET
BT
42.52 492.69 Td
(In a sense, a journal can "learn" about a topic when someone writes in it. A good) Tj
ET
BT
42.52 479.934 Td
(exercise for the reader would be to implement a "write" verb in which knowledge) Tj
ET
BT
42.52 467.178 Td
(can be recorded in non-animate objects. ) Tj
ET
BT
/F5 9.87 Tf
42.52 441.666 Td
(In Closing) Tj
ET
BT
/F6 9.87 Tf
42.52 416.154 Td
(The reader may have noticed that, although Ask and Tell are thoroughly discussed) Tj
ET
BT
42.52 403.398 Td
(in this article, Answer \(or say\) has been left relatively untouched. It has been my) Tj
ET
BT
42.52 390.643 Td
(experience that it is often best to treat Answer and Tell as two forms of the same) Tj
ET
BT
42.52 377.887 Td
(command. Essentially, I choose to treat: ) Tj
ET
BT
/F8 6.053 Tf
42.52 334.006 Td
( >Say snowwhite to dwarf ) Tj
ET
BT
/F6 9.87 Tf
42.52 289.616 Td
(in the same manner as I would treat: ) Tj
ET
BT
/F8 6.053 Tf
42.52 245.735 Td
( >tell dwarf about snowwhite ) Tj
ET
BT
/F6 9.87 Tf
42.52 214.101 Td
(As stated previously, my way is not the only way. Distinguishing between the two) Tj
ET
BT
42.52 201.345 Td
(commands may be useful in a number of scenarios. The above "spell book") Tj
ET
BT
42.52 188.589 Td
(example, set in a world where characters cast spells, would be one such situation.) Tj
ET
BT
42.52 175.833 Td
(For example, ) Tj
ET
BT
/F8 6.053 Tf
42.52 131.953 Td
( >say lumos   ) Tj
ET
BT
/F6 9.87 Tf
42.52 100.318 Td
(would be better handled in the same manner as ) Tj
ET
endstream
endobj
>>
255 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 256 0 R
>>
endobj
256 0 obj
<</Length 2614>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(119) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 562.592 Td
( >cast lumos   ) Tj
ET
BT
42.52 556.469 Td
( A bright light appears and brightens the room.   ) Tj
ET
BT
/F6 9.87 Tf
42.52 524.835 Td
(instead of ) Tj
ET
BT
/F8 6.053 Tf
42.52 480.954 Td
( >tell dwarf about lumos) Tj
ET
BT
42.52 474.831 Td
( You give the dwarf a condescending gaze.  "The lumos    ) Tj
ET
BT
42.52 468.709 Td
( spell provides light,"  You say.) Tj
ET
BT
/F6 9.87 Tf
42.52 437.074 Td
(This distinction is best made by the developer. ) Tj
ET
BT
42.52 411.562 Td
(Also, in the interest of avoiding dependencies, all references to specialized print) Tj
ET
BT
42.52 398.806 Td
(rules have been left out of the samples above. Pronoun print rules, however, are) Tj
ET
BT
42.52 386.05 Td
(especially useful when creating the sort of conversation topics that we have been) Tj
ET
BT
42.52 373.294 Td
(developing in this article. Techniques discussed in the previous article ") Tj
ET
BT
353.215 373.294 Td
(Pronouns) Tj
ET
BT
42.52 360.539 Td
(on Steroids") Tj
ET
BT
95.946 360.539 Td
( can be of significant aid. ) Tj
ET
BT
/F5 9.87 Tf
42.52 335.027 Td
(About the Examples...) Tj
ET
BT
/F6 9.87 Tf
42.52 309.515 Td
(To aid the reader, the examples given in all three sections of this article have been) Tj
ET
BT
42.52 296.759 Td
(bundled together in single ) Tj
ET
BT
158.284 296.759 Td
(source file) Tj
ET
BT
203.261 296.759 Td
(. ) Tj
ET
BT
42.52 271.247 Td
(Additionally, the ) Tj
ET
BT
114.935 271.247 Td
(ORLibrary) Tj
ET
BT
159.903 271.247 Td
( entries ORKnowledgeTopic.h and ORNPC.h contain a) Tj
ET
BT
42.52 258.491 Td
(complete, and somewhat more progressive, implementation of the techniques) Tj
ET
BT
42.52 245.735 Td
(discussed in this article. ) Tj
ET
BT
/F5 9.87 Tf
42.52 220.224 Td
(For review) Tj
ET
BT
/F6 9.87 Tf
42.52 194.712 Td
(Emily Short's ) Tj
ET
BT
102.539 194.712 Td
(page) Tj
ET
BT
124.49 194.712 Td
( on NPC design, although geared for platform independence and) Tj
ET
BT
42.52 181.956 Td
(not for Inform specifically, is nevertheless inspirational in its discussion. ) Tj
ET
BT
42.52 156.444 Td
(Additionally, her game ") Tj
ET
BT
146.411 156.444 Td
(Galatea) Tj
ET
BT
180.975 156.444 Td
(", is an exquisite example of NPC conversation. ) Tj
ET
BT
42.52 130.932 Td
(Also, although mentioned previously, the ) Tj
ET
BT
223.011 130.932 Td
(conversation) Tj
ET
BT
278.964 130.932 Td
( section of Roger Firth's ) Tj
ET
BT
42.52 118.176 Td
(Infact page) Tj
ET
BT
91.356 118.176 Td
( is especially recommended. ) Tj
ET
endstream
endobj
>>
257 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F9 9 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 258 0 R
>>
endobj
258 0 obj
<</Length 2788>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 3: NPC Actions) Tj
ET
BT
42.52 42.52 Td
(120) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Advanced NPC Implementation, Part 3 ) Tj
ET
BT
42.52 568.205 Td
(NPC Actions) Tj
ET
q
51.024 0 0 44.646 42.52 504.425 cm
/I343 Do
Q
BT
/F6 9.87 Tf
99.213 542.693 Td
(erb subroutines do it all. They enforce gravity; they differentiate) Tj
ET
BT
99.213 529.937 Td
(between light and darkness; they decide where a character can travel.) Tj
ET
BT
99.213 517.181 Td
(These little routines implement the laws of physics in our game world) Tj
ET
BT
99.213 504.425 Td
(and govern what can and cannot be done. Yet for some reason,) Tj
ET
BT
42.52 491.669 Td
(historically they only affect the player character. The game world laws that) Tj
ET
BT
42.52 478.913 Td
(restrict the player do not bind NPCs. The following code exemplifies: ) Tj
ET
BT
/F8 6.053 Tf
42.52 435.033 Td
( object room "room" ) Tj
ET
BT
42.52 428.91 Td
(   has light ) Tj
ET
BT
42.52 422.787 Td
(   with description "This is an empty room.") Tj
ET
BT
42.52 416.665 Td
( ;) Tj
ET
BT
42.52 410.542 Td
( object->"guard" has animate) Tj
ET
BT
42.52 404.419 Td
(   with name 'guard') Tj
ET
BT
42.52 398.296 Td
(   , orders [; ) Tj
ET
BT
42.52 392.173 Td
(      take: move noun to self; ) Tj
ET
BT
42.52 386.05 Td
(         print_ret \(The\)self," takes ",\(the\)noun,".";   ) Tj
ET
BT
42.52 379.928 Td
(   ]) Tj
ET
BT
42.52 373.805 Td
( ;) Tj
ET
BT
42.52 367.682 Td
( object->"table" has static supporter with name 'table';) Tj
ET
BT
42.52 361.559 Td
( object->->"apple" has edible with name 'apple'; ) Tj
ET
BT
/F6 9.87 Tf
42.52 329.924 Td
(The guard has now been coded to respond to the "take" order and does so too) Tj
ET
BT
42.52 317.169 Td
(well. In the above example, he will successfully "take" pretty much anything in) Tj
ET
BT
42.52 304.413 Td
(scope, even things that he should not be able to: ) Tj
ET
BT
/F9 6.053 Tf
42.52 260.532 Td
(room) Tj
ET
BT
/F8 6.053 Tf
42.52 254.409 Td
( This is an empty room.) Tj
ET
BT
42.52 242.164 Td
( You can see a guard and a table here.   ) Tj
ET
BT
42.52 229.918 Td
( >take table) Tj
ET
BT
42.52 223.795 Td
( That's fixed in place.) Tj
ET
BT
42.52 211.55 Td
( >guard, take table) Tj
ET
BT
42.52 205.427 Td
( The guard takes the table.) Tj
ET
BT
42.52 193.181 Td
( >guard, take self) Tj
ET
BT
42.52 187.058 Td
( The guard takes yourself.) Tj
ET
BT
42.52 174.813 Td
( It is now pitch dark in here!) Tj
ET
BT
/F6 9.87 Tf
42.52 143.178 Td
(Obviously this sort of "empowered taking" holds a very narrow slice of the "desired) Tj
ET
BT
42.52 130.422 Td
(NPC abilities" pie. By convention, the filtering of what an NPC cannot do is also) Tj
ET
BT
42.52 117.666 Td
(coded in the appropriate routine: ) Tj
ET
endstream
endobj
>>
259 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 260 0 R
>>
endobj
260 0 obj
<</Length 4074>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(121) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 574.838 Td
( ... replace the guard's previous orders routine) Tj
ET
BT
42.52 568.715 Td
(   , orders [; ) Tj
ET
BT
42.52 562.592 Td
(      take: ) Tj
ET
BT
42.52 556.469 Td
(         if\(noun hasnt static && noun~=player\){) Tj
ET
BT
42.52 550.346 Td
(            move noun to self; ) Tj
ET
BT
42.52 544.224 Td
(            print_ret \(The\)self," takes ",\(the\)noun,".";   ) Tj
ET
BT
42.52 538.101 Td
(         }) Tj
ET
BT
42.52 531.978 Td
(         print_ret \(The\)self," cannot take that.";) Tj
ET
BT
42.52 525.855 Td
(      ]) Tj
ET
BT
/F6 9.87 Tf
42.52 494.22 Td
(For the majority of Inform works, that's the way NPC action is accomplished.) Tj
ET
BT
42.52 481.465 Td
(Piles and piles of example source code and sample NPCs follow this convention of) Tj
ET
BT
42.52 468.709 Td
(manipulating the game world directly. There are some drawbacks to this, however: ) Tj
ET
BT
/F7 12.61 Tf
56.693 450.34 Td
() Tj
ET
BT
/F8 6.053 Tf
70.866 450.34 Td
(This technique is repetitious. Putting the same rules in the NPC's reaction) Tj
ET
BT
70.866 444.217 Td
(routines duplicates code that exists in the library's verb routines. ) Tj
ET
BT
/F7 12.61 Tf
56.693 425.849 Td
() Tj
ET
BT
/F8 6.053 Tf
70.866 425.849 Td
(This technique can be overly complex. The library considers numerous variables in) Tj
ET
BT
70.866 419.726 Td
(its efforts to implement the game world. It is very easy to overlook details when) Tj
ET
BT
70.866 413.603 Td
(writing this sort of code. For instance, in the above example, the guard cannot) Tj
ET
BT
70.866 407.48 Td
(pickup the player or objects with the "static" attribute, but there is nothing) Tj
ET
BT
70.866 401.357 Td
(stopping him from taking either "untouchable" objects, or other animate objects.) Tj
ET
BT
70.866 395.235 Td
(For instance, the guard could take a key contained inside of a locked, glass box) Tj
ET
BT
70.866 389.112 Td
(\(transparent\) without breaking the glass. He could also take another NPC behind a) Tj
ET
BT
70.866 382.989 Td
(locked, cell door. To imitate the library, we would have to code for these) Tj
ET
BT
70.866 376.866 Td
(circumstances as well. ) Tj
ET
BT
/F7 12.61 Tf
56.693 358.498 Td
() Tj
ET
BT
/F8 6.053 Tf
70.866 358.498 Td
(New verbs, such as "cast spell" or "mount horse" are unavailable to the NPC without) Tj
ET
BT
70.866 352.375 Td
(additional coding too.) Tj
ET
BT
/F7 12.61 Tf
56.693 334.006 Td
() Tj
ET
BT
/F8 6.053 Tf
70.866 334.006 Td
(This technique does not respect an object's "before" routines, which may interrupt) Tj
ET
BT
70.866 327.883 Td
(an action.) Tj
ET
BT
/F7 12.61 Tf
56.693 309.515 Td
() Tj
ET
BT
/F8 6.053 Tf
70.866 309.515 Td
(By its very nature, this technique limits NPC design, since everything that an NPC) Tj
ET
BT
70.866 303.392 Td
(can do must be coded for explicitly. ) Tj
ET
BT
/F6 9.87 Tf
42.52 284.513 Td
(Fear not, for there is another, more powerful way... ) Tj
ET
BT
/F5 9.87 Tf
42.52 259.002 Td
(Redirecting to Verb Routines) Tj
ET
BT
/F6 9.87 Tf
42.52 233.49 Td
(A more intuitive solution is to leverage the verb routines themselves. Successful) Tj
ET
BT
42.52 220.734 Td
(implementation of this method addresses all of the above drawbacks and actually) Tj
ET
BT
42.52 207.978 Td
(makes the code more readable. At first glance, it seems a deceptively simple) Tj
ET
BT
42.52 195.222 Td
(means of implementing NPC actions. Many new developers have posted questions) Tj
ET
BT
42.52 182.466 Td
(to the RAIF newsgroup asking what was wrong with their code and why redirecting) Tj
ET
BT
42.52 169.71 Td
(actions doesn't seem to work. The following is an example or redirecting an) Tj
ET
BT
42.52 156.954 Td
(ordered action using the library's "action and return" operator \(<<...>>\): ) Tj
ET
BT
/F8 6.053 Tf
42.52 113.074 Td
( object->"guard" has animate) Tj
ET
BT
42.52 106.951 Td
(   with name 'guard') Tj
ET
BT
42.52 100.828 Td
(   , orders [; take: <<take noun>>;]) Tj
ET
BT
42.52 94.706 Td
( ;   ) Tj
ET
endstream
endobj
>>
261 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F9 9 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 262 0 R
>>
endobj
262 0 obj
<</Length 2482>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 3: NPC Actions) Tj
ET
BT
42.52 42.52 Td
(122) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(In the initial test of this example, everything appears to work fine: ) Tj
ET
BT
/F9 6.053 Tf
42.52 524.324 Td
(room) Tj
ET
BT
/F8 6.053 Tf
42.52 518.202 Td
( This is an empty room.) Tj
ET
BT
42.52 505.956 Td
( You can see a guard and a table \(on which is an apple\) here.   ) Tj
ET
BT
42.52 493.71 Td
( >guard, get apple) Tj
ET
BT
42.52 487.587 Td
( Taken.) Tj
ET
BT
/F6 9.87 Tf
42.52 455.953 Td
(It is not until you look with a little more scrutiny that the flaw in this approach) Tj
ET
BT
42.52 443.197 Td
(appears: ) Tj
ET
BT
/F8 6.053 Tf
42.52 399.317 Td
( >i) Tj
ET
BT
42.52 393.194 Td
( You are carrying:   ) Tj
ET
BT
42.52 387.071 Td
(   an apple) Tj
ET
BT
/F6 9.87 Tf
42.52 355.436 Td
(The library's verb routines presume that the player carries out all actions. The) Tj
ET
BT
42.52 342.68 Td
(player is therefore the one that actually picked up the apple. This is unfortunate,) Tj
ET
BT
42.52 329.924 Td
(but not insurmountable. ) Tj
ET
BT
/F5 9.87 Tf
42.52 304.413 Td
(Actor, Good; Player, Bad) Tj
ET
BT
/F6 9.87 Tf
42.52 278.901 Td
(The standard library is glorious. It is, perhaps, the most useful collection of IF) Tj
ET
BT
42.52 266.145 Td
(routines ever created. To look upon the Library's code is to be humbled. ) Tj
ET
BT
42.52 240.633 Td
(Now then, having appropriately praised the library, we can now proceed with a) Tj
ET
BT
42.52 227.877 Td
(slightly more critical discussion of it. In particular, if there is one area where I) Tj
ET
BT
42.52 215.121 Td
(feel the library should have been written differently, it is library verbs and) Tj
ET
BT
42.52 202.365 Td
(messages. Specifically, these two aspects of the library rely upon the "player") Tj
ET
BT
42.52 189.609 Td
(variable, rather than the "actor" variable. See how forcing the player variable to) Tj
ET
BT
42.52 176.854 Td
(momentarily equal the actor variable almost fixes the above behavior: ) Tj
ET
BT
/F8 6.053 Tf
42.52 132.973 Td
( ... replace the guard's previous orders routine   ) Tj
ET
BT
42.52 126.85 Td
(   , orders [save retval;) Tj
ET
BT
42.52 120.728 Td
(      save=player;) Tj
ET
BT
42.52 114.605 Td
(      player=actor;) Tj
ET
BT
42.52 108.482 Td
(      <take noun>;) Tj
ET
BT
42.52 102.359 Td
(      player=save;) Tj
ET
BT
42.52 96.236 Td
(      return retval;) Tj
ET
BT
42.52 90.113 Td
(   ]) Tj
ET
endstream
endobj
>>
263 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 264 0 R
>>
endobj
264 0 obj
<</Length 3283>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(123) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( >guard, get apple) Tj
ET
BT
42.52 518.202 Td
( Taken.) Tj
ET
BT
42.52 505.956 Td
( >i) Tj
ET
BT
42.52 499.833 Td
( You are carrying nothing.   ) Tj
ET
BT
/F6 9.87 Tf
42.52 468.198 Td
(Of course this is simply a patch, and it prevents us from completing our) Tj
ET
BT
42.52 455.443 Td
(implementation of NPC actions, as we'll see below. A legitimate solution would) Tj
ET
BT
42.52 442.687 Td
(replace the library's verb and verb-helper routines with slightly modified versions) Tj
ET
BT
42.52 429.931 Td
(that check the actor variable rather than the player variable. We can do this pretty) Tj
ET
BT
42.52 417.175 Td
(easily to the "take" and "eat" verbs by cutting-and-pasting the appropriate) Tj
ET
BT
42.52 404.419 Td
(routines from verblibm.h and then running a search-and-replace against them to) Tj
ET
BT
42.52 391.663 Td
(change references to "player" into references to "actor": ) Tj
ET
BT
/F8 6.053 Tf
42.52 347.783 Td
( !only slightly changed from the standard library) Tj
ET
BT
42.52 341.66 Td
( [ TakeSub;) Tj
ET
BT
42.52 335.537 Td
(   if \(onotheld_mode==0 || noun notin actor\)) Tj
ET
BT
42.52 329.414 Td
(   if \(AttemptToTakeObject\(noun\)\) rtrue;) Tj
ET
BT
42.52 323.291 Td
(   if \(AfterRoutines\(\)==1\) rtrue;) Tj
ET
BT
42.52 317.169 Td
(   notheld_mode=onotheld_mode;) Tj
ET
BT
42.52 311.046 Td
(   if \(notheld_mode==1 || keep_silent==1\) rtrue;) Tj
ET
BT
42.52 304.923 Td
(   L__M\(##Take,1\);) Tj
ET
BT
42.52 298.8 Td
( ];) Tj
ET
BT
42.52 292.677 Td
( [ EatSub;) Tj
ET
BT
42.52 286.554 Td
(   if \(ObjectIsUntouchable\(noun\)\) return;) Tj
ET
BT
42.52 280.431 Td
(   if \(noun hasnt edible\) return L__M\(##Eat,1,noun\);) Tj
ET
BT
42.52 274.309 Td
(   if \(noun has worn\){   ) Tj
ET
BT
42.52 268.186 Td
(      L__M\(##Drop,3,noun\);) Tj
ET
BT
42.52 262.063 Td
(      <Disrobe noun>;) Tj
ET
BT
42.52 255.94 Td
(      if \(noun has worn && noun in actor\) rtrue;) Tj
ET
BT
42.52 249.817 Td
(   }) Tj
ET
BT
42.52 243.694 Td
(   remove noun;) Tj
ET
BT
42.52 237.572 Td
(   if \(AfterRoutines\(\)==1\) rtrue;) Tj
ET
BT
42.52 231.449 Td
(   if \(keep_silent==1\) rtrue;) Tj
ET
BT
42.52 225.326 Td
(   L__M\(##Eat,2,noun\);) Tj
ET
BT
42.52 219.203 Td
( ];   ) Tj
ET
BT
42.52 213.08 Td
( [ AttemptToTakeObject item   ancestor after_recipient i j k;   ) Tj
ET
BT
42.52 206.957 Td
(   ...also needs to be updated since it is called from TakeSub ) Tj
ET
BT
42.52 200.835 Td
( ];) Tj
ET
BT
42.52 194.712 Td
( [ ObjectIsUntouchable item flag1 flag2 ancestor i;) Tj
ET
BT
42.52 188.589 Td
(   ...also needs to be updated since it is called from EatSub ) Tj
ET
BT
42.52 182.466 Td
( ];) Tj
ET
BT
/F6 9.87 Tf
42.52 150.831 Td
(As shown above, both TakeSub and EatSub call additional routines that also need) Tj
ET
BT
42.52 138.076 Td
(to be updated in the same fashion. These are AttemptToTakeObject and) Tj
ET
BT
42.52 125.32 Td
(ObjectIsUntouchable. We won't reprint the modified versions of these two routines) Tj
ET
BT
42.52 112.564 Td
(since they are long and the changes are minute, but the point should be made that) Tj
ET
BT
42.52 99.808 Td
(a simple search-and-replace fixes these as well. ) Tj
ET
endstream
endobj
>>
265 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 266 0 R
>>
endobj
266 0 obj
<</Length 2767>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 3: NPC Actions) Tj
ET
BT
42.52 42.52 Td
(124) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(Adding the four modified routines to your source code and putting the appropriate) Tj
ET
BT
42.52 568.205 Td
(replace directives at the top makes the take and eat verbs available to the NPC) Tj
ET
BT
42.52 555.449 Td
(without having to change the value of the player variable. ) Tj
ET
BT
/F8 6.053 Tf
42.52 511.569 Td
( replace  TakeSub;) Tj
ET
BT
42.52 505.446 Td
( replace  EatSub;) Tj
ET
BT
42.52 499.323 Td
( replace  AttemptToTakeObject;) Tj
ET
BT
42.52 493.2 Td
( replace  ObjectIsUntouchable;   ) Tj
ET
BT
/F6 9.87 Tf
42.52 461.565 Td
(Also, ObjectIsUntouchable is called by numerous other verbs, and TakeSub is) Tj
ET
BT
42.52 448.809 Td
(called by derivatives verbs. By replacing these four routines, we have also) Tj
ET
BT
42.52 436.054 Td
(automatically made available to NPCs, all of the following routines and thus their) Tj
ET
BT
42.52 423.298 Td
(corresponding verb forms: ) Tj
ET
BT
/F8 6.053 Tf
70.866 417.175 Td
(TakeSub) Tj
ET
BT
70.866 404.929 Td
(EatSub) Tj
ET
BT
70.866 392.683 Td
(PullSub) Tj
ET
BT
70.866 380.438 Td
(PushSub) Tj
ET
BT
70.866 368.192 Td
(TurnSub) Tj
ET
BT
70.866 355.946 Td
(LockSub) Tj
ET
BT
70.866 343.701 Td
(UnlockSub) Tj
ET
BT
70.866 331.455 Td
(SqueezeSub) Tj
ET
BT
70.866 319.209 Td
(SwitchOnSub) Tj
ET
BT
70.866 306.964 Td
(SwitchOffSub) Tj
ET
BT
70.866 294.718 Td
(EmptySub) Tj
ET
BT
70.866 282.472 Td
(RemoveSub) Tj
ET
BT
70.866 270.227 Td
(DisrobeSub) Tj
ET
BT
70.866 257.981 Td
(WakeOtherSub) Tj
ET
BT
/F6 9.87 Tf
42.52 245.225 Td
(Since so many verbs are available to the NPC we will now drop the use of the) Tj
ET
BT
42.52 232.469 Td
(library's "action" operators \() Tj
ET
BT
162.755 232.469 Td
( and ) Tj
ET
BT
184.706 232.469 Td
(>\) in favor of the library's more generic routine,) Tj
ET
BT
42.52 219.713 Td
(ActionPrimitive. This allows us to forego addressing the implied switch\(action\)) Tj
ET
BT
42.52 206.957 Td
(statement that exists in all "reaction" routines \(such as orders, life, before, etc...\)) Tj
ET
BT
42.52 194.202 Td
(and redirect all orders to the appropriate verbs with a single line of code: ) Tj
ET
BT
/F8 6.053 Tf
42.52 150.321 Td
( ... replace the guard's previous orders routine   ) Tj
ET
BT
42.52 144.198 Td
(   ,   orders [; return ActionPrimitive\(\);]) Tj
ET
BT
/F6 9.87 Tf
42.52 112.564 Td
(As we now have the ability to have the guard act for us, we can proceed with) Tj
ET
BT
42.52 99.808 Td
(ordering him about and testing the affect of using "actor" instead of "player" in) Tj
ET
BT
42.52 87.052 Td
(verb routines. Notice how drop, which has not yet been updated, does not function) Tj
ET
endstream
endobj
>>
267 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 268 0 R
>>
endobj
268 0 obj
<</Length 2505>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(125) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(correctly: ) Tj
ET
BT
/F8 6.053 Tf
42.52 537.08 Td
( >guard, get apple) Tj
ET
BT
42.52 530.957 Td
( Taken.) Tj
ET
BT
42.52 518.712 Td
( >guard, drop apple) Tj
ET
BT
42.52 512.589 Td
( You haven't got that.) Tj
ET
BT
42.52 500.343 Td
( >guard, eat apple) Tj
ET
BT
42.52 494.22 Td
( You eat the apple. Not bad.   ) Tj
ET
BT
/F6 9.87 Tf
42.52 462.586 Td
(What's with "YOU eat the apple?" It's understandable that the guard could not) Tj
ET
BT
42.52 449.83 Td
(drop the apple since DropSub has not been updated, but why didn't the guard eat) Tj
ET
BT
42.52 437.074 Td
(the apple? ) Tj
ET
BT
/F5 9.87 Tf
42.52 411.562 Td
(Morphing Library Messages) Tj
ET
BT
/F6 9.87 Tf
42.52 386.05 Td
(Actually, the guard did eat the apple, but the default library message for the) Tj
ET
BT
42.52 373.294 Td
(verb "eat" was written expecting the PC to be the only character eating. It, and) Tj
ET
BT
42.52 360.539 Td
(many more library messages, will need to be changed to accommodate this whole) Tj
ET
BT
42.52 347.783 Td
(new world of NPC actions. Usually, the recommend way of overloading a library) Tj
ET
BT
42.52 335.027 Td
(message is to declare a LibraryMessages object between "Parser.h" and) Tj
ET
BT
42.52 322.271 Td
("Verblib.h" and implement it in the before routine. The following replacement for) Tj
ET
BT
42.52 309.515 Td
(the "eat" message demonstrates this approach: ) Tj
ET
BT
/F8 6.053 Tf
42.52 265.635 Td
( object LibraryMessages) Tj
ET
BT
42.52 259.512 Td
(   with before[;) Tj
ET
BT
42.52 253.389 Td
(         Eat: ) Tj
ET
BT
42.52 247.266 Td
(            if\(lm_n==2\){) Tj
ET
BT
42.52 241.143 Td
(               if\(actor==player\) print "You eat ";) Tj
ET
BT
42.52 235.02 Td
(               else print \(The\)actor," eats ";) Tj
ET
BT
42.52 228.898 Td
(               print \(the\) noun, ".";) Tj
ET
BT
42.52 222.775 Td
(               if\(actor==player\) print" Not bad.";   ) Tj
ET
BT
42.52 216.652 Td
(               return;) Tj
ET
BT
42.52 210.529 Td
(            }) Tj
ET
BT
42.52 204.406 Td
(         ];) Tj
ET
BT
/F6 9.87 Tf
42.52 172.772 Td
(Notice that the message now changes form depending on who is performing the) Tj
ET
BT
42.52 160.016 Td
(action: ) Tj
ET
BT
/F8 6.053 Tf
42.52 116.135 Td
( >guard, take apple then eat it   ) Tj
ET
BT
42.52 110.013 Td
( Taken.) Tj
ET
BT
42.52 103.89 Td
( The guard eats the apple.) Tj
ET
endstream
endobj
>>
269 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 270 0 R
>>
endobj
270 0 obj
<</Length 3120>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 3: NPC Actions) Tj
ET
BT
42.52 42.52 Td
(126) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(or, ) Tj
ET
BT
/F8 6.053 Tf
42.52 524.324 Td
( >take the apple then eat it   ) Tj
ET
BT
42.52 518.202 Td
( Taken.) Tj
ET
BT
42.52 512.079 Td
( You eat the apple. Not bad.) Tj
ET
BT
/F6 9.87 Tf
42.52 480.444 Td
(The number of library messages that need to be changed in order to implement) Tj
ET
BT
42.52 467.688 Td
(NPC actions is somewhat excessive. Because of this, duplicating the language) Tj
ET
BT
42.52 454.932 Td
(definition file \(English.h\) and making modifications there \(specifying the modified) Tj
ET
BT
42.52 442.176 Td
(file on the Inform command line or in the ICL file\) may be a preferable method to) Tj
ET
BT
42.52 429.42 Td
(instantiating a LibraryMessages object. ) Tj
ET
BT
/F5 9.87 Tf
42.52 403.909 Td
(Initiating NPC Actions) Tj
ET
BT
/F6 9.87 Tf
42.52 378.397 Td
(For the examples given above, we have been calling ActionPrimitive\(\) from within) Tj
ET
BT
42.52 365.641 Td
(the NPC's orders routine. This has been convenient because all of the necessary) Tj
ET
BT
42.52 352.885 Td
(library variables have already been set up for us. When the player is not issuing) Tj
ET
BT
42.52 340.129 Td
(orders at run-time, however, we need to set these values ourselves. Additionally,) Tj
ET
BT
42.52 327.373 Td
(there are another couple of complications that we must address: ) Tj
ET
BT
/F8 6.053 Tf
70.866 315.128 Td
(1\) The ActionPrimitive\(\) routine does not honor the "before" property routines like) Tj
ET
BT
70.866 309.005 Td
("action notation" does \(<<action>>\); In order to achieve this we mush make the call) Tj
ET
BT
70.866 302.882 Td
(ourselves. ) Tj
ET
BT
70.866 284.513 Td
(2\) Floating objects may not be in scope for the actor. ) Tj
ET
BT
/F6 9.87 Tf
42.52 252.879 Td
(These issues can be addressed in a common routine, which seems to be most at) Tj
ET
BT
42.52 240.123 Td
(home as part of an NPC base class: ) Tj
ET
BT
/F8 6.053 Tf
42.52 196.243 Td
( class NPC) Tj
ET
BT
42.52 190.12 Td
(   with DoVerb[act n s svAL svActr svActn svN svS svInp1 svInp2 retval;   ) Tj
ET
BT
42.52 183.997 Td
(         svAL=actors_location;) Tj
ET
BT
42.52 177.874 Td
(         svActr=actor;) Tj
ET
BT
42.52 171.751 Td
(         svActn=action;) Tj
ET
BT
42.52 165.628 Td
(         svN=noun;) Tj
ET
BT
42.52 159.506 Td
(         svS=second;) Tj
ET
BT
42.52 153.383 Td
(         svInp1 = inp1;) Tj
ET
BT
42.52 147.26 Td
(         svInp2 = inp2;) Tj
ET
BT
42.52 141.137 Td
(         actors_location=parent\(self\);) Tj
ET
BT
42.52 135.014 Td
(         actor=self;) Tj
ET
BT
42.52 128.891 Td
(         action=act;) Tj
ET
BT
42.52 122.769 Td
(         noun=n;) Tj
ET
BT
42.52 116.646 Td
(         second=s;) Tj
ET
BT
42.52 110.523 Td
(         inp1 = noun;) Tj
ET
BT
42.52 104.4 Td
(         inp2 = second;) Tj
ET
BT
42.52 98.277 Td
(         MoveFloatingObjects\(\);) Tj
ET
BT
42.52 92.154 Td
(         retval=BeforeRoutines\(\);) Tj
ET
BT
42.52 86.031 Td
(         if\(retval==false\) retval=ActionPrimitive\(\);) Tj
ET
endstream
endobj
>>
271 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 272 0 R
>>
endobj
272 0 obj
<</Length 3110>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(127) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 580.961 Td
(         actors_location=svAL;) Tj
ET
BT
42.52 574.838 Td
(         actor=svActr;) Tj
ET
BT
42.52 568.715 Td
(         action=svActn;) Tj
ET
BT
42.52 562.592 Td
(         noun=svN;) Tj
ET
BT
42.52 556.469 Td
(         second=svS;) Tj
ET
BT
42.52 550.346 Td
(         inp1 = svInp1;) Tj
ET
BT
42.52 544.224 Td
(         inp2 = svInp2;) Tj
ET
BT
42.52 538.101 Td
(         MoveFloatingObjects\(\);) Tj
ET
BT
42.52 531.978 Td
(         return retval;) Tj
ET
BT
42.52 525.855 Td
( ];    ) Tj
ET
BT
/F6 9.87 Tf
42.52 494.22 Td
(Additionally, BeforeRoutines\(\) and AfterRoutines\(\), and MoveFloatingObjects\(\)) Tj
ET
BT
42.52 481.465 Td
(should all be modified in the same fashion as was discussed above. One exception) Tj
ET
BT
42.52 468.709 Td
(to this "player equals actor" rule is in the call to the player's ORDERS property in) Tj
ET
BT
42.52 455.953 Td
(the BeforeRoutines\(\) method. This section of code should only be run if the player) Tj
ET
BT
42.52 443.197 Td
(and actor are the same, otherwise an endless recursion results the will blow the) Tj
ET
BT
42.52 430.441 Td
(interpreter's stack. A slightly modified BeforeRoutine\(\) which addresses this) Tj
ET
BT
42.52 417.685 Td
(follows: ) Tj
ET
BT
/F8 6.053 Tf
42.52 373.805 Td
([BeforeRoutines;) Tj
ET
BT
42.52 367.682 Td
(   if\(GamePreRoutine\(\)~=0\) rtrue;) Tj
ET
BT
42.52 361.559 Td
(   if\(actor==player && RunRoutines\(player,orders\)~=0\) rtrue; ) Tj
ET
BT
42.52 355.436 Td
(   if\(location~=0 && RunRoutines\(parent\(actor\),before\)~=0\) ) Tj
ET
BT
42.52 349.313 Td
(          rtrue;) Tj
ET
BT
42.52 343.191 Td
(   scope_reason=REACT_BEFORE_REASON; parser_one=0;) Tj
ET
BT
42.52 337.068 Td
(   SearchScope\(ScopeCeiling\(actor\),actor,0\); ) Tj
ET
BT
42.52 330.945 Td
(   scope_reason=PARSING_REASON;) Tj
ET
BT
42.52 324.822 Td
(   if\(parser_one~=0\) rtrue;) Tj
ET
BT
42.52 318.699 Td
(   if\(inp1>1 && RunRoutines\(inp1,before\)~=0\) rtrue;) Tj
ET
BT
42.52 312.576 Td
(   rfalse;) Tj
ET
BT
42.52 306.454 Td
(];) Tj
ET
BT
/F6 9.87 Tf
42.52 274.819 Td
(Assuming our NPC is derived from the NPC class, this addition will allow us to) Tj
ET
BT
42.52 262.063 Td
(direct NPC actions from any section of code \(like a controlling daemon\): ) Tj
ET
BT
/F8 6.053 Tf
42.52 218.183 Td
( !equates to "guard, put apple on table"   ) Tj
ET
BT
42.52 212.06 Td
( guard.DoVerb\(##PutOn, apple, table\);) Tj
ET
BT
/F5 9.87 Tf
42.52 180.425 Td
(A Peek Inside Pandora's Box) Tj
ET
BT
/F6 9.87 Tf
42.52 154.913 Td
(Perhaps the reason this technique is not often seen is the number of convoluted) Tj
ET
BT
42.52 142.157 Td
(changes that need to be made in order to implement it. At times, implementation of) Tj
ET
BT
42.52 129.402 Td
(this technique can seem horribly daunting. ) Tj
ET
BT
42.52 103.89 Td
(The examples given above are far from complete. In addition to the excessive) Tj
ET
BT
42.52 91.134 Td
(number of messages that must be modified, a quick scan through the verblibm.h) Tj
ET
endstream
endobj
>>
273 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 274 0 R
>>
endobj
274 0 obj
<</Length 2459>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Advanced NPCs, Part 3: NPC Actions) Tj
ET
BT
42.52 42.52 Td
(128) Tj
ET
BT
187.149 42.52 Td
(Advanced Topics) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(file uncovers the following verb routines that need to be updated \(only two of) Tj
ET
BT
42.52 568.205 Td
(these were done in the above examples\): ) Tj
ET
BT
/F8 6.053 Tf
70.866 562.082 Td
(InvSub) Tj
ET
BT
70.866 549.836 Td
(TakeSub) Tj
ET
BT
70.866 537.591 Td
(DropSub) Tj
ET
BT
70.866 525.345 Td
(PutOnSub) Tj
ET
BT
70.866 513.099 Td
(InsertSub) Tj
ET
BT
70.866 500.854 Td
(TransferSub) Tj
ET
BT
70.866 488.608 Td
(GiveSub) Tj
ET
BT
70.866 476.362 Td
(ShowSub) Tj
ET
BT
70.866 464.117 Td
(EnterSub) Tj
ET
BT
70.866 451.871 Td
(GetOffSub) Tj
ET
BT
70.866 439.625 Td
(ExitSub) Tj
ET
BT
70.866 427.38 Td
(GoSub) Tj
ET
BT
70.866 415.134 Td
(LookSub) Tj
ET
BT
70.866 402.888 Td
(ExamineSub) Tj
ET
BT
70.866 390.643 Td
(LookUnderSub) Tj
ET
BT
70.866 378.397 Td
(ExitSub) Tj
ET
BT
70.866 366.151 Td
(TouchSub) Tj
ET
BT
70.866 353.906 Td
(WaveSub) Tj
ET
BT
70.866 341.66 Td
(PushSub) Tj
ET
BT
70.866 329.414 Td
(KissSub) Tj
ET
BT
70.866 317.169 Td
(ThrowAtSub) Tj
ET
BT
70.866 304.923 Td
(TellSub) Tj
ET
BT
70.866 292.677 Td
(AskSub) Tj
ET
BT
70.866 280.431 Td
(OpenSub) Tj
ET
BT
70.866 268.186 Td
(WearSub) Tj
ET
BT
70.866 255.94 Td
(EatSub) Tj
ET
BT
/F6 9.87 Tf
42.52 243.184 Td
(There are also several additional routines what are called by these verb subs that) Tj
ET
BT
42.52 230.428 Td
(also need to be updated. Further, in many of these routines, there are references to) Tj
ET
BT
42.52 217.672 Td
(the library variables "location" and "real_location." These need to be changed to the) Tj
ET
BT
42.52 204.917 Td
(library variable "actors_location." ) Tj
ET
BT
42.52 179.405 Td
(Obviously a complete implementation of this technique requires major modifications) Tj
ET
BT
42.52 166.649 Td
(to the library, but once done allows for greater flexibility with simplified, yet) Tj
ET
BT
42.52 153.893 Td
(more powerful, coding capabilities. Additionally, since the "actor" variable and) Tj
ET
BT
42.52 141.137 Td
(the "player" variable are normally the same, these changes are transparent. That) Tj
ET
BT
42.52 128.381 Td
(is, the new behavior only occurs when the new functionality is used and does not) Tj
ET
BT
42.52 115.625 Td
(affect existing code. Without calling NPC actions, games run as they always have. ) Tj
ET
BT
/F5 9.87 Tf
42.52 90.113 Td
(A Note on Code) Tj
ET
endstream
endobj
>>
275 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 276 0 R
>>
endobj
276 0 obj
<</Length 1224>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(129) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(The examples above were given to demonstrate this technique, but they do not) Tj
ET
BT
42.52 555.449 Td
(necessarily represent the best way to implement it. The definition of what is) Tj
ET
BT
42.52 542.693 Td
("best" is left up to the reader. As a suggestion, however, rewriting messages to) Tj
ET
BT
42.52 529.937 Td
(change form can be a convoluted and monotonous task. The print rules discussed) Tj
ET
BT
42.52 517.181 Td
(in 1 of this article series "Pronouns on Steroids" are particularly useful. ) Tj
ET
BT
42.52 491.669 Td
(As a final point, it should be noted that a complete implementation of the) Tj
ET
BT
42.52 478.913 Td
(techniques discussed in this article can be found at the ) Tj
ET
BT
284.461 478.913 Td
(ORLibrary) Tj
ET
BT
329.429 478.913 Td
( in the entries) Tj
ET
BT
42.52 466.157 Td
(ORNPCVerb.h, OREnglish.h, and ORNPC_doverb.h. ) Tj
ET
BT
/F4 9.87 Tf
42.52 440.646 Td
(A special thanks goes out to Stephen Robert Norris, whose input and bug fixing in) Tj
ET
BT
42.52 427.89 Td
(the ORLibrary necessarily impacted this article.) Tj
ET
endstream
endobj
>>
277 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 278 0 R
>>
endobj
278 0 obj
<</Length 139>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(130) Tj
ET
BT
206.079 42.52 Td
(Tutorials) Tj
ET
endstream
endobj
>>
279 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 280 0 R
>>
endobj
280 0 obj
<</Length 233>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
391.017 42.52 Td
(131) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
211.014 333 Td
(Part F) Tj
ET
BT
204.16 320.244 Td
(Tutorials) Tj
ET
endstream
endobj
>>
281 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 282 0 R
>>
endobj
282 0 obj
<</Length 139>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(132) Tj
ET
BT
206.079 42.52 Td
(Tutorials) Tj
ET
endstream
endobj
>>
283 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 284 0 R
>>
endobj
284 0 obj
<</Length 223>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(133) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
112.542 580.961 Td
(Coming soon... A tutorial based on the Wade Wars!) Tj
ET
endstream
endobj
>>
285 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 286 0 R
>>
endobj
286 0 obj
<</Length 143>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(134) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
endstream
endobj
>>
287 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 288 0 R
>>
endobj
288 0 obj
<</Length 236>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
391.017 42.52 Td
(135) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
210.19 333 Td
(Part G) Tj
ET
BT
192.37 320.244 Td
(Informed Tips) Tj
ET
endstream
endobj
>>
289 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 290 0 R
>>
endobj
290 0 obj
<</Length 143>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(136) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
endstream
endobj
>>
291 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 292 0 R
>>
endobj
292 0 obj
<</Length 3216>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(137) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
172.906 580.961 Td
(Randomizing Random) Tj
ET
q
51.024 0 0 44.646 42.52 504.425 cm
/I342 Do
Q
BT
/F6 9.87 Tf
93.35 542.693 Td
(rom time to time, while reading RAIF postings, the subject of) Tj
ET
BT
86.214 529.937 Td
(repeating random numbers comes up. For all appearances, this) Tj
ET
BT
76.877 517.181 Td
(seems to be some sort of bug in one of the most popular and widely) Tj
ET
BT
82.927 504.425 Td
(used Z-Code interpreters available today: Frotz. Reports seem to) Tj
ET
BT
49.74 491.669 Td
(indicate that it affects various versions of Frotz. While researching this issue and) Tj
ET
BT
43.433 478.913 Td
(developing a work around, I was able to confirm the behavior with WinFrotz version) Tj
ET
BT
186.868 466.157 Td
(2.32 release 5.3. ) Tj
ET
BT
48.901 427.89 Td
(As an IF player, one might be tempted to simply change to a different interpreter,) Tj
ET
BT
60.004 415.134 Td
(but a developer doesn't have that option. One of the beauties of the Z-Code) Tj
ET
BT
54.936 402.378 Td
(standard is that it allows the players to choose their own interpreter. And to be) Tj
ET
BT
114.462 389.622 Td
(perfectly frank: Frotz is too darn popular to ignore. ) Tj
ET
BT
/F5 9.87 Tf
182.5 351.354 Td
(Show me the bug!) Tj
ET
BT
/F6 9.87 Tf
51.368 313.087 Td
(Before delving into the explanation of why this behavior occurs and how to fix it,) Tj
ET
BT
48.229 300.331 Td
(let me include a code snip to demonstrate the bug \(note: the standard library isn't) Tj
ET
BT
43.961 287.575 Td
(really needed here to demonstrate this bug, but I prefer that sample code resemble) Tj
ET
BT
127.372 274.819 Td
(real-world scenarios as closely as possible.\) ) Tj
ET
BT
/F8 6.053 Tf
42.52 243.694 Td
(   Include "Parser"; Include "VerbLib"; !library includes ) Tj
ET
BT
42.52 237.572 Td
(   Object    SimpleRoom "Simple Room" !single room ) Tj
ET
BT
42.52 231.449 Td
(    with   description "This is a simple room") Tj
ET
BT
42.52 225.326 Td
(    has    light) Tj
ET
BT
42.52 219.203 Td
(   ;) Tj
ET
BT
42.52 213.08 Td
(   [Initialise;) Tj
ET
BT
42.52 206.957 Td
(    random\(0\);   !Z-code standard says ) Tj
ET
BT
42.52 200.835 Td
(             !that this command is) Tj
ET
BT
42.52 194.712 Td
(             !SUPPOSED to initialize) Tj
ET
BT
42.52 188.589 Td
(             !the random number generator) Tj
ET
BT
42.52 182.466 Td
(    location=SimpleRoom;) Tj
ET
BT
42.52 176.343 Td
(   ];) Tj
ET
BT
42.52 170.22 Td
(   Include "Grammar"; !library include) Tj
ET
BT
42.52 164.098 Td
(   Verb "rand" !!! an example rand command) Tj
ET
BT
42.52 157.975 Td
(    * -> rand) Tj
ET
BT
42.52 151.852 Td
(   ;) Tj
ET
BT
42.52 145.729 Td
(   [randsub t; !implementation of new verb) Tj
ET
BT
42.52 139.606 Td
(    for\(t=1:t<10:t++\) ) Tj
ET
BT
42.52 133.483 Td
(    print random\(100\),"^";) Tj
ET
BT
42.52 127.361 Td
(   ];) Tj
ET
BT
42.52 121.238 Td
(   end;) Tj
ET
BT
/F6 9.87 Tf
42.52 102.359 Td
(This is a pretty straightforward example. One room and a grammar rule the prints) Tj
ET
BT
42.52 89.603 Td
(ten random numbers. Compile this, and run the resulting .Z5 file under Frotz. At) Tj
ET
endstream
endobj
>>
293 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 294 0 R
>>
endobj
294 0 obj
<</Length 3291>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Randomizing Random) Tj
ET
BT
42.52 42.52 Td
(138) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(the command prompt enter in the command "RAND" and you'll see the ten random) Tj
ET
BT
42.52 568.205 Td
(numbers printed. Looks good so far. ) Tj
ET
BT
42.52 542.693 Td
(Now write down these ten numbers and enter the command "RESTART". At the) Tj
ET
BT
42.52 529.937 Td
(new command prompt enter "RAND" again. If your interpreter suffers from this bug,) Tj
ET
BT
42.52 517.181 Td
(then the new list of ten numbers will match the first list exactly. ) Tj
ET
BT
42.52 491.669 Td
(Now this method of checking for the behavior will always demonstrate it if it exists.) Tj
ET
BT
42.52 478.913 Td
(Period. But the behavior will often pop up in less predictable ways. For instance, it) Tj
ET
BT
42.52 466.157 Td
(is possible to: ) Tj
ET
BT
/F8 6.053 Tf
42.52 453.912 Td
(   1\) start Frotz) Tj
ET
BT
42.52 447.789 Td
(   2\) run this example) Tj
ET
BT
42.52 441.666 Td
(   3\) record the ten "random numbers" ) Tj
ET
BT
42.52 435.543 Td
(   4\) exit Frotz entirely) Tj
ET
BT
42.52 429.42 Td
(   5\) start Frotz again) Tj
ET
BT
42.52 423.298 Td
(   6\) run the example again...) Tj
ET
BT
/F6 9.87 Tf
42.52 391.663 Td
(...And still get the same random sequence. Because of the way random numbers) Tj
ET
BT
42.52 378.907 Td
(work, this method will not always be the same. But often they will. ) Tj
ET
BT
/F5 9.87 Tf
42.52 353.395 Td
(But why? Aren't random numbers random?) Tj
ET
BT
/F6 9.87 Tf
42.52 327.883 Td
(No, actually they are not. All random numbers generated by modern computers are) Tj
ET
BT
42.52 315.128 Td
(actually pseudo-random numbers, which are the result of a mathematical formula) Tj
ET
BT
42.52 302.372 Td
(that is applied against the previously produced number. ) Tj
ET
BT
42.52 276.86 Td
(If you didn't catch that don't worry about it. Think of it like this: That list of) Tj
ET
BT
42.52 264.104 Td
(ten numbers that was generated in the example program above is associated with) Tj
ET
BT
42.52 251.348 Td
(another number called a "seed" value. Behind the scenes, the interpreter has the) Tj
ET
BT
42.52 238.592 Td
(job of setting this seed value. This called "seeding the random number) Tj
ET
BT
42.52 225.836 Td
(generator." Seeding the generator with the same value will always produce the) Tj
ET
BT
42.52 213.08 Td
(same list. That doesn't make for a very random program. Traditionally, to) Tj
ET
BT
42.52 200.324 Td
(achieve a non-repeating sequence every run, the random number generator is) Tj
ET
BT
42.52 187.569 Td
(seeded with the current time represented in seconds elapsed since 1980. ) Tj
ET
BT
42.52 162.057 Td
(In Inform, this is not possible since 1\) there does not appear to be a way to seed) Tj
ET
BT
42.52 149.301 Td
(the generator even if we had a seed value, and 2\) there is not a readily available) Tj
ET
BT
42.52 136.545 Td
(method that will return a non-predictable result to use as a seed value. According) Tj
ET
BT
42.52 123.789 Td
(to the Z-code standard, calling random\(0\); is supposed to accomplish both of these,) Tj
ET
BT
42.52 111.033 Td
(but as is the case with WinFrotz, not all interpreters have this implemented. ) Tj
ET
BT
/F5 9.87 Tf
42.52 85.521 Td
(The Fix...) Tj
ET
endstream
endobj
>>
295 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 296 0 R
>>
endobj
296 0 obj
<</Length 3402>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(139) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(Luckily, there is a way of accomplishing the first task's desired effect without) Tj
ET
BT
42.52 555.449 Td
("seeding" the generator at all. Specifically, cycle through the random-number) Tj
ET
BT
42.52 542.693 Td
(generator a random number of times. Given a single static list of randomly) Tj
ET
BT
42.52 529.937 Td
(generated numbers, a non-predicatable sequence can be achieved simply by) Tj
ET
BT
42.52 517.181 Td
(starting at a random location in the list. Think of this as pseudo-seeding the) Tj
ET
BT
42.52 504.425 Td
(pseudo-random number generator. ) Tj
ET
BT
42.52 478.913 Td
("What's that?" you say. "Random numbers are what we are unable to get here.) Tj
ET
BT
42.52 466.157 Td
(How do you get a random number to use for iterating through the generator with?") Tj
ET
BT
42.52 453.402 Td
(You don't. Instead you choose a number that will almost always be different every) Tj
ET
BT
42.52 440.646 Td
(time you run. Some programmers opt to use a value equal to the current number of) Tj
ET
BT
42.52 427.89 Td
(game moves elapsed once the player performs some arbitrary task \(like entering a) Tj
ET
BT
42.52 415.134 Td
(room\). But that still leaves the game predictable, just less so. ) Tj
ET
BT
42.52 389.622 Td
(The solution shown below measures the only thing that is bound to be different) Tj
ET
BT
42.52 376.866 Td
(every game: the length of time it takes a user to enter text and press return in) Tj
ET
BT
42.52 364.11 Td
(milliseconds! ) Tj
ET
BT
42.52 338.598 Td
(This solution also has the advantages of being both reusable and transparent. It is) Tj
ET
BT
42.52 325.843 Td
(reusable in that it is not game specific. It isn't tied to a specific event or) Tj
ET
BT
42.52 313.087 Td
(action. It works with any game without modification. It is transparent in that the) Tj
ET
BT
42.52 300.331 Td
(developer has to do nothing other than include the text. No special reference) Tj
ET
BT
42.52 287.575 Td
(needs to be made to it. No methods need to be called. The block of code can be) Tj
ET
BT
42.52 274.819 Td
(implemented at the top of any game source file and work. It's just drop and go) Tj
ET
BT
42.52 262.063 Td
(code. ) Tj
ET
BT
/F8 6.053 Tf
42.52 243.694 Td
(   REPLACE KeyboardPrimitive;) Tj
ET
BT
42.52 237.572 Td
(   global randseed=0;) Tj
ET
BT
42.52 231.449 Td
(   [KeyboardPrimitive a_buffer a_table t;) Tj
ET
BT
42.52 225.326 Td
(    if\(randseed>0\) !Already randomized,  ) Tj
ET
BT
42.52 219.203 Td
(                !so use library code) Tj
ET
BT
42.52 213.08 Td
(       read a_buffer a_table;) Tj
ET
BT
42.52 206.957 Td
(    else !otherwise, get and randomize) Tj
ET
BT
42.52 200.835 Td
(    {) Tj
ET
BT
42.52 194.712 Td
(       @aread a_buffer a_table 1 procrandseed t; ) Tj
ET
BT
42.52 188.589 Td
(       for\(t=0:t<randseed:t++\) random\(1\); ) Tj
ET
BT
42.52 182.466 Td
(    }) Tj
ET
BT
42.52 176.343 Td
(   ];) Tj
ET
BT
42.52 170.22 Td
(   [procrandseed;) Tj
ET
BT
42.52 164.098 Td
(    randseed++;) Tj
ET
BT
42.52 157.975 Td
(    return false;) Tj
ET
BT
42.52 151.852 Td
(   ];) Tj
ET
BT
/F6 9.87 Tf
42.52 120.217 Td
(Just cut and paste this code to the top of the example code we worked with) Tj
ET
BT
42.52 107.461 Td
(earlier. Recompile and run the tests again to see the behavior corrected.) Tj
ET
endstream
endobj
>>
297 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 298 0 R
>>
endobj
298 0 obj
<</Length 3683>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Making VERBOSE the default mode) Tj
ET
BT
42.52 42.52 Td
(140) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
BT
/F5 9.87 Tf
42.52 568.205 Td
(Making VERBOSE the default mode) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(The Inform Library provides three commands for players to control how rooms are) Tj
ET
BT
42.52 542.693 Td
(described: VERBOSE prints a room's full description every time you go there,) Tj
ET
BT
42.52 529.937 Td
(BRIEF prints the full description only on your first visit, and SUPERBRIEF never) Tj
ET
BT
42.52 517.181 Td
(prints the full description.) Tj
ET
BT
151.681 517.181 Td
(The Library's default setting is BRIEF, but many) Tj
ET
BT
42.52 504.425 Td
(authors \(and players\) prefer VERBOSE behaviour -- to have a room fully) Tj
ET
BT
42.52 491.669 Td
(described on each visit. Of course, just typing a VERBOSE command achieves) Tj
ET
BT
42.52 478.913 Td
(this, but it's annoying to have to remember every time: much more convenient to) Tj
ET
BT
42.52 466.157 Td
(make VERBOSE the standard setting.) Tj
ET
BT
209.292 466.157 Td
(The Library uses a global variable ) Tj
ET
BT
/F5 9.87 Tf
360.144 466.157 Td
(lookmode) Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
( which can take the values 1 \(BRIEF\), 2 \(VERBOSE\) and 3 \(SUPERBRIEF\), and w) Tj
ET
BT
42.52 440.646 Td
(ich is initialised to 1 in the ) Tj
ET
BT
/F8 6.053 Tf
157.169 440.646 Td
(parserm.h) Tj
ET
BT
/F6 9.87 Tf
189.853 440.646 Td
( file. So, to make VERBOSE the default, you can) Tj
ET
BT
42.52 427.89 Td
(either just edit that file, or better \(since it's preferable where possible to over-ride) Tj
ET
BT
42.52 415.134 Td
(the Library rather than change it\) add this line to your ) Tj
ET
BT
/F5 9.87 Tf
276.773 415.134 Td
(Initialise\(\)) Tj
ET
BT
/F6 9.87 Tf
322.846 415.134 Td
( function:) Tj
ET
BT
/F8 6.053 Tf
70.866 396.255 Td
(lookmode = 2; !! default is VERBOSE mode) Tj
ET
BT
/F6 9.87 Tf
42.52 370.743 Td
(At a mimimum, that's all you need to do. However, here are three additional) Tj
ET
BT
42.52 357.987 Td
(changes that you may wish to incorporate. First, the message printed by the) Tj
ET
BT
42.52 345.231 Td
(BRIEF command starts off:) Tj
ET
BT
/F8 6.053 Tf
70.866 339.109 Td
(YOURSTORY is now in its normal "brief" printing mode...) Tj
ET
BT
/F6 9.87 Tf
42.52 313.597 Td
(when of course BRIEF now ) Tj
ET
BT
/F4 9.87 Tf
164.848 313.597 Td
(isn't) Tj
ET
BT
/F6 9.87 Tf
182.09 313.597 Td
( the normal mode. Second, the command) Tj
ET
BT
42.52 300.841 Td
(NORMAL should be a synomym for VERBOSE rather than for BRIEF. Finally, you) Tj
ET
BT
42.52 288.085 Td
(may consider that players should always see a room's full description at least) Tj
ET
BT
42.52 275.329 Td
(once; therefore, you wish to disable entirely the SUPERBRIEF command. Here's) Tj
ET
BT
42.52 262.573 Td
(the skeleton of a game which does all this:) Tj
ET
BT
/F8 6.053 Tf
70.866 243.694 Td
(Constant Story "MyStory";) Tj
ET
BT
70.866 231.449 Td
(Constant Headline "^An example game.^";) Tj
ET
BT
70.866 206.957 Td
(Include "Parser";) Tj
ET
BT
70.866 182.466 Td
(Object  LibraryMessages with before [; !! replace three Library messages) Tj
ET
BT
70.866 170.22 Td
(  LMode1: " is now in its ~brief~ printing mode, which gives long descriptions) Tj
ET
BT
70.866 157.975 Td
(            of places never before visited and short descriptions otherwise.";) Tj
ET
BT
70.866 145.729 Td
(  LMode2: " is now in its normal ~verbose~ mode, which always gives long) Tj
ET
BT
70.866 133.483 Td
(            descriptions of locations \(even if you've been there before\).";) Tj
ET
BT
70.866 121.238 Td
(  LMode3: " doesn't support ~superbrief~ mode.";) Tj
ET
BT
70.866 108.992 Td
(        ];) Tj
ET
endstream
endobj
>>
299 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 300 0 R
>>
endobj
300 0 obj
<</Length 1291>>
stream
BT
0 g
/F4 9.87 Tf
329.774 623.48 Td
(Roger Firth) Tj
ET
BT
362.671 42.52 Td
(141) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
70.866 580.961 Td
(Replace LMode3Sub; !! don't use original Library routine) Tj
ET
BT
70.866 556.469 Td
(Include "VerbLib";) Tj
ET
BT
70.866 531.978 Td
([ Initialise;) Tj
ET
BT
70.866 519.732 Td
(        lookmode = 2; !! default is VERBOSE mode) Tj
ET
BT
70.866 507.487 Td
(        location = hall;) Tj
ET
BT
70.866 495.241 Td
(        "^^Adventures don't get much simpler than this.^^";) Tj
ET
BT
70.866 482.995 Td
(        ];) Tj
ET
BT
70.866 458.504 Td
([ LMode3Sub; print \(string\) Story; L__M\(##LMode3\); ]; !! replacement routine) Tj
ET
BT
70.866 434.013 Td
(Class   Room) Tj
ET
BT
70.866 421.767 Td
(  has   light;) Tj
ET
BT
70.866 397.276 Td
(Room    hall "Hall") Tj
ET
BT
70.866 385.03 Td
(  with  description "A door leads south from the hall...",) Tj
ET
BT
70.866 372.784 Td
(        s_to study;) Tj
ET
BT
70.866 348.293 Td
(Room    study "Study") Tj
ET
BT
70.866 336.047 Td
(  with  description "A door leads north from the study...",) Tj
ET
BT
70.866 323.802 Td
(        n_to hall;) Tj
ET
BT
70.866 299.31 Td
(Include "Grammar";) Tj
ET
BT
70.866 274.819 Td
(Extend only 'normal' replace * -> LMode2; !! NORMAL = VERBOSE) Tj
ET
endstream
endobj
>>
301 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 302 0 R
>>
endobj
302 0 obj
<</Length 5663>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Using TextPad with Inform) Tj
ET
BT
42.52 42.52 Td
(142) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
BT
/F5 9.87 Tf
42.52 568.205 Td
(Using TextPad with Inform) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(TextPad is a splendid text editor for Windows: powerful, packed full of useful) Tj
ET
BT
42.52 542.693 Td
(features, and still easy to use. It's available as a shareware download from ) Tj
ET
BT
42.52 529.937 Td
(www.textpad.com) Tj
ET
BT
120.403 529.937 Td
(. While there, also visit ) Tj
ET
BT
221.876 529.937 Td
(www.textpad.com/add-ons/) Tj
ET
BT
340.908 529.937 Td
(to download ) Tj
ET
BT
/F8 6.053 Tf
42.52 517.181 Td
(txplink4.zip) Tj
ET
BT
/F6 9.87 Tf
86.099 517.181 Td
( \(which fixes Windows so that attempts to call the much inferior NotePad) Tj
ET
BT
42.52 504.425 Td
(simply fire up TextPad instead\), and ) Tj
ET
BT
202.699 504.425 Td
(www.textpad.com/add-ons/hmsyn.html) Tj
ET
BT
372.185 504.425 Td
(to fetch ) Tj
ET
BT
/F8 6.053 Tf
42.52 491.669 Td
(inform2.zip) Tj
ET
BT
/F6 9.87 Tf
82.467 491.669 Td
(.) Tj
ET
BT
42.52 478.913 Td
(Once you've downloaded those files, do this:) Tj
ET
BT
/F7 12.61 Tf
56.693 466.157 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 466.157 Td
(run the downloaded ) Tj
ET
BT
/F8 6.053 Tf
160.298 466.157 Td
(tpeng) Tj
ET
BT
/F7 9.079 Tf
178.456 466.157 Td
(NNN) Tj
ET
BT
/F8 6.053 Tf
194.798 466.157 Td
(.exe) Tj
ET
BT
/F6 9.87 Tf
209.324 466.157 Td
( and follow its install process,) Tj
ET
BT
/F7 12.61 Tf
56.693 453.402 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 453.402 Td
(unzip ) Tj
ET
BT
/F8 6.053 Tf
97.199 453.402 Td
(inform2.zip) Tj
ET
BT
/F6 9.87 Tf
137.146 453.402 Td
(, placing the resulting ) Tj
ET
BT
/F8 6.053 Tf
233.151 453.402 Td
(inform2.syn) Tj
ET
BT
/F6 9.87 Tf
273.099 453.402 Td
( in the ) Tj
ET
BT
/F8 6.053 Tf
302.728 453.402 Td
(TextPad\\Samples) Tj
ET
BT
/F6 9.87 Tf
357.202 453.402 Td
() Tj
ET
BT
70.866 440.646 Td
(folder, and) Tj
ET
BT
/F7 12.61 Tf
56.693 427.89 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 427.89 Td
(unzip ) Tj
ET
BT
/F8 6.053 Tf
97.199 427.89 Td
(txplink4.zip) Tj
ET
BT
/F6 9.87 Tf
140.778 427.89 Td
( and follow the setup instructions therein.) Tj
ET
BT
42.52 402.378 Td
(Even if you do nothing else, you've got yourself a crackin' good editor. However,) Tj
ET
BT
42.52 389.622 Td
(it's very straightforward to teach TextPad some tricks which will greatly enhance) Tj
ET
BT
42.52 376.866 Td
(your Inform productivity.) Tj
ET
BT
/F5 9.87 Tf
147.832 376.866 Td
(Creating a TextPad document class) Tj
ET
BT
/F6 9.87 Tf
42.52 364.11 Td
(A document class is a family of files having the same extension: for Inform, that's ) Tj
ET
BT
/F8 6.053 Tf
42.52 351.354 Td
(.INF) Tj
ET
BT
/F6 9.87 Tf
57.046 351.354 Td
(. Follow these steps:) Tj
ET
BT
/F7 12.61 Tf
56.693 325.843 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 325.843 Td
(Start TextPad.) Tj
ET
BT
/F7 12.61 Tf
56.693 313.087 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 313.087 Td
(From the menu bar, select ) Tj
ET
BT
/F5 9.87 Tf
188.802 313.087 Td
(Configure > New document class...) Tj
ET
BT
/F6 9.87 Tf
352.525 313.087 Td
( to) Tj
ET
BT
70.866 300.331 Td
(display the Document Class Wizard.) Tj
ET
BT
/F7 12.61 Tf
56.693 287.575 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 287.575 Td
(Enter a class name of ) Tj
ET
BT
/F5 9.87 Tf
169.062 287.575 Td
(Inform) Tj
ET
BT
/F6 9.87 Tf
199.768 287.575 Td
(, and then click ) Tj
ET
BT
/F5 9.87 Tf
268.344 287.575 Td
(Next) Tj
ET
BT
/F6 9.87 Tf
289.732 287.575 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 274.819 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 274.819 Td
(Enter a class membership of ) Tj
ET
BT
/F5 9.87 Tf
198.672 274.819 Td
(*.INF) Tj
ET
BT
/F6 9.87 Tf
221.156 274.819 Td
(, and then click ) Tj
ET
BT
/F5 9.87 Tf
289.732 274.819 Td
(Next) Tj
ET
BT
/F6 9.87 Tf
311.12 274.819 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 262.063 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 262.063 Td
(Click to enable syntax highlighting, select ) Tj
ET
BT
/F8 6.053 Tf
253.539 262.063 Td
(Inform2.syn) Tj
ET
BT
/F6 9.87 Tf
293.486 262.063 Td
( from the dropdown) Tj
ET
BT
70.866 249.307 Td
(list, and then click ) Tj
ET
BT
/F5 9.87 Tf
151.504 249.307 Td
(Next) Tj
ET
BT
/F6 9.87 Tf
172.892 249.307 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 236.551 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 236.551 Td
(Click ) Tj
ET
BT
/F5 9.87 Tf
94.988 236.551 Td
(Finish) Tj
ET
BT
/F6 9.87 Tf
124.055 236.551 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 223.795 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 223.795 Td
(Select ) Tj
ET
BT
/F5 9.87 Tf
101.039 223.795 Td
(Configure > Preferences...) Tj
ET
BT
/F6 9.87 Tf
223.633 223.795 Td
(, click to open the list of ) Tj
ET
BT
/F5 9.87 Tf
328.965 223.795 Td
(Document) Tj
ET
BT
70.866 211.039 Td
(Classes) Tj
ET
BT
/F6 9.87 Tf
108.175 211.039 Td
(, and click to open ) Tj
ET
BT
/F5 9.87 Tf
190.47 211.039 Td
(Inform) Tj
ET
BT
/F6 9.87 Tf
221.175 211.039 Td
(. Specify how you want your game) Tj
ET
BT
70.866 198.283 Td
(files to appear.) Tj
ET
BT
/F7 12.61 Tf
56.693 185.528 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 185.528 Td
(Click ) Tj
ET
BT
/F5 9.87 Tf
94.988 185.528 Td
(OK) Tj
ET
BT
/F6 9.87 Tf
109.793 185.528 Td
(.) Tj
ET
BT
42.52 160.016 Td
(Now, any Inform source file that you edit will automatically use syntax highlighting) Tj
ET
BT
42.52 147.26 Td
(and the other display preferences that you've set. Easy!) Tj
ET
BT
/F5 9.87 Tf
285.251 147.26 Td
(Running the compiler) Tj
ET
BT
42.52 134.504 Td
(within TextPad) Tj
ET
BT
/F6 9.87 Tf
42.52 121.748 Td
(Here's how to configure TextPad so that a single keystroke automatically compiles) Tj
ET
BT
42.52 108.992 Td
(the file that you're editing. Follow these steps:) Tj
ET
BT
/F7 12.61 Tf
56.693 96.236 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 96.236 Td
(Start TextPad.) Tj
ET
endstream
endobj
>>
303 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 304 0 R
>>
endobj
304 0 obj
<</Length 6174>>
stream
BT
0 g
/F4 9.87 Tf
329.774 623.48 Td
(Roger Firth) Tj
ET
BT
362.671 42.52 Td
(143) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F7 12.61 Tf
56.693 580.961 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 580.961 Td
(From the menu bar, select ) Tj
ET
BT
/F5 9.87 Tf
188.802 580.961 Td
(Configure > Preferences...) Tj
ET
BT
/F6 9.87 Tf
311.396 580.961 Td
(, and click ) Tj
ET
BT
/F5 9.87 Tf
70.866 568.205 Td
(Tools) Tj
ET
BT
/F6 9.87 Tf
97.189 568.205 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 555.449 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 555.449 Td
(From the dropdown ) Tj
ET
BT
/F5 9.87 Tf
159.182 555.449 Td
(Add) Tj
ET
BT
/F6 9.87 Tf
178.369 555.449 Td
( list, select ) Tj
ET
BT
/F5 9.87 Tf
227.186 555.449 Td
(Program) Tj
ET
BT
/F6 9.87 Tf
267.771 555.449 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 542.693 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 542.693 Td
(In the Select File dialog, navigate to the folder containing ) Tj
ET
BT
/F8 6.053 Tf
321.592 542.693 Td
(infrmw32.exe) Tj
ET
BT
/F6 9.87 Tf
365.171 542.693 Td
(,) Tj
ET
BT
70.866 529.937 Td
(select it, and then click ) Tj
ET
BT
/F5 9.87 Tf
172.902 529.937 Td
(Open) Tj
ET
BT
/F6 9.87 Tf
198.129 529.937 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 517.181 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 517.181 Td
(In the Preferences dialog, click ) Tj
ET
BT
/F5 9.87 Tf
208.009 517.181 Td
(Apply) Tj
ET
BT
/F6 9.87 Tf
235.428 517.181 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 504.425 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 504.425 Td
(Click to open the list of ) Tj
ET
BT
/F5 9.87 Tf
172.902 504.425 Td
(Tools) Tj
ET
BT
/F6 9.87 Tf
199.225 504.425 Td
(, and click ) Tj
ET
BT
/F5 9.87 Tf
245.85 504.425 Td
(Infrmw32) Tj
ET
BT
/F6 9.87 Tf
289.179 504.425 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 491.669 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 491.669 Td
(Change the Parameters to \(for example\) ) Tj
ET
BT
/F5 9.87 Tf
70.866 478.913 Td
(+include_path=.\\,.\\Library,..\\Library $File) Tj
ET
BT
/F6 9.87 Tf
260.122 478.913 Td
(. This tells the compiler) Tj
ET
BT
70.866 466.157 Td
(to look for Included files in the current folder, then in a Library) Tj
ET
BT
70.866 453.402 Td
(sub-folder, and finally in a Library folder alongside the current) Tj
ET
BT
70.866 440.646 Td
(folder. Change these settings to suit your personal preference.) Tj
ET
BT
/F7 12.61 Tf
56.693 427.89 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 427.89 Td
(Glulx only: You may also need one other change to get error message) Tj
ET
BT
70.866 415.134 Td
(handling to work properly; see the note below.) Tj
ET
BT
/F7 12.61 Tf
56.693 402.378 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 402.378 Td
(Click ) Tj
ET
BT
/F5 9.87 Tf
94.988 402.378 Td
(OK) Tj
ET
BT
/F6 9.87 Tf
109.793 402.378 Td
(.) Tj
ET
BT
42.52 376.866 Td
(If you select ) Tj
ET
BT
/F5 9.87 Tf
97.93 376.866 Td
(Tools) Tj
ET
BT
/F6 9.87 Tf
124.253 376.866 Td
( from the menu bar, you'll see ) Tj
ET
BT
/F5 9.87 Tf
256.697 376.866 Td
(Infrmw32) Tj
ET
BT
/F6 9.87 Tf
300.026 376.866 Td
(has appeared as the) Tj
ET
BT
42.52 364.11 Td
(last item, with a keyboard shortcut of Ctrl+1. Try it: open an Inform file in) Tj
ET
BT
42.52 351.354 Td
(TextPad, hold down the Ctrl key, and press 1. If you're lucky, you'll see "Tool) Tj
ET
BT
42.52 338.598 Td
(completed successfully". More likely, you'll get some compiler error messages.) Tj
ET
BT
42.52 325.843 Td
(Double-click on one of those messages to jump straight to the appropriate line in) Tj
ET
BT
42.52 313.087 Td
(your Inform file.) Tj
ET
BT
/F5 9.87 Tf
42.52 300.331 Td
(Running the interpreter within TextPad) Tj
ET
BT
/F6 9.87 Tf
42.52 287.575 Td
(Use exactly the same process so that a single keystroke runs the interpreter.) Tj
ET
BT
42.52 274.819 Td
(Follow these steps:) Tj
ET
BT
/F7 12.61 Tf
56.693 262.063 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 262.063 Td
(Start TextPad.) Tj
ET
BT
/F7 12.61 Tf
56.693 249.307 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 249.307 Td
(From the menu bar, select ) Tj
ET
BT
/F5 9.87 Tf
188.802 249.307 Td
(Configure > Preferences...) Tj
ET
BT
/F6 9.87 Tf
311.396 249.307 Td
(, and click ) Tj
ET
BT
/F5 9.87 Tf
70.866 236.551 Td
(Tools) Tj
ET
BT
/F6 9.87 Tf
97.189 236.551 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 223.795 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 223.795 Td
(From the dropdown ) Tj
ET
BT
/F5 9.87 Tf
159.182 223.795 Td
(Add) Tj
ET
BT
/F6 9.87 Tf
178.369 223.795 Td
( list, select ) Tj
ET
BT
/F5 9.87 Tf
227.186 223.795 Td
(Program) Tj
ET
BT
/F6 9.87 Tf
267.771 223.795 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 211.039 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 211.039 Td
(In the Select File dialog, navigate to the folder containing ) Tj
ET
BT
/F8 6.053 Tf
321.592 211.039 Td
(WinFrotz.exe) Tj
ET
BT
/F6 9.87 Tf
365.171 211.039 Td
(,) Tj
ET
BT
70.866 198.283 Td
(select it, and then click ) Tj
ET
BT
/F5 9.87 Tf
172.902 198.283 Td
(Open) Tj
ET
BT
/F6 9.87 Tf
198.129 198.283 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 185.528 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 185.528 Td
(In the Preferences dialog, click ) Tj
ET
BT
/F5 9.87 Tf
208.009 185.528 Td
(Apply) Tj
ET
BT
/F6 9.87 Tf
235.428 185.528 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 172.772 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 172.772 Td
(Click to open the list of ) Tj
ET
BT
/F5 9.87 Tf
172.902 172.772 Td
(Tools) Tj
ET
BT
/F6 9.87 Tf
199.225 172.772 Td
(, and click ) Tj
ET
BT
/F5 9.87 Tf
245.85 172.772 Td
(WinFrotz) Tj
ET
BT
/F6 9.87 Tf
288.064 172.772 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 160.016 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 160.016 Td
(Change the Parameters to ) Tj
ET
BT
/F5 9.87 Tf
189.365 160.016 Td
($BaseName.Z5) Tj
ET
BT
/F6 9.87 Tf
259.579 160.016 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 147.26 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 147.26 Td
(Click ) Tj
ET
BT
/F5 9.87 Tf
94.988 147.26 Td
(OK) Tj
ET
BT
/F6 9.87 Tf
109.793 147.26 Td
(.) Tj
ET
BT
42.52 121.748 Td
(Now, if you select ) Tj
ET
BT
/F5 9.87 Tf
122.604 121.748 Td
(Tools) Tj
ET
BT
/F6 9.87 Tf
148.927 121.748 Td
( from the menu bar, you'll see ) Tj
ET
BT
/F5 9.87 Tf
281.372 121.748 Td
(WinFrotz) Tj
ET
BT
/F6 9.87 Tf
323.586 121.748 Td
(with a keyboard) Tj
ET
BT
42.52 108.992 Td
(shortcut of Ctrl+2. Try it: open a valid Inform file in TextPad, compile it \(Ctrl+1\)) Tj
ET
BT
42.52 96.236 Td
(close the "Success" window and then press Ctrl+2 to open it in the interpreter.) Tj
ET
endstream
endobj
>>
305 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 306 0 R
>>
endobj
306 0 obj
<</Length 4301>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Using TextPad with Inform) Tj
ET
BT
42.52 42.52 Td
(144) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(The instructions here set up TextPad to compile and run a Version 5 game. Using) Tj
ET
BT
42.52 568.205 Td
(exactly the same processes, you could also configure Ctrl+2,3 to handle Version 8) Tj
ET
BT
42.52 555.449 Td
(games, and Ctrl+5,6 for Glulx. These are left as exercises for the reader.) Tj
ET
BT
359.315 555.449 Td
(If you) Tj
ET
BT
42.52 542.693 Td
(wish to change the Ctrl+1 and Ctrl+2 keyboard shortcuts, follow these steps:) Tj
ET
BT
/F7 12.61 Tf
56.693 529.937 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 529.937 Td
(Start TextPad.) Tj
ET
BT
/F7 12.61 Tf
56.693 517.181 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 517.181 Td
(From the menu bar, select ) Tj
ET
BT
/F5 9.87 Tf
188.802 517.181 Td
(Configure > Preferences...) Tj
ET
BT
/F6 9.87 Tf
311.396 517.181 Td
(, and click ) Tj
ET
BT
/F5 9.87 Tf
70.866 504.425 Td
(Keyboard) Tj
ET
BT
/F6 9.87 Tf
116.386 504.425 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 491.669 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 491.669 Td
(From the Categories list, click ) Tj
ET
BT
/F5 9.87 Tf
203.044 491.669 Td
(Tools) Tj
ET
BT
/F6 9.87 Tf
229.367 491.669 Td
(.) Tj
ET
BT
/F7 12.61 Tf
56.693 478.913 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 478.913 Td
(Select the command and the current keys, use ) Tj
ET
BT
/F5 9.87 Tf
277.138 478.913 Td
(Remove) Tj
ET
BT
/F6 9.87 Tf
315.532 478.913 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
337.483 478.913 Td
(Assign) Tj
ET
BT
/F6 9.87 Tf
370.389 478.913 Td
() Tj
ET
BT
70.866 466.157 Td
(to set a new shortcut.) Tj
ET
BT
/F7 12.61 Tf
56.693 453.402 Td
() Tj
ET
BT
/F6 9.87 Tf
70.866 453.402 Td
(Click ) Tj
ET
BT
/F5 9.87 Tf
94.988 453.402 Td
(OK) Tj
ET
BT
/F6 9.87 Tf
109.793 453.402 Td
(.) Tj
ET
BT
/F5 9.87 Tf
42.52 427.89 Td
(Note on Glulx error messages) Tj
ET
BT
/F6 9.87 Tf
42.52 415.134 Td
(\(I'm indebted to ) Tj
ET
BT
112.981 415.134 Td
(Petar Kanuritch) Tj
ET
BT
181.005 415.134 Td
( for this information.\) The Inform and Glulx) Tj
ET
BT
42.52 402.378 Td
(compilers can output their compilation results in three different styles:) Tj
ET
BT
/F7 12.61 Tf
56.693 376.866 Td
() Tj
ET
BT
/F5 9.87 Tf
70.866 376.866 Td
(-E0) Tj
ET
BT
/F6 9.87 Tf
86.224 376.866 Td
(: Archimedes-style error messages) Tj
ET
BT
70.866 364.11 Td
( \(for example: ) Tj
ET
BT
/F8 6.053 Tf
133.945 364.11 Td
(line 427: Error: No such constant as "top_object") Tj
ET
BT
/F6 9.87 Tf
311.892 364.11 Td
(\)) Tj
ET
BT
/F7 12.61 Tf
56.693 351.354 Td
() Tj
ET
BT
/F5 9.87 Tf
70.866 351.354 Td
(-E1) Tj
ET
BT
/F6 9.87 Tf
86.224 351.354 Td
(: Microsoft-style error messages) Tj
ET
BT
70.866 338.598 Td
( \(for example: ) Tj
ET
BT
/F8 6.053 Tf
133.945 338.598 Td
(C:\\Glulx\\libg610\\Balances.inf\(427\): Error: No such constant as) Tj
ET
BT
70.866 325.843 Td
("top_object") Tj
ET
BT
/F6 9.87 Tf
114.445 325.843 Td
(\)) Tj
ET
BT
/F7 12.61 Tf
56.693 313.087 Td
() Tj
ET
BT
/F5 9.87 Tf
70.866 313.087 Td
(-E2) Tj
ET
BT
/F6 9.87 Tf
86.224 313.087 Td
(: Macintosh MPW-style error messages) Tj
ET
BT
70.866 300.331 Td
( \(for example: ) Tj
ET
BT
/F8 6.053 Tf
133.945 300.331 Td
(File "C:\\Glulx\\libg610\\Balances.inf"; Line 427 # Error: No such) Tj
ET
BT
70.866 287.575 Td
(constant as "top_object") Tj
ET
BT
/F6 9.87 Tf
158.024 287.575 Td
(\)) Tj
ET
BT
42.52 262.063 Td
(where ) Tj
ET
BT
/F5 9.87 Tf
72.139 262.063 Td
(-E) Tj
ET
BT
/F4 9.87 Tf
82.009 262.063 Td
(n) Tj
ET
BT
/F6 9.87 Tf
87.497 262.063 Td
( is the switch which sets the related style of error message. For each) Tj
ET
BT
42.52 249.307 Td
(one, TextPad requires a different Regular Expression to match the output and) Tj
ET
BT
42.52 236.551 Td
(enable a jump to the correct line. These are:) Tj
ET
BT
/F7 12.61 Tf
56.693 211.039 Td
() Tj
ET
BT
/F5 9.87 Tf
70.866 211.039 Td
(-E0 setting) Tj
ET
BT
/F6 9.87 Tf
70.866 198.283 Td
( ^line \\\([0-9]+\\\):) Tj
ET
BT
70.866 185.528 Td
( File=) Tj
ET
BT
70.866 172.772 Td
( Line=1) Tj
ET
BT
70.866 160.016 Td
( Column=) Tj
ET
BT
/F7 12.61 Tf
56.693 147.26 Td
() Tj
ET
BT
/F5 9.87 Tf
70.866 147.26 Td
(-E1 setting) Tj
ET
BT
/F6 9.87 Tf
70.866 134.504 Td
( ^\\\([^\(]+\\\)\(\\\([0-9]+\\\)\):) Tj
ET
BT
70.866 121.748 Td
( File=1) Tj
ET
BT
70.866 108.992 Td
( Line=2) Tj
ET
BT
70.866 96.236 Td
( Column=) Tj
ET
endstream
endobj
>>
307 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F7 7 0 R
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 308 0 R
>>
endobj
308 0 obj
<</Length 1342>>
stream
BT
0 g
/F4 9.87 Tf
329.774 623.48 Td
(Roger Firth) Tj
ET
BT
362.671 42.52 Td
(145) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F7 12.61 Tf
56.693 580.961 Td
() Tj
ET
BT
/F5 9.87 Tf
70.866 580.961 Td
(-E2 setting) Tj
ET
BT
/F6 9.87 Tf
70.866 568.205 Td
( ^File "\\\([^\(]+\\\)"; Line \\\([0-9]+\\\)) Tj
ET
BT
70.866 555.449 Td
( File=1) Tj
ET
BT
70.866 542.693 Td
( Line=2) Tj
ET
BT
70.866 529.937 Td
( Column=) Tj
ET
BT
42.52 504.425 Td
(The default entered by TextPad in the "Regular Expression to match output:" box) Tj
ET
BT
42.52 491.669 Td
(is, happily, exactly the ) Tj
ET
BT
/F5 9.87 Tf
141.811 491.669 Td
(-E1) Tj
ET
BT
/F6 9.87 Tf
157.169 491.669 Td
( setting; even better, Inform defaults to ) Tj
ET
BT
/F5 9.87 Tf
328.343 491.669 Td
(-E1) Tj
ET
BT
/F6 9.87 Tf
343.701 491.669 Td
( style on a) Tj
ET
BT
42.52 478.913 Td
(PC, so it all works nicely without further ado. However, Glulx defaults to ) Tj
ET
BT
/F5 9.87 Tf
356.828 478.913 Td
(-E0) Tj
ET
BT
/F6 9.87 Tf
372.185 478.913 Td
(, so) Tj
ET
BT
42.52 466.157 Td
(either \(a\) change TextPad's regular expression to the ) Tj
ET
BT
/F5 9.87 Tf
277.552 466.157 Td
(-E0) Tj
ET
BT
/F6 9.87 Tf
292.91 466.157 Td
( setting, or \(b\) include ) Tj
ET
BT
/F5 9.87 Tf
390.553 466.157 Td
(-E1) Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
( in TextPad's setting for Parameters.) Tj
ET
endstream
endobj
>>
309 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 310 0 R
>>
endobj
310 0 obj
<</Length 4706>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(REPLAYing command scripts) Tj
ET
BT
42.52 42.52 Td
(146) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(REPLAYing command scripts) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(A game's development process involves a great deal of highly-focused testing. As) Tj
ET
BT
42.52 555.449 Td
(you create each new room, object, NPC, verb and so on, you give it lots and lots of) Tj
ET
BT
42.52 542.693 Td
(exercise, both to confirm that it does what it's supposed to, and to ensure that it) Tj
ET
BT
42.52 529.937 Td
(doesn't fail in unusual circumstances. Doing this carefully as you go along is) Tj
ET
BT
42.52 517.181 Td
(common sense: it's much easier to thrash the hell out of some new code while you) Tj
ET
BT
42.52 504.425 Td
(can still clearly remember just how you intended it to behave.) Tj
ET
BT
309.117 504.425 Td
(As the game grows, it) Tj
ET
BT
42.52 491.669 Td
(becomes harder and harder to check it thoroughly. Sure, it's still easy to test the) Tj
ET
BT
42.52 478.913 Td
(new stuff: the problem is regression testing, verifying that what you've just done) Tj
ET
BT
42.52 466.157 Td
(hasn't broken what you did yesterday, or last week, or last month...) Tj
ET
BT
334.058 466.157 Td
(One excellent) Tj
ET
BT
42.52 453.402 Td
(way of minimizing the hassle is to create ) Tj
ET
BT
/F5 9.87 Tf
221.886 453.402 Td
(command scripts) Tj
ET
BT
/F6 9.87 Tf
303.609 453.402 Td
(which you can replay) Tj
ET
BT
42.52 440.646 Td
(to ensure that the whole game still hangs together after each set of changes.) Tj
ET
BT
42.52 427.89 Td
(Inform includes the verbs ) Tj
ET
BT
/F5 9.87 Tf
155.521 427.89 Td
(RECORDING ON) Tj
ET
BT
/F6 9.87 Tf
233.385 427.89 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
255.335 427.89 Td
(RECORDING OFF) Tj
ET
BT
/F6 9.87 Tf
338.134 427.89 Td
(which create a) Tj
ET
BT
42.52 415.134 Td
(script by capturing commands as you type them, and ) Tj
ET
BT
/F5 9.87 Tf
276.21 415.134 Td
(REPLAY) Tj
ET
BT
/F6 9.87 Tf
316.243 415.134 Td
( which reruns \(some) Tj
ET
BT
42.52 402.378 Td
(or all of\) a game by reading commands from a script file. These verbs are) Tj
ET
BT
42.52 389.622 Td
(described in 7.1 of the ) Tj
ET
BT
147.862 389.622 Td
(Inform Designer's Manual) Tj
ET
BT
259.994 389.622 Td
( \(Edition 4/1\).) Tj
ET
BT
/F5 9.87 Tf
42.52 376.866 Td
(RECORDING) Tj
ET
BT
/F6 9.87 Tf
102.835 376.866 Td
( and ) Tj
ET
BT
/F5 9.87 Tf
124.786 376.866 Td
(REPLAY) Tj
ET
BT
/F6 9.87 Tf
164.818 376.866 Td
( are available only when debugging is enabled, which) Tj
ET
BT
42.52 364.11 Td
(isn't normally a problem while you're developing: Strict mode \(and thence Debug) Tj
ET
BT
42.52 351.354 Td
(mode\) is the default compiler setting. However, when you release a game to beta) Tj
ET
BT
42.52 338.598 Td
(testers, as a competition entry, or simply for general enjoyment, you'll want to) Tj
ET
BT
42.52 325.843 Td
(turn off Debug mode -- by compiling with the ) Tj
ET
BT
/F5 9.87 Tf
238.902 325.843 Td
(-~S) Tj
ET
BT
/F6 9.87 Tf
254.536 325.843 Td
( flag -- in order to prevent) Tj
ET
BT
42.52 313.087 Td
(unscrupulous cheating. This means that these verbs now don't work; a bit) Tj
ET
BT
42.52 300.331 Td
(annoying, since you'd really like to ) Tj
ET
BT
/F5 9.87 Tf
194.714 300.331 Td
(REPLAY) Tj
ET
BT
/F6 9.87 Tf
234.747 300.331 Td
( your regression tests in regular) Tj
ET
BT
42.52 287.575 Td
(mode as well as in Debug mode.) Tj
ET
BT
42.52 274.819 Td
(Here's the very simple way to make ) Tj
ET
BT
/F5 9.87 Tf
200.725 274.819 Td
(RECORDING) Tj
ET
BT
/F6 9.87 Tf
261.04 274.819 Td
( and \(especially\) ) Tj
ET
BT
/F5 9.87 Tf
335.637 274.819 Td
(REPLAY) Tj
ET
BT
/F6 9.87 Tf
42.52 262.063 Td
(available at all times. In addition, it also implements ) Tj
ET
BT
/F5 9.87 Tf
269.617 262.063 Td
(!) Tj
ET
BT
/F6 9.87 Tf
272.904 262.063 Td
( as a comment verb, so that) Tj
ET
BT
42.52 249.307 Td
(you can embed remarks in your script files to remind yourself of what's being) Tj
ET
BT
42.52 236.551 Td
(tested. Just add this code to the end of your game, after the ) Tj
ET
BT
/F8 6.053 Tf
305.879 236.551 Td
(Include "Grammar";) Tj
ET
BT
/F6 9.87 Tf
371.248 236.551 Td
( line:) Tj
ET
BT
/F8 6.053 Tf
70.866 211.55 Td
(#Ifndef DEBUG;) Tj
ET
BT
70.866 199.304 Td
(Global    xcommsdir;) Tj
ET
BT
70.866 174.813 Td
([ CommandsOnSub;) Tj
ET
BT
70.866 162.567 Td
(    @output_stream 4; xcommsdir = 1; "[Command recording on.]";) Tj
ET
BT
70.866 150.321 Td
(    ];) Tj
ET
BT
70.866 138.076 Td
([ CommandsOffSub;) Tj
ET
BT
70.866 125.83 Td
(    if \(xcommsdir == 1\) @output_stream -4;) Tj
ET
BT
70.866 113.584 Td
(    xcommsdir = 0; "[Command recording off.]";) Tj
ET
BT
70.866 101.339 Td
(    ];) Tj
ET
BT
70.866 89.093 Td
([ CommandsReadSub;) Tj
ET
endstream
endobj
>>
311 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 312 0 R
>>
endobj
312 0 obj
<</Length 2217>>
stream
BT
0 g
/F4 9.87 Tf
329.774 623.48 Td
(Roger Firth) Tj
ET
BT
362.671 42.52 Td
(147) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
70.866 574.838 Td
(    @input_stream 1; xcommsdir = 2; "[Replaying commands.]";) Tj
ET
BT
70.866 562.592 Td
(    ];) Tj
ET
BT
70.866 538.101 Td
(Verb meta 'recording') Tj
ET
BT
70.866 525.855 Td
(    *       -> CommandsOn) Tj
ET
BT
70.866 513.609 Td
(    * 'on'  -> CommandsOn) Tj
ET
BT
70.866 501.364 Td
(    * 'off' -> CommandsOff;) Tj
ET
BT
70.866 489.118 Td
(Verb meta 'replay') Tj
ET
BT
70.866 476.872 Td
(    *       -> CommandsRead;) Tj
ET
BT
70.866 464.627 Td
(#Endif;) Tj
ET
BT
70.866 440.135 Td
([ CommentSub; ];) Tj
ET
BT
70.866 427.89 Td
(Verb meta '!') Tj
ET
BT
70.866 415.644 Td
(    *       -> Comment) Tj
ET
BT
70.866 403.398 Td
(    * topic -> Comment;) Tj
ET
BT
/F6 9.87 Tf
42.52 371.764 Td
(In fact, you might find it convenient to place the code in a file ) Tj
ET
BT
/F8 6.053 Tf
309.156 371.764 Td
(Replay.h) Tj
ET
BT
/F6 9.87 Tf
338.209 371.764 Td
(which you can) Tj
ET
BT
42.52 359.008 Td
(then easily ) Tj
ET
BT
/F8 6.053 Tf
92.442 359.008 Td
(Include) Tj
ET
BT
/F6 9.87 Tf
117.863 359.008 Td
( in all of your games. Finally, by way of example, here's a) Tj
ET
BT
42.52 346.252 Td
(script file which exercises my example game "Cloak of Darkness":) Tj
ET
BT
/F8 6.053 Tf
70.866 321.25 Td
(! Command script to exercise "Cloak of Darkness" \(Cloak.inf\)) Tj
ET
BT
70.866 309.005 Td
(!) Tj
ET
BT
70.866 296.759 Td
(! NORTH goes nowhere) Tj
ET
BT
70.866 284.513 Td
(NORTH) Tj
ET
BT
70.866 272.268 Td
(!) Tj
ET
BT
70.866 260.022 Td
(! SOUTH is dark, and you need to come straight out again) Tj
ET
BT
70.866 247.776 Td
(SOUTH) Tj
ET
BT
70.866 235.531 Td
(NORTH) Tj
ET
BT
70.866 223.285 Td
(!) Tj
ET
BT
70.866 211.039 Td
(! Inspect your possessions) Tj
ET
BT
70.866 198.794 Td
(EXAMINE ME) Tj
ET
BT
70.866 186.548 Td
(INV) Tj
ET
BT
70.866 174.302 Td
(EXAMINE CLOAK) Tj
ET
BT
70.866 162.057 Td
(TAKE OFF CLOAK) Tj
ET
BT
70.866 149.811 Td
(DROP IT) Tj
ET
BT
70.866 137.565 Td
(!) Tj
ET
BT
70.866 125.32 Td
(! Investigate the Cloakroom) Tj
ET
BT
70.866 113.074 Td
(WEST) Tj
ET
BT
70.866 100.828 Td
(EXAMINE HOOK) Tj
ET
BT
70.866 88.583 Td
(TAKE IT) Tj
ET
endstream
endobj
>>
313 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 314 0 R
>>
endobj
314 0 obj
<</Length 570>>
stream
BT
0 g
/F4 9.87 Tf
70.866 623.48 Td
(REPLAYing command scripts) Tj
ET
BT
70.866 42.52 Td
(148) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
BT
/F8 6.053 Tf
70.866 574.838 Td
(HANG CLOAK ON HOOK) Tj
ET
BT
70.866 562.592 Td
(TAKE CLOAK) Tj
ET
BT
70.866 550.346 Td
(HANG IT ON HOOK) Tj
ET
BT
70.866 538.101 Td
(EXAMINE HOOK) Tj
ET
BT
70.866 525.855 Td
(EAST) Tj
ET
BT
70.866 513.609 Td
(!) Tj
ET
BT
70.866 501.364 Td
(! Now OK to enter the Bar) Tj
ET
BT
70.866 489.118 Td
(SOUTH) Tj
ET
BT
70.866 476.872 Td
(TAKE MESSAGE) Tj
ET
BT
70.866 464.627 Td
(READ MESSAGE) Tj
ET
endstream
endobj
>>
315 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text /ImageC ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 316 0 R
>>
endobj
316 0 obj
<</Length 3065>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(149) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(Using the "system_file" and "replace" Directives In the Same Source File) Tj
ET
q
51.024 0 0 44.646 42.52 491.669 cm
/I338 Do
Q
BT
/F6 9.87 Tf
99.213 529.937 Td
(here is an obscurity that presents itself when using both the replace) Tj
ET
BT
99.213 517.181 Td
(and system_file directives in the same file. ) Tj
ET
BT
99.213 491.669 Td
(First, to bring this article into context, let me describe briefly what) Tj
ET
BT
42.52 478.913 Td
(they each do: ) Tj
ET
BT
42.52 453.402 Td
(The system_file directive tells the compiler that the following routines, contained in) Tj
ET
BT
42.52 440.646 Td
(the current source file, can be overridden via the replace directive. \(It actually does) Tj
ET
BT
42.52 427.89 Td
(more, but this is the behavior that is relevant\) ) Tj
ET
BT
42.52 402.378 Td
(The replace directive, generally called before the inclusion of the system_file, is) Tj
ET
BT
42.52 389.622 Td
(used to indicate that certain routines are to be replaced. Specifically, when the) Tj
ET
BT
42.52 376.866 Td
(replace directive is used to specify a routine name, instances of that routine,) Tj
ET
BT
42.52 364.11 Td
(which occur under the scope of the system_file directive, are ignored. This way a) Tj
ET
BT
42.52 351.354 Td
(new version, specified in a non-system file can be used instead. ) Tj
ET
BT
42.52 325.843 Td
(The problem-behavior is that a file, which 1\) specifies a function to be replaced, 2\)) Tj
ET
BT
42.52 313.087 Td
(implements a new version of the function, and 3\) is designated as a system_file,) Tj
ET
BT
42.52 300.331 Td
(has just specified its own implementation of the replaced function to be ignored as) Tj
ET
BT
42.52 287.575 Td
(well. Compiling this file will result in an error message similar to: ) Tj
ET
BT
/F8 6.053 Tf
42.52 243.694 Td
( testgame.inf\(62\): Error: There is no action routine called "ScoreSub" ) Tj
ET
BT
/F6 9.87 Tf
42.52 218.183 Td
(For personal library extensions in particular, the need to replace standard library) Tj
ET
BT
42.52 205.427 Td
(routines and provide new routines that can be replaced as well is common. What) Tj
ET
BT
42.52 192.671 Td
(we seem to need, in cases like this is to specify some routines as replaceable and) Tj
ET
BT
42.52 179.915 Td
(other routines as not replaceable. ) Tj
ET
BT
42.52 154.403 Td
(The solution is rooted in the fact that the name of the system_file directive is) Tj
ET
BT
42.52 141.647 Td
(potentially misleading since it seems to imply an entire file will be treated as a) Tj
ET
BT
42.52 128.891 Td
(system file. Actually, this is not true. The manner in which the Inform compiler) Tj
ET
BT
42.52 116.135 Td
(handles files designated as "system files" begins only when the directive is) Tj
ET
BT
42.52 103.38 Td
(encountered and stops at the end of the file. This enables us to move the) Tj
ET
BT
42.52 90.624 Td
(system_file directive down in our source file. The routines specified after the) Tj
ET
endstream
endobj
>>
317 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 318 0 R
>>
endobj
318 0 obj
<</Length 905>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(Using SYSTEM_FILE & REPLACE in the Same Source) Tj
ET
BT
42.52 42.52 Td
(150) Tj
ET
BT
194.833 42.52 Td
(Informed Tips) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(system_file directive will be able to be replaced by games implementing the file,) Tj
ET
BT
42.52 568.205 Td
(while the routines above the system_file directive will be compiled without the) Tj
ET
BT
42.52 555.449 Td
(system_file qualifier and can therefore be used as replacements to library routines. ) Tj
ET
BT
42.52 529.937 Td
(The following code snip demonstrates: ) Tj
ET
BT
/F8 6.053 Tf
42.52 486.057 Td
( replace ScoreSub;) Tj
ET
BT
42.52 473.811 Td
( [ScoreSub;) Tj
ET
BT
42.52 467.688 Td
(    !...personal implementation of ScoreSub) Tj
ET
BT
42.52 461.565 Td
( ];) Tj
ET
BT
42.52 449.32 Td
( system_file;) Tj
ET
BT
42.52 437.074 Td
( !...other code eligible to be replaced later goes here...) Tj
ET
endstream
endobj
>>
319 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 320 0 R
>>
endobj
320 0 obj
<</Length 234>>
stream
BT
0 g
/F4 9.87 Tf
281.076 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
391.017 42.52 Td
(151) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
210.467 333 Td
(Part H) Tj
ET
BT
202.788 320.244 Td
(IF Theory) Tj
ET
endstream
endobj
>>
321 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 322 0 R
>>
endobj
322 0 obj
<</Length 139>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(An Inform Developer's Guide) Tj
ET
BT
42.52 42.52 Td
(152) Tj
ET
BT
203.883 42.52 Td
(IF Theory) Tj
ET
endstream
endobj
>>
323 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 324 0 R
>>
endobj
324 0 obj
<</Length 2943>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(153) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(NPC Conversations: Ask/Tell Theory) Tj
ET
BT
42.52 555.449 Td
(1. Introduction) Tj
ET
BT
/F6 9.87 Tf
42.52 529.937 Td
(In the wake of such ground breaking games as "Galatia," "Photopia," and "Best of) Tj
ET
BT
42.52 517.181 Td
(Three," NPC conversations have become all the rage. Although there are) Tj
ET
BT
42.52 504.425 Td
(numerous ways to implement conversations \(Emily Short identifies at least seven) Tj
ET
BT
42.52 491.669 Td
(on her ) Tj
ET
BT
73.245 491.669 Td
(NPC Characterization page) Tj
ET
BT
193.372 491.669 Td
(\) the two dominant forms seem to boil down to) Tj
ET
BT
42.52 478.913 Td
(conversation menus, and the age-old classic ASK/TELL. ) Tj
ET
BT
42.52 453.402 Td
(As a developer I have always preferred the ASK/Tell system and most of the) Tj
ET
BT
42.52 440.646 Td
(implementation of the ORLibrary has been based upon expanding this paradigm.) Tj
ET
BT
42.52 427.89 Td
(This article, in fact, describes four different models for Ask/Tell implementation,) Tj
ET
BT
42.52 415.134 Td
(details what purposes they serve in a story, and parallels their use in real life. It) Tj
ET
BT
42.52 402.378 Td
(is also worth mentioning that, quite by coincidence, one of these models of the) Tj
ET
BT
42.52 389.622 Td
(Ask/Tell theory lends itself particularly well to a menu interface. ) Tj
ET
BT
42.52 364.11 Td
(This is an article on the theory of Ask/Tell, and I am attempting to keep away) Tj
ET
BT
42.52 351.354 Td
(from platform specifics. For this reason, although library modules might be) Tj
ET
BT
42.52 338.598 Td
(mentioned in passing, no code or implementation will be given here. For those) Tj
ET
BT
42.52 325.843 Td
(who want more, however, this game is accompanied by a sample one-room) Tj
ET
BT
42.52 313.087 Td
(conversation game, written in Inform, which bears some meager resemblance to) Tj
ET
BT
42.52 300.331 Td
(both "Best of Three" and "Galatea." The code for this game, named "Medusa,") Tj
ET
BT
42.52 287.575 Td
(will compile to both the Z-Machine and GLULX Native platforms. It leverages the) Tj
ET
BT
42.52 274.819 Td
(ORLibrary framework, and can be found here:) Tj
ET
BT
42.52 249.307 Td
(http://www.onyxring.com/downloads/ORLib%20Examples/medusa.inf) Tj
ET
BT
42.52 223.795 Td
(A compiled version of the game \(compiled to .Z5 format because it is more) Tj
ET
BT
42.52 211.039 Td
(common right now than GLULX\) can also be found here:) Tj
ET
BT
42.52 185.528 Td
(http://www.onyxring.com/downloads/ORLib%20Examples/medusa.z5) Tj
ET
BT
42.52 160.016 Td
(Additionally, to aid in understanding, a conversation map has been created and) Tj
ET
BT
42.52 147.26 Td
(can be downloaded from the following URL:) Tj
ET
BT
42.52 108.992 Td
(http://www.onyxring.com/downloads/ORLib%20Examples/medusa%20conversatio) Tj
ET
BT
42.52 96.236 Td
(.jpg) Tj
ET
endstream
endobj
>>
325 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 326 0 R
>>
endobj
326 0 obj
<</Length 3106>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(NPC Conversations: Ask/Tell Theory) Tj
ET
BT
42.52 42.52 Td
(154) Tj
ET
BT
203.883 42.52 Td
(IF Theory) Tj
ET
BT
/F6 9.87 Tf
42.52 568.205 Td
(For additional implementation information I would suggest the Advanced NPCs) Tj
ET
BT
42.52 555.449 Td
(articles "Converstation and Learning" available from:) Tj
ET
BT
42.52 529.937 Td
(http://www.onyxring.com/InformGuide.aspx?article=20) Tj
ET
BT
/F5 9.87 Tf
42.52 504.425 Td
(2 Theory of the Ask/Tell Paradigm) Tj
ET
BT
/F6 9.87 Tf
42.52 478.913 Td
(How do we, as people, choose what we are going to say to another person? For) Tj
ET
BT
42.52 466.157 Td
(the purposes of this article I will site four different forms of the human) Tj
ET
BT
42.52 453.402 Td
(conversation model and relate these to topic based conversations. It is important to) Tj
ET
BT
42.52 440.646 Td
(realize that each of these four forms of conversation is used in life to serve) Tj
ET
BT
42.52 427.89 Td
(different needs just as each of these forms of conversation is used in a game to) Tj
ET
BT
42.52 415.134 Td
(serve different needs. ) Tj
ET
BT
/F5 9.87 Tf
42.52 389.622 Td
(2.1 The Librarian) Tj
ET
BT
/F6 9.87 Tf
42.52 364.11 Td
(The vast majority of IF games use this model. It is a response-only model where) Tj
ET
BT
42.52 351.354 Td
(the NPC will respond to the player only if spoken to but otherwise does not) Tj
ET
BT
42.52 338.598 Td
(initiate conversation. In life, this is a model we see in service staff, such as a) Tj
ET
BT
42.52 325.843 Td
(librarian who does her duties and answers questions but otherwise minds her own) Tj
ET
BT
42.52 313.087 Td
(business. The advantage of this model is that it is fairly easy to implement. This) Tj
ET
BT
42.52 300.331 Td
(model has the disadvantage of only being player driven. Creative writing can) Tj
ET
BT
42.52 287.575 Td
(temper the effect to some degree, but an NPC that simply answers questions isn't) Tj
ET
BT
42.52 274.819 Td
(really much of a conversationalist. ) Tj
ET
BT
/F5 9.87 Tf
42.52 249.307 Td
(2.2 The Rambling Idiot) Tj
ET
BT
/F6 9.87 Tf
42.52 223.795 Td
(In life, this conversation model is most often used by people who have just met.) Tj
ET
BT
42.52 211.039 Td
(Particularly with strangers of whom nothing is known, there is little to do in a) Tj
ET
BT
42.52 198.283 Td
(conversation than to make some random generic statement such as "How about) Tj
ET
BT
42.52 185.528 Td
(them Yankees?" or "Nice weather we've been having." In a perfect world these little) Tj
ET
BT
42.52 172.772 Td
(generic bits of conversation will lead to a more personal level of discussion \("The) Tj
ET
BT
42.52 160.016 Td
(Yankees haven't played this bad since my freshman year of college." Or "Yes, this) Tj
ET
BT
42.52 147.26 Td
(is great golfing weather!"\) but until the other person has "bitten," we are just) Tj
ET
BT
42.52 134.504 Td
(fishing for a conversation. ) Tj
ET
BT
42.52 108.992 Td
(In IF, the advantage of this model is that NPCs can initiate conversation on their) Tj
ET
BT
42.52 96.236 Td
(own and do not have to wait for the player to address them. However, if used alone) Tj
ET
endstream
endobj
>>
327 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 328 0 R
>>
endobj
328 0 obj
<</Length 3405>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(155) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(this model has the disadvantage of not "flowing" from one topic to another. Normal) Tj
ET
BT
42.52 568.205 Td
(conversation tends to progress in a chain of related subjects \("You followed the) Tj
ET
BT
42.52 555.449 Td
(Yankees in college? What school did you go to?" or "You like to golf? So does my) Tj
ET
BT
42.52 542.693 Td
(brother."\). Without this relation between topics, the randomness of conversational) Tj
ET
BT
42.52 529.937 Td
(blurbs makes people \(or NPCs\) appear to ramble as though intoxicated. This could) Tj
ET
BT
42.52 517.181 Td
(be exactly what the developer is looking for in a character, but for a "normal") Tj
ET
BT
42.52 504.425 Td
(NPC, this model alone leaves something to be desired. ) Tj
ET
BT
/F5 9.87 Tf
42.52 478.913 Td
(2.3 The Lecturing Professor) Tj
ET
BT
/F6 9.87 Tf
42.52 453.402 Td
(In life, we use this third form of conversation when we have something specific to) Tj
ET
BT
42.52 440.646 Td
(say. A lecturer in a class room, for example, has specific points that must be made.) Tj
ET
BT
42.52 427.89 Td
(As the lecture progresses, the points are made one-by-one until the lecture is) Tj
ET
BT
42.52 415.134 Td
(concluded. It is possible that the students will keep quiet and the lecture will occur) Tj
ET
BT
42.52 402.378 Td
(exactly as written on the lecturer's note cards. It is equally possible that members) Tj
ET
BT
42.52 389.622 Td
(of the audience will ask questions. ) Tj
ET
BT
42.52 364.11 Td
(When a lecturer answers a question, it can possibly be about related information) Tj
ET
BT
42.52 351.354 Td
(that would not otherwise have been covered in the lecture. The question could) Tj
ET
BT
42.52 338.598 Td
(also cover lecture material prematurely in which case those points need not be) Tj
ET
BT
42.52 325.843 Td
(made again as the lecture continues. ) Tj
ET
BT
42.52 300.331 Td
(In IF, this third model is ideal for ensuring that necessary information gets) Tj
ET
BT
42.52 287.575 Td
(conveyed to the player. It is perhaps the most useful technique for writing NPC) Tj
ET
BT
42.52 274.819 Td
(conversation "scenes" in a story since it conveys the appropriate information, yet) Tj
ET
BT
42.52 262.063 Td
(allows the player to be as interactive \(or not\) as he/she desires. ) Tj
ET
BT
42.52 236.551 Td
(One small disadvantage of this model is that the technique isn't truly "drivable" by) Tj
ET
BT
42.52 223.795 Td
(the player. That is, there is a predetermined outcome that will come to pass) Tj
ET
BT
42.52 211.039 Td
(regardless of what the player does. This is most likely what is desired in an IF) Tj
ET
BT
42.52 198.283 Td
(story anyway, however this model simply doesn't work well for "conversation") Tj
ET
BT
42.52 185.528 Td
(games with multiple endings and "decision trees." For art to more closely imitate) Tj
ET
BT
42.52 172.772 Td
(life, another model is needed... ) Tj
ET
BT
/F5 9.87 Tf
42.52 147.26 Td
(2.4 The Conversationalist) Tj
ET
BT
/F6 9.87 Tf
42.52 121.748 Td
(This final conversation model is the logical continuation of the "Rambling Idiot") Tj
ET
BT
42.52 108.992 Td
(model discussed previously. In life, when we communicate with other people, we) Tj
ET
BT
42.52 96.236 Td
(key into what is being said and keep a running pool of things to Ask/Tell which) Tj
ET
endstream
endobj
>>
329 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 330 0 R
>>
endobj
330 0 obj
<</Length 1680>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(NPC Conversations: Ask/Tell Theory) Tj
ET
BT
42.52 42.52 Td
(156) Tj
ET
BT
203.883 42.52 Td
(IF Theory) Tj
ET
BT
/F6 9.87 Tf
42.52 580.961 Td
(are related to the conversation. Each statement can have several related topics) Tj
ET
BT
42.52 568.205 Td
(which, in turn, have their own related topics. Together, these weave chains of) Tj
ET
BT
42.52 555.449 Td
(interweaving topics \(or a "Topic Web"\) which the player can navigate and be) Tj
ET
BT
42.52 542.693 Td
(prompted with reasonable, natural statements/questions from the NPC. As an) Tj
ET
BT
42.52 529.937 Td
(example, let's continue with one of the conversation statements covered) Tj
ET
BT
42.52 517.181 Td
(previously: ) Tj
ET
BT
/F8 6.053 Tf
42.52 473.301 Td
( "You like to golf?  So does my brother." ) Tj
ET
BT
/F6 9.87 Tf
42.52 428.91 Td
(An NPC can be programmed to respond to this statement with a number of related) Tj
ET
BT
42.52 416.154 Td
(statements, each response having its own set of related topics: ) Tj
ET
BT
/F8 6.053 Tf
42.52 372.274 Td
( "Well, miniature golf. I worked at ) Tj
ET
BT
42.52 366.151 Td
( 'Golf World' after high school." ) Tj
ET
BT
/F6 9.87 Tf
42.52 321.761 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
42.52 277.88 Td
( "Sure I like golf, but not as much as I ) Tj
ET
BT
42.52 271.757 Td
( do water skiing.  I do that every ) Tj
ET
BT
42.52 265.635 Td
( weekend.") Tj
ET
BT
/F6 9.87 Tf
42.52 221.244 Td
(or ) Tj
ET
BT
/F8 6.053 Tf
42.52 177.364 Td
( "Not my brother, he hates golf with a ) Tj
ET
BT
42.52 171.241 Td
( passion.  He got hit in the head with a ) Tj
ET
BT
42.52 165.118 Td
( golf ball as a child." ) Tj
ET
BT
/F6 9.87 Tf
42.52 120.728 Td
(or ) Tj
ET
endstream
endobj
>>
331 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F4 4 0 R
/F6 6 0 R
/F8 8 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 332 0 R
>>
endobj
332 0 obj
<</Length 2911>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(157) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F8 6.053 Tf
42.52 574.838 Td
( "I think I know your brother.  Isn't ) Tj
ET
BT
42.52 568.715 Td
( he on the debate team?" ) Tj
ET
BT
/F6 9.87 Tf
42.52 524.324 Td
(Obviously the advantage to this system is that it allows for complex conversations) Tj
ET
BT
42.52 511.569 Td
(seen in games such as "Best of Three" that can be driven equally by the NPC and) Tj
ET
BT
42.52 498.813 Td
(the PC together. As an additional advantage, the concept of related topics is) Tj
ET
BT
42.52 486.057 Td
(particularly well suited to support a menu. The menu, in turn addresses a) Tj
ET
BT
42.52 473.301 Td
(disadvantage with the Ask/Tell paradigm as a whole: the difficulty of leading the) Tj
ET
BT
42.52 460.545 Td
(player in the appropriate direction. ) Tj
ET
BT
42.52 435.033 Td
(By its very nature, the Ask/Tell paradigm doesn't limit what the player can try to) Tj
ET
BT
42.52 422.277 Td
(say. This openness of Ask/Tell is both a positive and a negative. It gives the) Tj
ET
BT
42.52 409.521 Td
(player freedom since there need be no rhyme or reason to what is said to an NPC.) Tj
ET
BT
42.52 396.765 Td
(If the player chooses, he can play the "rambling idiot" all he wants, but most) Tj
ET
BT
42.52 384.009 Td
(players will look for clues when trying to determine what to say next. Without a) Tj
ET
BT
42.52 371.254 Td
(menu, strong hints need to be made. One way to accomplish this would be through) Tj
ET
BT
42.52 358.498 Td
(protagonist thoughts, but this technique grows more difficult as the number of) Tj
ET
BT
42.52 345.742 Td
(conversation branches increases. For the four options above, several lines of text) Tj
ET
BT
42.52 332.986 Td
(must be added: ) Tj
ET
BT
/F8 6.053 Tf
42.52 289.106 Td
( "You like to golf?  So does my brother.") Tj
ET
BT
42.52 276.86 Td
( You begin to tell about your tenure at ) Tj
ET
BT
42.52 270.737 Td
( "Golf World" but hesitate at the ) Tj
ET
BT
42.52 264.614 Td
( mention of her brother whom you know from ) Tj
ET
BT
42.52 258.491 Td
( debate.  He always reminded you of your own ) Tj
ET
BT
42.52 252.369 Td
( brother who, oddly enough, hated golf.  You ) Tj
ET
BT
42.52 246.246 Td
( two always had a great time skiing though. ) Tj
ET
BT
/F6 9.87 Tf
42.52 201.855 Td
(As with any Ask/Tell system, this puts a fair burden on the shoulders of the author) Tj
ET
BT
42.52 189.099 Td
(to make adequate suggestions about what the player might say next. Hopefully,) Tj
ET
BT
42.52 176.343 Td
(with a bit of luck the player will read the above and consider one or more of the) Tj
ET
BT
42.52 163.587 Td
(following: ) Tj
ET
BT
/F8 6.053 Tf
42.52 119.707 Td
( >Tell girl about golf world ) Tj
ET
BT
42.52 113.584 Td
( >Tell girl about brother) Tj
ET
BT
42.52 107.461 Td
( >Ask girl about brother) Tj
ET
BT
42.52 101.339 Td
( >Tell girl about skiing) Tj
ET
endstream
endobj
>>
333 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 334 0 R
>>
endobj
334 0 obj
<</Length 2677>>
stream
BT
0 g
/F4 9.87 Tf
42.52 623.48 Td
(NPC Conversations: Ask/Tell Theory) Tj
ET
BT
42.52 42.52 Td
(158) Tj
ET
BT
203.883 42.52 Td
(IF Theory) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(Use of a menu system lightens this burden somewhat for both the author and) Tj
ET
BT
42.52 542.693 Td
(player. This intertwining of menus and Ask/Tell has an additional advantage.) Tj
ET
BT
42.52 529.937 Td
(Unlike non-Ask/Tell based menu systems, the player is not bound to choose one of) Tj
ET
BT
42.52 517.181 Td
(these menu items. A menu used in conjunction with Ask/Tell can be exited and the) Tj
ET
BT
42.52 504.425 Td
(player can "change the subject" by choosing another, non-related topic to Ask or) Tj
ET
BT
42.52 491.669 Td
(Tell in the conventional manner. ) Tj
ET
BT
42.52 466.157 Td
(The ease of a menu combined with the power of the command. Now that's) Tj
ET
BT
42.52 453.402 Td
(flexibility! ) Tj
ET
BT
/F5 9.87 Tf
42.52 427.89 Td
(3 Implementation) Tj
ET
BT
/F6 9.87 Tf
42.52 402.378 Td
(As I said up front, this article is about the theory behind Ask/Tell. There will be) Tj
ET
BT
42.52 389.622 Td
(no code given here that describes implementation. Still, it would be irresponsible) Tj
ET
BT
42.52 376.866 Td
(of me to simply end the article without some advice on where to go from here. ) Tj
ET
BT
42.52 351.354 Td
(As a matter of personal preference, I am a big subscriber to the philosophy of) Tj
ET
BT
42.52 338.598 Td
(reusable code. Most of the work that I do in this area I package into reusable) Tj
ET
BT
42.52 325.843 Td
(modules and publish it in the ORLibrary. The sample, open source game produced) Tj
ET
BT
42.52 313.087 Td
(for this article leverages the library and primarily demonstrates the fourth model) Tj
ET
BT
42.52 300.331 Td
(discussed \("The Conversationalist"\) with a combined menu system. What follows is) Tj
ET
BT
42.52 287.575 Td
(a list of pertinent ORLibrary modules that can be used to implement the models) Tj
ET
BT
42.52 274.819 Td
(covered in this article: ) Tj
ET
BT
/F5 9.87 Tf
42.52 249.307 Td
(3.1 The Librarian) Tj
ET
BT
/F6 9.87 Tf
42.52 223.795 Td
(ORKnowledgeTopic - This is the ORLibrary basis for all information used in the) Tj
ET
BT
42.52 211.039 Td
(Ask/Tell paradigm as a whole. ) Tj
ET
BT
42.52 185.528 Td
(ORNPC_AskTellLearn - NPCs derived from this class are given the ability to) Tj
ET
BT
42.52 172.772 Td
(answer ASKed questions to which they know the answer. ) Tj
ET
BT
/F5 9.87 Tf
42.52 147.26 Td
(3.2 The Rambling Idiot) Tj
ET
BT
/F6 9.87 Tf
42.52 121.748 Td
(ORNPC_Converse - This class instills NPCs with the ability to pick random) Tj
ET
BT
42.52 108.992 Td
(subjects and TELL them to the player or another NPC. ) Tj
ET
endstream
endobj
>>
335 0 obj
<<
/Type /Page
/Parent 10 0 R
/Resources <<
/ProcSet [/Text ]
/Font <<
/F5 5 0 R
/F4 4 0 R
/F6 6 0 R
>>
/XObject <<
/I337 337 0 R
/I338 338 0 R
/I339 339 0 R
/I340 340 0 R
/I341 341 0 R
/I342 342 0 R
/I343 343 0 R
/I344 344 0 R
/I345 345 0 R
>>
>>
/MediaBox [0 0 450 666 ]
/CropBox [0 0 450 666 ]
/Rotate 0
/Contents 336 0 R
>>
endobj
336 0 obj
<</Length 1142>>
stream
BT
0 g
/F4 9.87 Tf
361.97 623.48 Td
(Jim Fisher) Tj
ET
BT
391.017 42.52 Td
(159) Tj
ET
BT
180.58 42.52 Td
(www.OnyxRing.com) Tj
ET
BT
/F5 9.87 Tf
42.52 580.961 Td
(3.3 The Lecturing Professor) Tj
ET
BT
/F6 9.87 Tf
42.52 555.449 Td
(ORKnowledgeScript - a derivation of the ORKnowledgeTopic class. This topic will) Tj
ET
BT
42.52 542.693 Td
(interrupt the "Rambling Idiot" methodology and force the NPC to iterate through a) Tj
ET
BT
42.52 529.937 Td
(list of topics \(skipping topics that have already been talked about\). ) Tj
ET
BT
/F5 9.87 Tf
42.52 504.425 Td
(3.4 The Conversationalist) Tj
ET
BT
/F6 9.87 Tf
42.52 478.913 Td
(OROptionList - A class to support lists. This is not really an NPC component class,) Tj
ET
BT
42.52 466.157 Td
(but NPCs can be derived from this to give them a "conversation pool" to retain) Tj
ET
BT
42.52 453.402 Td
(topics for ASKing or TELLing. ) Tj
ET
BT
42.52 427.89 Td
(ORKnowledgeWeb - a derivation of the ORKnowledgeTopic class. This object) Tj
ET
BT
42.52 415.134 Td
(exposes a list of related topics that will be added to a characters "conversation) Tj
ET
BT
42.52 402.378 Td
(pool" when told. ) Tj
ET
endstream
endobj
>>
337 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I337
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 2114
>>
stream
 !Adobe d    	      @  #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                         023!1@"`#        !1Aq2Qa"Rrb0B3S               p        !1 AQaq0     'k@Nk/*u=]?0N"te m	Y/o7L<K;vF!w@_oNtefyjyyQ'.*yKMH=@%Xo ]Pvf"SvMYF=:tj
&~ajAl!c+|dd8nt%ylfD@8?  aa8P)NCpbx
'2?  :GP=#  bfn[en[u%ngV'1LBSA23k'bpYLD ]AsZeh\I,+Z5
8+!N(cu[ehgN31n\	PdWw2:O\evyCz-+	PdV7{vZl6'}C[5atHh*	Er0$qCcHYbj^1
1#ZZZZEMbb ? ? ?pk+YZek+YN6-e?#5?!R Pt0e)v?,}T]N+n9^^f%V=5W[/k+hljq];
&@<</e`O$57b|0T" i<MK(1[^"6
E3poqI?`$wThU}oV&/<l]uKIP4fcm98`:Ow%X,;
WOWZ
To'I6lYaB',_d~c#YCPZ
2(^C,>Tb  ?	RJ*\ @Qq%b/vEFG"E2S&;2:1El8vD
eh)DJK^r ?X2QBIY13p!p'-0uHKRJ.V ?Apk g?GM<sG}/^zo|GDP94-E(o]d Dt=bRJ\9Dg %?f}S;KQ x<Xt
/IioYtme=W8!t#OBxDo*ort=Dd'e<GwM,_ / }{An+UFg	OT^Dw-B[oB#NqY;)}hV90~%L2M22/9j*
 !5<ypJ|wv "M/<kfeJ(|4j,40)ammhH*XTYYwgO
endstream
endobj
338 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I338
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 1884
>>
stream
 !Adobe d    	    (  Z  #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                          3012!@`" 	        1!q2QabrA"R# 0B3               p        !1 AQa0q@     Vb A|3KUXf.w
K6nYpXTyi[hn 5sNmN O8h j:%8f{5oZxKC_3RKO5VGM=nJxdT42$	NCs`dTKSEdY`<RjM;cx Yl @  S6iZzuUS~ftg3I   UUW\kg3B  f3L:3T2;rgW;AX.P:i HzW[S)Esd7Nufg4iV1r8B?zZX6LC',i;2x+I@hvdW[}tz ]\7OsD2pv2%AOu {	?5h
7hW;/ ? ? ?pk+YZViS&/ghG``n<7D#q5o]JLs~/pXkziFrSyV]P>*=7bS U(> Tlm};~Q;(?hX
oE*pNOlyNoVvP~kH])#vP~pHbX&Ne\kY\Y\&zu)
JntIUv-AjPGH?? ?	RJ*VD9BT\h:l;!d#;pUErGn;4xASt4V, K% ?/,5YTft hFRpMv@FsOEc*:I*T_ ?Apz Vv!r E'_rR
Fml;_ V~GpB\1<o
+1Ul(p%aP09[9@HC{Ku"G_vg
=`Dz'nwUwaa<)41XPlD
J ><le,~^B{1><6m(a^
"n	G-S k6XXf'{vz {mK0t5=w`! `4|F6#"hr^ 5NOOGug9gY=gO
endstream
endobj
339 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I339
/Width 730
/Height 471
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 63420
>>
stream
 !Adobe d    	  S      #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@                                  !10@P"234A#`$5%E6 
  !1AQaq" 2BRbr#30@sCS$4Pc`             ! `    !1A Qaq0@Pp`      gsu=4z        qIsE]k>\wv       (`y       AtqkRYdX8  80>nf@        >u}|yr      gQ        "%=<  3]/wy2Ib      >yo<n5qf65-u,vI/xsgR o&z u9=<c     1>xqR@  |:h ^ups6 /Z}yv7fixfIJG-Mg;.{RIhtX)C2lv  v=eVugj,ZcT%2_FGP[ M 1^5=Xo@c4;0o<-Su7_7=cc{rqOY]CU1_:ux+#)o@ veh:Cj6j_
R<e >_,rsJo  On zKpyO\z;\l%k: Wsf+y}6ewn[=x/]!Z*yi79@<3}YqXY ~
X<)to}V:l#64 4o/Gdu]! .t
:Kz/qnTugC-Y=7\Y;ko{y]egL<<o3L;:[n+!9pkn_CZ  vbOey'Krff'\z_[y~]cscewKLgspGq,s( Ssjk:xQhl:I;"ZUWkY`y        5>Omc        298r[enw      =7dek>fB?,	>?=  <
:auy/'r:zCzn:JrZgU39Cxr)Gx]O\R545;IePG+Yf_N5_?IM)])Y.)zvo/c/~[;W>Wyts6|wyAs6Y[6;GfG^E[k3=8vU uvVEeEnYQ o,1LG:zCgT58R6&uS)gWe@aY:PAf^u 5JVa	{r:s~9>o}( p|'u\/.u;.XAOYAy` t'n]N9#4s\Kxhzc7y.KL}abe6 gTg6*YF1E#!p 2gZ=@~[S=jon;.==.}:KVoLP^z=b;iZw7KSF/eR`OnH 9]6]_@5%PC#)JV.@ 81;]n{5<<^z^=|5vkvn{Ei7[YY=G|Gb}G:v^R9ty*tzsQ
-Y^*;"/rK-N
~3_V:Y  Rc:(rP`uN_gNiguUb1~^LvFX8u^l ,e.c4>hh8&9*RBTS_>z8iyY9q9vEgr  *:y  -/sg      gzy=\\$N:ahh5ThH(\J Wql\~.8vyIq}7Ayh=f-o<cnPuw)th5}=:<0BC\A^wq(\E	`ZcU 1gX>ml-r=-g=1{: z8Gl#~U.oDy<;2lv 8]tVQ<\^z=A'Nw1zelcWsy\4mee7:Y>JkR]1:22G(\c@~9\a~V\nVytq.':O3;/^T?..#/@OLe_q,s4gN}J A]$gL|MM&hOf46dfctrPcc~d4.3~=}
sUUWn]2)tCYOZ|h3yt1g/'^ Zf.1_yNo%pbu6&}uW9wKv>J]Z_e+lO~Q-:{j\gYcm NulYjIit=!t9Ebm
=ewfo2Kt<H/ o*Z^uL3z1C:Zug2#4|7]`^8wHcla-@      =t}       )1u{4Y~  99XYqg'V%$;     tdcnj'z,>u4\xPc*,3gtCeCda+3_e9K1f^,\Zg6#[XYyB&h,}@   leXWGtyt4'e]9Y]=fQVgrMtX4YuQjTYSY@f7XKb8[eo.rKa\E9    z8jv!%|gA(F u+3@_LIWo2qYz |zcSx8} b%]^XO(qeO_BCm+6]}8[c@Y{     *VXGbn[z| 7'6>fyezb4gAPY,KjZgAzQScL$cf[>K/M	FW5ZYScYC  /LOnt19G^tu/YEo-OwGGNltYq!G=r*wg7$#R_fu|-WzU'_Qg-iyMjO2k5l/NV9  91}xgzcEj:GVA-; cjX4  gWMOSAdXqfpJTudL>rD<3&L?2!BfQUq5>+.63i@  ]>w/y      vf-3txjhrzy^Hh'{1erC>iM&C:B\6"iH,Q:WpI@ 5\kk&<:w{_,OQ]x1~,\oG~XY[o6|5Vs,QvF9\kYHrmD;GYaf|7m|FK5KlY"Idzo  OynG->v{c erG:\nH.w4\u@xj,9_%+k9Ee%70J#6}")4R\kjq,R ` wzs	UtgSyI42h}:iC=hqDh71Y=,1+%yX;a:SXl+slIg3GX4 OWs: [MN6.z.s]eoL3]Nw^wyuCc~]=oD)~s:)O^OO,_oEzfLK=::+YakqNlSs;Wcl  E3eXt*n9tc._7^k5QYubmft:G[c<ie3}V{Is  jh%xUYH S5`YhtG-ZaSYYK^kaXRoPg         
zsh_o+u       %{GeM5hR5       +hsek>f1'F   ~{5>hKv7g/&SW5u.1VcYyHKb}GX]1#R|dGO)/,mU4;I|hf,6zvDN'k4+N{^CxJmWQ%\h-LhtY]N1Z3zwL1NlQc5DoWYKy3lT59ZZYcz]:o/Se:q\zo
@/G7  92=kx{eB;(796j(4j.(\gJmeuQ)XLo57szljy:!b-@>zG-WY=}s  >%w`WYt~.ubP<-Ac\M=sJog/}eu4sBcPj1>eMqbq1&+&4s.lQZ 1{zCYwuwZlkS{*be7^y;{;_YU1@M|Y%hgU&5`Y52Gg$XQKYOi~6\;f;r6Ez  V;=%78Dn V9
D![IK](o7yJRPh^}@_%sNT,R.,:.(17[Yuweu&Bw({/@ ]<h 1g      xaA[X_44f17bJ=4'eMnk
#/^Ki4YoJ9w0Ys9,SmsPv,UF$RQ55\Kb:5&qUHLcF5!Djgu*KcYc]j.lc@	z43y(R3ue{rGx+y31 [P	7%Out[f8-O3l xas]V8P
:a=xrxo,yq &u;tIs=9
{	\.&t 7H nYqMf<hP
g: S0){FWW 
15jP :<lOuwU]14\Nzn}y#;etxUm^:rZCAN:
9K4H!/;Y
b =EVDN:0b,5M/Vm~RL6+YoMe6<:clRMe*fxvqt	s(pQfC2l-_rJUX&7.fa}_ea0&S-Kc}D6TM$
SX       <3[e(y       TjM]K2GY.@      ,s          ujqSfeAu.KXT5 8,Y
a5bP)F"'x,q,YeyMdq^Ne    Nzn]bT}3KYw+x/4xuQxX7Rtin4P G9-LK6%e|s~PZczb=EZ,kQor    gs:KQm@{kSr:jf%FVs@ x t,KYsx.YcPY<uqbgPoM[lV69iUT-E    *k4j\[Xqg=?.z"et	95JyW 7 R>Oc7d+8':{{ci`X6HbP    nOt^EnV>Y.='\~XQ4
xzE}  6l{(5(#,Y8ms,fd^5yqegA-yv<j.5(      	W\%rB%H%{URkdz  @rz,Y	1F[]
dG	Z 9lPNjl   =K     B<=   <1HHu.f         Cgr           sTQQh   }D2chFflbh |`e	Q	qU)Y^UFL.543bYXi(           se+/gA    J52$F2385pvDgH\4G"b)*AihzW'=            "#I{      #8&B3S=#=$#9=HNHIHqd	HH                                                              EYk)zB?`OQ:?b=LN@,xx-@QYYD"m[Q:tFWI8GLLNYN8/.4:}GaOCh|nNiN?h{S1}# "u>Z7L,'F
#_Fac =}:-x g@|24vY:t+B'_4s	c\7V[-4=D,-04;L#Gzqr	0Q=]!(zGAY>$?D4= t:d=GSAy/.;_FzDj:u>}XG,"0Xr-:4XGuN;iNYMrr+p^o^VVzrVVt;\3z3r(,);{3+	[G\QjCQF4A:g=XbriDk>5ZSQ=(Y'h5j:-@KSP#=lN<j!a G:'t1z4gO44#Rz34FzssAmnXpc=htNV}{CASJp>Z;_G>tu5XG{L,zrxM(2VVu:cg4'juGAyt57j
:eYzVADuQ';khZHD{c~zDt cB:cL{}0z3EgLt\g\|>n^a4X=gD@QA{vFGq:zGQX(uet	0@":cVP(2>~
tnfAa31:={3Q(SCOYwj:5B='#:PX=gPVtN:9>4Xc@V}O=#QtB=9'$A o  AV?]MQ>P?G!cNC+>>+n XYAJegL!3=u=5a=8&OGM(hP/	<vCG<9%eeB:eg=b>dF
1BWc]]Lk
V~8pM>PnAx_C++rL2Ch=M@uB4(j:P|trP4=OI@hSut:::|8^XtFP(
58&'55xxXX!p5(|~/=+(NtP'B?zjp@:9(u4`PM44>z9&CCFG!J:!:ax/0uZ:1z>6BzVVV2?nh5ICBGD zI}8Cz^z[@gCzGV~?AcL,i1q:FnR4?rVtCL XCh5='R=ew&CC}5t= BEi1JY (t=|O++(s}++:gP=:

= |z%GQj
%}}?8D!i30G\n@=ry=gAGt!CSP%7!u:
n5!cLkc^Vu?E N   k9'n^	O8McE[;",{^}qVDbH2e$Z svW Mf)dA29YZ*O |)8yI`{M:,f7A0{kYLxyw!<_F>#Q6\868-Dt{z	0*JLVldM7K.Lv<sP+<6y+N\wmR7#ZLA$mU)j4qaZUF"b2yy8jn$|k:;TV_]:Z<Ciecy>WG0chM/f3s|S8g&(m8,5m$bdR"CCy>I!y6R:]URMe?w>j!t*M[!!WW[=!BoU; 9OR2GZr4">$?tW6|:X6X<~x[N(aRb3"7nsd_l<zZi4>;W/~ye>pf 9? ON_V]+.>[J<46r\7&ps[	<n"EQnNOeW75_&M'S/GV.3Itw9l
V#6It?ezx~ Tlvd 9%d@[|rq(##x* Mcj~$lgdM 7G``==j0v lZE6fiXpU]s"ivzt$in|Nq;VNVqErz>"NlUHkylaqki`x]$[&Y->F9gEz%MmPNmT5Y_>!7#(Xv[<dQkLmA(6W.6sq1fKrFqj3G\8:MnAr5LS{ n*YjR=_+al|p\5gBY
X`y@e0z1{[p4hKH(yMs]8!QEF76s riy8qqCk^Fm*F@Rit?S2.Kj6Q _Qr5#CIwNx)|f'3h g|ekdSca\G#3txL~\^$qsrn<wrPq_P/+qV_.E(sq6h#7?k#^(rY*#$g  mm}- nT6X\\8!EWjU4$U$z)g9\uZG~ScV6n)$#Gdp7o =rrd
O"xui{t8I{X<7FG]Gmb3DBkX&qVK_Rc &\|[(66dPs7Z>xKzx]WQIUW
W5M_ 4~>legyG \C6l)	%Eij^%s:M f89A#8Et| IY-kptvX3!^.4yvzg\+!V~?G"~yja5'jlZ>%Z7b!lTg/?K>%I l_k$qIux|9"OCG=9W#c]ZdjG`ij5^a#P-.3 Z T$X e-##pp:rv=58vVDct\8)^&G84F j$5O<( \QJsk!x^^ryyCLLGWAB(5X|M?Zu=[9M6&67Qe%fR8!2fI1a5`&x/NX;,H('N|JM]ou66j =2rAWVdMOoF68NjZ
u*LnU!rcf6X7ABA$aUv3|H#9sF} S|;9	"Q5%[W'I:)Z\(57"*Wv=r+4O4<8q4)(qRen+l aqErl&Mvw!SGfX5R>fQbG<f~lA9'>n cm4eO|"(9-:,[5;)dSb6Ai0Kb^,XkqI^gV*+MlN$VT=h#q q94n#bmsm|9e`u+be&tP-l,=69ZfZ!J99dA qty*..cQc'"NM$,)|~ZN1r(Vcx!Wq) ~}{DX<-:bb-i\%l]
p=eG5wE-RZG*J"!. #c|*s=f]xX2>^.Nj^i'z#xOp68=q7O%6F^>J{AY.oCTrwMHRV/<dBoqT
#NB=OG7b]Ej#k+p	;,D\,^rIZEhj'D%Oh{ffmYi>
isa3Ga)dEFb)E55*5/_R+u6i
8SolFm{(B g1Drsz<-Vm,FMd:\TUuilNFI^-]nGvVK!Zt2rmRmv(=7-9{`FiMb^Q`~>p$R[.4OPQ-5{\\D\ko-Ihbiy!CW1##-U]LCU#d_(W,MZhqwe_CRCpslGbT\Fms8s||1/#nPI8gsA%ffUyvY^XA uLck/:pNM2x'095nL`h (%Q%x5;m7a.ii\/2NF\X%e~2aNWL3Iqf=4k}5g++zkiY/ 2$[34r[
(yZ"" 29	mH#PA)DS_pC{\V8K|.9cGMS22R1>Wa,HH edX:&6sfN|[V&zu^=$%sbjY5q<P_N@9O` s|lMwndT+#{ZcnT66FUZ,3F.V" MX+MD3<w6 7NCUtew CZ#uE)??OeM2CZ'yrOh.SKW:Ujh|r.|]xy?j7:+sGD,}EIP/U$bFLu,S_pjM-qq:dAZ=zeE!Fvk4PugOv+b6rR"45#!"iWhmh0_<mPW9<TW>v1R_76{kl+Jn.q+1J$mFHk\)^ncmp{l5LKcG[Z$ktS _'4a]',EB69F
19/\1>Vd$6v,Y31Z82ff:w"}LDSY-rq+\~`nT6+>l;es\.?{dxci}zCEO\MD3EC^Vz.G/S	jwIqlz
i`w/i(
|<#v)FN]}nWS`	yire68|oX7uj-_kkscuV6'QRhCRY^<Vl/zU_S #jy-AM>	'qr80"bXdq6@]$[D)|dfN{ZQ5"R8jkGeFV3yyhhWdQB9:V#A%ev<Tkad]*TvG-m:}jh~83$e.Q6g5J\/FWOhH0[[qpOcH{K7fNfkrCO4q+Z&h;zs<Ha)|b'kG5SK;T0+bhcUVS^Kc#S'Hlsv4Nr~
t7K6e$nQWdmyvJ2" bz9(*M'3;"dj$>^Zo:,TXu_rR	dq!X1WvwJI7xwfG+bFQo#(0'n*V 6$ 5M*Oc\!:r>eGZQ\U\P~+O\rD*Z+*~OeKXUOV%)*6m(y)#VzvXWTFVK5)^[/PycZ_d7O)7F )~qn/Mps^R	??xLMQ]\(ggq@HwUTm2#{#{sU4b-pk[bF-Ux9"51Ev&.C%Jc|_S<2U-^:4]% '6+k<A4F<}Xi7q^/bhf>Qs%aV,V!/EF&GYh*:0?ba/vb8[4w?'5DN]rFZx{l[jOEPW	r&Xd]+j^p ZrlvN-H\d  !9Lg!_;O2%|O}>+todZ$8w;,}#x.V6.Db.NEp#f]% F:'r)#vo(L}%t.4dGPc[-pr~v$\c\G]cx~]D6}NT9c7\$tMZ#.Dv6'C&{Rrr4{z2y7%S-Av1*I*ogd}E9Wx-Ze2d]	.kkClM}r w,%vQdzQ. u$4r\^`1RWysDmGj07m/S4@4'`I.KF&-"mP5k~?NA'n>$o
~0G6Mn2L&PDlk5m3EksCidpp&G;Bdc;fR'nUl D[y^^(Q.1ZoU6D#kk>-yN@PC}$U`p
1^8|!>(,$N
?.!(sG}4 iy3W>"yI_$5}o'N6n'?}9)6W`r+Wd-25S'A 7%u\9&9l4Lytu4D'5M]sL$`(	d}Fc&F -4}-GIv#vOiLv'yPC  1I
_hS<M'kW*c"
k9{u$Gs<qc8*|lX$nNURWck`8 eZ%mMgW$&$F4QO5 hm2O;s1x5M	4)CTr	cNBsR*Gkf# 0wS)ew.O@cNr05KH?\"Lml|;k(y^EW^:1Je;7H{ '<4F jsVr^(
2bVG#<Xy@:d^2uh\6}PEh#rQ5}h^TAZ@#TL1wc"t=mUl}cbn?jIzMX]R:*q>MJy~p_ hF]/#cAV3cCX|xWoUi ireH#~62gkZDOE4 =S;orC"Vt}#G{fNxb>#b81qP6gfbecV\yZ-_c@VR.je}5 YTXtO!BqQ'eLfpIT12[6h8XUY+3IG#a;"PXlL;+wb!34'24+-9^ t3-cVZ91kH92?81EvBo(b<k1,{@~V(bexr-l]kyp E#cy`AhM[|l9(q_(>nI&g!8CkDi ,sUZ A;[v8e7?ux<65]dlb :sn^t*$9?or.Yk
,xY v[ kx3K?GjbDUIo"&
icQE#r*~/E#|?6#=`+76ASq*K?1MqtoQ+cI Se' b6#65fBm,,~tkvHw)Lvu3_i8&.{U6>;{tdJd{M_jiTWb>UYr0_;^gc!1<WP6,sK<	"3b3,.tLp6tsCbV$G VIHn)l9_6'\n/t1HF\nB'8`uV=:Gw44:4tM@X	
S<(#i#~8=Z{>RD}:J#l$KdGISjVi'j!>['\?a:.$Zf +}HJ\ Q4qFu[\6GfvSD'kp:nBp#Z;d34IkdmdM Nphyw#-6E}w(%2HMm(xkMV}!QV `EpKrq +{y"TSOik Dkh":h|LfY:y/Grb@ exey"216y4w#X/.kjE8*aze~5X|:;z?eL;&?%(?;K Je|+)Kip*J:K&N$! >TT|h|r.G84t/#NGi#wOm(;K J#+|u~KPxlL;~Y:&7Gg x TEGRG #E)$IAN^v5
$bnGq{dctF F" btf9Y I@ZVSz{B@QM2F';~G(,4
E)n[$b-;.-dm&pt=z
8bX  	8uCUL8k^9|y	t1]1X&FUL(:O^}hTZ
}xd^l05mxZx%`lk]VNAzUBdlHof6@]Zsl#vsy+f22@mO{>#k}/c4&H&JG	+rT-CvB)=I>A;cwK-d \K4lrtP5*E1<\M?lt}kLr}#v'ai/lwlH8)MKYlG
7w(\+Zb2Fq2?MB6rf05ciooek!0f	<SNz+RzsUn7J9
N^y*VjOew@@-$lGRE\IVkM:KRRy|COBjkZlMPDeFWl-G0,F2A5 C8 05"2BE@a:0 a0/,5|O ?  ?g ?34x
~9kd|^1fAWz?s!)kPwW qWh=-7/LF%5c<(nJx=znw#)_=9MI:k8"o
ea\pMf0)i4c:O *PCwLt~M3D7[b Dr T[v`AUOp;HL?e^Un)}4S|`^`f(LGe*/!mi#UOxT]IL~h ~ @5tFi2S3Z#KqBaYow**tT0|TO(%%d8l3NJfR8#q?UwKzRI(fwqE%^}P1	smu|5	 bLM	0 [^SN&2 u{8hG7+gHZno+WI"3	frl5jZC~(t\JkMx $4}_P3hYQlMn|aN\ aAeN`#U9AuYE>nI@K6C2SYw<~/%38P8)+u<&?'e5;MC`*;mQf6$.mUoqO~0$x}FfFfJ=#NzdZ<K34#;m>pit6'yZPwz- QqmZPDm6`zLoMmTBk
8OrXl;UN_ L:G_(^6*OQo7EsDj 3|HzXy=\A[C!aMD`G^ 4r\|uG$t=M# ]=<"n@H	?MUal}.t0|u.! D9Q\O 7-r
Ap_qbThv*tT?<C:S8 >Qu`UcuuI|HoYo:mv' , T^`bU'+~5QXy5ja(i0DG#+A4Fzvs:FvMa1$ l]:zWLM/Q~cbp"81p=kU^W?7#ttZT)m<Wq[:ZE*M
LF?AG6\({4p;HYL.n0`4@8c{UZ/6,=/uv[.7+&zs7q ~ }8co16`\7t"qG%h++|| n

G;<W8yo}u@`A
T]vq0q-=Q+5|G8ZA:{\!]
#Tv4;T%I.G wn;MyN?o9-eQKf&b,otOl-tlH3[hS[;J9r?3|S}
o}q D0qY Cusiw` {t5OBVD@Fg4uZtu6[&X42}$\i8w:/ ;OY?RNs*`:8*uj2/tbbV{v;*-vh\S_v`?q=CLi6mscpl%.:f>L@cLf
'GJ1`x,mK@}lRxyNU&s>,^H09S=wSts&\w5CQ-(::)}H_Eg,-?olc KA2P "z|iLjT.*gH0W?6| *4B:@')74$]oG./Sg
="vMSLh_Jkpn[0ifHbakZjMggSkm(H v7HmuzdD0Yh7I(Cp+sbaD"Un){:+6Nk]$}0!gMn#d(Z=bq:Tc#OU{N=Q'hktaYzedqj@m6{cPiM+2cf6aB 3( .MW0vW?Uz0BkX=4ov-'UXFQnga;-& %]#E/0=Lc+60 G>0Fw}_ls6wg/o%%%^A4omcP(jdn>n_IQ7x|]UZwFU:A;q7Lh	YBSnWl2|4D3Q`IA*YqF}#h5aOq$MD [ jTvAl~KxZQ/p7 6RKuw.t/u4_va;]n7\zF#V!{2M>_Q5iMLAySQ6b9$c3X~O[BsiM/Yy7IY^J$ VGm?)Ks@CxLD|Yj~<c9\E~	t@~8*=3`@$5Syk_H:rTe\P]X<q! lWi	ievXC6( R[bPZEwS>rp:PpGZo0Ljym&*4qu;hDXfpXsGF2Y)$0xB|CE[ZF]luG8Ectk00+RO=`#3u~)f;0 #YD_bAIQkDtzU6i/:1&QH?Zt [jC3 (W H-"7&3<z-nNpQKMu8E.V>vH`!rYBAo1{,":5p^~CSj9	P7}ZBLJ`RF]M7;H7>gx<CbP..t
/{MuglY{Pt[3Tc;<Kyx0wk'f4 + wkL[1l-t_?3TSdVVeD<:	 GMV';A*?)YrlzTg)4ny h EIUKkwcnT|"{qky>+sS?a,4(e?wd?3VV]x:8v(!vDT
lOA1=:*pvwll.	+w'2\.u6$#TIL menypF<[>wrKp7v+qlvY<~#z5^Jo.GLPll}g]MOka=QlQf87Z[/-
-1I>hfv2Pi@NM79m	0LI71;0Qi4xp[q~:$l*43.U7B{8)1>hy/i D{u`Q<KljTJpP8%{	 ^/so#>,ar
D	GbvEVnkaB7DE
"'A7\Eqhtf4zYI(y7V<uHmms5BokwI}_jyB6).2kDoLLiZm&?Sxr?thT>&4*YQipJs:aztte(V?w#QO] n5>]:i]=[^ wy(YW5vV5"S4k3cvPV`- Q #tZ< h\3Y_UM#TlM}wm5V$DF!Ss`pQr	#1T:uGF$e{C5&dt'jJq81tcXp=%enG`~pVvUu*?HTp';@A)zOzdv)\#u
GG :qh$jQ;	[zTa=)L#	_WAFk1Na~wZkIJ<_?[Rx2C{DAe^U8wUWU0)Wf_2(k8H'T0&ogf\F[[n:cfMNnE;EPs{]s>bz'SQp	 Qi}6u,g/6	;rTpmgn(5DxQ V~ Et9Us$27K8G@^fz>o/(sF$j_SQ>;OGlD7 Ig?Qz31{#p.$^Sh6MlPnroS{8xow=WjlAmybz"=59Ahh}F  Y8$@	CT~a	>W		kv))BfD]Y;Nng ZbEILo9n`8~ba
7eNs,%-%UP4WG.c*}pl.pOR@xXOv.5/h~N)LLc}&3enw"@S`Ug ]S}M BPEvfNQe1x zv0
f^vCS:M!@;IQwj8x)Aq$Dl1om*9
-33E*d!<#3nWwZkgI
)qkz>Q[O6(i@bn3?Gz-no#3qPT!;dM4@sYagu%"f:MJ~D)S'x	ks|Pv7D")Wv")_rzg:*Ly`bbo oCi
TeG,N.T4G+b{U>	.*(On(XvZnX]#"u?K<Dt+'38GwaEg1&o&xDnV84<rsnd;ApjDi~IMgshK({bELUJ!u/y _y=#7E!s!N~\Dy{Zj@	]1zs!R3-B*&l 9+%:n%Jf7aJTQmX #O/-IEf#)>
[%#=GI
;j*dllgU6\@lVQ} ")m7;hXdl>#=1@Yk~fcQ pr gegy(7$KNR/i(bPan.%r9LBd=03=Ww9tSx'>jQ2^/vS" 1&@&SueQJG6Obw1' HiQ*~HL[`?hSAjn{{7A7,bh!OpNrZ,U^jExqPTx@H@| Y20EYi4jY\"06I`,Usq'5=9B/:-(`6
M~Dx\rLHl!,M@Z1;}/akRYS-aMV8q*No^5rl(60wCb->	8!ZYf6T!1hMU$ ,l`uA`?('/PTz*?vKqQ'QG7!{zy>
Z~qg24DdN8prY!.3yA62!!rga_o`	eyK5Sw7m!1v>om9GcOeIl$DFg));Gt#SlwVmkTsHhGj-0n@Qn,GX@|[vYT1Qi&EAh[VFJL/twP@:TGs:6i:v/~x'}A^i&6Nex yPf"0LgjUpc&Kkg7oo7\<K'Iz8D,%FFLWS6AT0QdG<g
[[2$S u.03/\Y k(:ZT^b0YjS &{&GpJag$vB1)(Ol<=
n
LiDZc9[(w2 ,1T`v>dYF.{P<o;3MwAH!6	O~m@U'tVw>Jx?_Z^cfn(>SV~&O/v@ (Kv<({k^$p86WAYUkzM/a#ju:	H'OL.}j8'T`y:5^rReyLu'I]l/NI)B1foBODTB4pH@1.8pT!a\ytJ4u&_kg<_/o y|Q4+y>+*m	=y:K*T	"iOiRsY-YC}gM'fp;
tj1m[:230/l[il's.JF?~/x@j[2mA9NLN4"|49r M']c!8Z[NF2/	<:U[lo"x\tv|Qg>0:]4"p@UMK@8B!^LW$u"i7>:/j^pn|Zf:9Ypcjw?-!!bF(M\==90tfKtve{, abq'wYpU8~Z9|;h!d1>C{(- *G519Zv[y{j Q=.1+#G[m+t` A.iL.0B<)6Vg"{QO*J:S7aFPEY4QFR~ iMhsT UmZ>qw<o.Nw^jRpiEy3.^V%V}KY8+);4SApd%1~'8;]	@MwKq(1Vkb;3UVfqqwwRm896Z.RI:LV`Pn=QE=G:08`MbPhi5/q|cV@(F`?Yb5;DU.67zE7gIJj.RcL_ht, !)7$*W}tQX}uU.	s,b0n*"7rW]"j{JwT4E?0th !z\obVE! cDQ IAp$tWuc66\4gF,eW,+uM}SO1tph*. \L~Ord+-&BP;j3vi:vX*7s.3	ov3dGu ;O7!*-&m <!fzbzQLtt'Kfpg:J@=AX"5o1 ^
bY
\0U>v<X:@ OF]h\]q._$yal2psc1
rc?6$	v5QZ.Z%Ga!{wq@Tc nS4}Bwj j}R0@Mfr19}I1sj#DEiQ'nYOrAOyE	 :G](}v*?@<!S9yT7w_ "o]r'69h5M-1Nl6{I7A ;jivr7@Do1:7(Y\FzRnV*,VP TVNL|%'(nA{TtpYZ$*ueC	wp;ExI^pt#:biYI8(@J6T~-kqSLk	.{f7%fmO/H0_#mi?g.R1D;>V')au0q`n;5rvYF'5Wo-O	tSo5DBAt-.X~RdSxJ3JT
xruBDDiq^SUlywPRi
@n.%3F0a73T2hf0 VWki387|vzk)0?5idpD)R( Qzt!Ae*}$  JpA[;dh)bbBmJ2D5Y}>j|\ 'A6sx)4(DS.G 3'irnp;&C}~ {mf;xy	nzFnP&cc!vrBsQp@,Ht#*[vQ 6d	M"k%!_?(s9Qs8'qo0nh8Q:]f/l_v~o6&A8TH+w3v8qMuo\aub5P! KORl^Js+=B@+<C?|2n?`@,}56}BS||M6M
%AyL=gyo{!0szlx>Q'qD[di|/l!}\4.qT&N>)F^4L~6La V	&@sZ`ZcP7H3BD90d^^AiyWX)3HQ7m3*.#DL"'Tm044]m ;l!" 7Avf+@eM22
%"ZM:DY1j%Vs3>Q-0H_T!!:m(F=6}fF7obUN",<+ h
~ht-;Z/vdMVeu]:L3.6n;l1^RE98WM:WEm<%.Z\,{&3/Jdq>{W</	3/nS, .( r8Z*elaC[]f !Dmjspf%dWsw	u\N{]>(z*f4CzOjFu(iiMc^zl1Uj^ir @Gn<mj5A 'YSv`% w#m*It5l~7PK$|^T=$E:.vL<S}GLOXwi|?[R1&?Tc$KO^/.R
U:K6z7prSu,3rN`suhQ"[';|	gP8eu7b-uPm8tiPT:>PJ '8I_}r<O[B4u$f^D9?lG\m_ZcjaR.("K_ 4Xbpo'UwwSq-%`W[SpCV|Mo>MQcQ t7G:3N~V	4	*_HGA{?QjQ_Qt8vsBxIS:}IuTM:/>V`g9j;PRgE], >r7nY/
F)@A@SCzpvTaoCmLN#4cd6nGB0xp9LpO o\a SmxUZ IpU8N:hS2=<@in7lY)JV7gN#*n3|nc(Os@{]k+R:whB}:TN,t1Ry(#|;(:
Fr}7gYx0j{^@v9NWo0f9Q{:qtsO#yY8pP:%y"tbz}17^Oi"2E<IHAsm%y!PhH(86}gLq_|V9[llDOh`aor}[GNv8w4nFCJiiY]}@hXcSjV K}xm+@jF0|5<nm@CtHHr0&3R<ms?DzPu O`S$M\>F@;Tj'
8x}Jb5ky{-l!13Al.VgpTvwll.5x'AP.10E:eH&B.}?mA@>dMV=/9[oOq9Z5M8:e`u!	] 9sC&j<a]yAT<^:Wp~JcI>7>
)j-sn QTZ #hqL5te{`=cjS9/YMr;:,UQ.veGG.Gy[wn
!TI@X9jCns;CL\Bk=/=C1,K/ee(=po/4.+7C@9@b.G'QHsG=tf/:eBo3*D3E	u6Ps&!whgx!M+[ i*Z4bo,nmBn`K2TI3rBGT)wLrh0L0:r#DEHt az58iA}WzFoT>qfOcL.v0n92-2`/tbL:TPm;UGw"}4:ERhOw$++D +;MC]REqD@;Lrx85Q0T4 QmQ1=sn[AEqPVgp#h;	fE.~a:'an-zO&)G(QFg{3g 9Mo9@_zg,h5^>0Qa7tk Q$J 9}?
,-$ 49.~c.z+u  ZiiR< ~#v ]}"?'hq.e9mI)g,]}?lt#Y_Sd3 T]S;Ah;mr}#=w\4k(~-6ra!J Dm0GDfjM0Q5f
tA?,c[:6@:vn
ML9]:
(kmzQ|.[4
n>BSTp-lP>`&7RKw  H`Nvnw80mn2=K1#=u}2>2&zOG2pPu+8w}ag)3 z+ D 54.a{^'
l&7v+hHhrHe:Sb&W[
IvB"7x#LfNn#i	r9=uyA EA\&>,~*B*fQun~m^Ow}qtjhu}
-`9LCJ0M5$OMpY)m[-%o6m&_}w HtXS!ph{4zeqG|U}5 {)0zl0@P:!07/=74,@E| KCw]%FtK~(K@k@m*"dO TCD^7I):%kh$t+cLE;tyQT9=J
W^?0N|@B1\aTn}B79}D|}6L.R4iEc++5IQ5Wye-u05K147%qOf)2~cuQcxOJeKnq}EE'O#a|A_rlJC5gq [}]
|keU`j2:@	 ,dw:!P>/E6g_l"5q}QNp ]~kO;l#RhzMyrssdG;U{o`a? 6om9GcOe~e'`zmEz ~b}1
}LncpF uf[[Wi{{m9TsO'?P@HNg$ 'qD3J<[o6^&9ENcre<CQ}v;aTM~dnCfW\G]MAcrkMnvi],s3	ls@#e'fJV9akF`pwEfcBMh<T){9 tmv1lA|bn0W}6= dICcak#G8o6ql-Gb(bk#g:1d]LXAI
-l
_!itAlMCfq&9o#af2M)2O? r7RI+Z66]yJd6D(`ju5aEY u[j6(yQp[<JP`3YjpfD)c, g/`/sio!>f|M/;p?3u~\U1"QM+vRC\l#)T,oOoTym(7G.$3PPDMs[p}:i"-AR(U2ns=BQQZ:cL$]:jFc@G='L!"g=	,kNVzoNwQ4EIBgBF=3x\;(Ur^\nNgwlLgqmk2 0|\W^[1#4e[#LH\M.%}j ){Rw8"]Nn5BzLIagDc|c_Dd Pi&cpomx1T5j{Z$8"|+ml%B#Fw`~cgmZ@mZ QTg`9-q4L\\@ 6-xzV%3;?8>AN\5{B|N^&SGH<e9
MCD,t;PqGX=2MT]7IPPU*G8NlvX
P;Z ,g7/PGyT*9^`AU+Bv
2,YKNfJ.c)>h)Ed<NSRmKn3P*Yxf-N5#OR.TM75AfFfk2"f9JHoRn>NWQ\nWcBQ9'S|ZFuC^`9COrW o)-elI|0l-' bbTkJCi{F5i}Ds8r@?4fa^5G34$z_Yeltz n ?%HVm2d)lJ z'P!Q(bjG*[~ahc\2:cN)/Jb~u-i]5(J_&#1f6f,F!@UGxi-(9UJC4- wZg_	pG[Qu+ dY6<G}lVL$pzNBFMwAMhj5MOqNn|AL0_FshT:4yL3l-]MHj~i!.x&w\VeN	fH\KEgh4Yb.AJYAG}oSBJB2CWP1L"EP1	GyHAHTV5*!qUwyxYJER]J13mh5At_sKviC9gl6Bc1?iNl]jnrk@Cx~zildUuRDNu*WBRiZ%"kQst2M9t!hDQbkc[:F&tZ7M4mvmkQ1&Thy&f]K\9657"VwHb@NSSF*-enF0j3PnT( CG(fDGnN$(`GPf<D&Aj%1"^^*^
-NbKeZ[.\ih&"Y1p.^[.\f*K.
jfQ:)zE+J~:X^?\#]K\K[*^< @yf1n4m|h3ZDX1m*J1n_Z\\h)e%.\-o6t=|@](M8A|,TX6]'t?U;tSCZtBq	G@jt.&+UjT'm@6ID8	U #A	*),jgLJFPB4U6j2*#J4cUK$zWN"b_f":"izi5D_i:DC	`,y@uF$@]+UiRJ5Xh*WEJcL^1	S0/hw#JaoSxcBJ:K"t"zkxn0R7qDSt^?QS1h:8Y*uT5s-".uv+SQu:bJA(o*lEY{%A%b( 11a
*/GVeNAD#B:*:
K%^Z[[KKKeDE`b&#r#z^:\Dn)4_mC3Ai]{&d	a![Q"qm-*@f7]+KtKz t*6C=]j;5JAhq#:Tu4\Kz#:()stqZ6CIh&Pj:[J5W@44TDcSP@bh~jeym!\b!HiG2*!ik1t,F\R
k}$kAKtbb_V4poU1?i,SC5+cP^5M u
*V]C&(GS	R+J*V9mAlyqbvTmm"jlAjFY%LAEubEt5Af4tzLphovG]6uzF=;uhKK)"LPMF@1%Es6q5J8<B)KA*Y*EB&$4"KMG7:t&"=RyJuej\z(5z\rptq#._G~E)2tWX!c~ks/nJqpBfZ=j}qe%VKT675*E.B:N45::tq9:.l|YE0j=$N44uWGvoS+[5h	=auv%RFMxD]IR*:M%v!5$C1 ET0K},J%ism/^E*TK.%h:#.^-1-S6M*RTLD%JZT*TZTAt	R&+FgEpT1%TB^*-]EzCAz:f%LKcAwjXwG(::ju?GB::zCS5qc0gGC91:HH155u:CPZHJE&1%DZE"iQ5#GB&MTIP"hD"i_[e-/[/K/K.\N/rn^.\/rrrVOv NPF& r 7/ ? ?e,. bE*Ttpuao:.nZl?Z:1YdzFZ}kl:Rn[gdQ#o*wV"Y[qtArxB"| hk^wmhTAFp-SAMffY@um13n:K&=}#.=,=}vt:MXhuaD\!TD+J%J4:VbVRU@4z\emkV0w	~/U(Tq*Y{KB$-_0pgbJF)%74 $?Jip~dx*!N(~5xh=RykkAo]z^.^/K,s "\Ci%MS	yvsCd]Zsw]Dt,35S~IZCG jM,i:\0z6M:nd5d:N 4aCde{:KUSQ&Vx.mulI :zR-UeflHinG26&X`Xbqb2pkEI	Z0aXD`V&xgiBsVV tR"GZRTTF(J(Df]JQ*VjVQY.\pj;=^X7
zKf_mYFH8%6tQtS&RKej/@Fm.\N*$:[%,PFo6tV DAqT-jsC5:[4lc:*!u9aDE"G4]-XA+5l6CXB n*+X+S~H7:kZw57^ Ay\) "T	l(lL["VuIl#z:UuRB]c?fNz_`WZBR.L.YR.7rrr.}7dTX,t&e5S@Vu/:7CF:$1=)_i2r6tsWAGfFJCXhs?,zL)y.JJKF,z4zr;.aed<Ht^:X=I5HjhK?Bh2H))*RQ)Q*$HuTBCD5S^/wHKtC6J%&d]%e[jwu2,7`6/J5eJaHub\8tXZY(z9JJJViNXht&,G~sMQFShGV0uaR(Hj%^".\+AH?/mXj%v2-+DmKx7t.gFfeh!.\KkgTjt8(u.?i2nd:yuj.\z\ip5a2rz]TtTCZDC-svSMXJh!]4CG jl1:zaR4H=54uzX0Htvp)714z. \?]T\D,U)7`jt(F5H2GJCoS0M'II]JeJEJiZWEJ_]uZt.._E~?u6t%CEDH(/H]DzV*p44%*$:*m/mENiTvGu^TuXt0m}G}vMtX:D]N|taF6`M[,y.\tH=I^u:.\etH?S}U`^0DS#qL.1S*dzek]jtVt2~k_UlH~ZWZh"/^ahKn.\nf_]eE.}7/`Q\sV054a+?AhnJCF<GTC]0hMNC:E5S}MyKH=,jj$Xh0\0tHK=+zX:Fq`uZTRRRkVTRkZ5kZeJ_:Zt~ t J  ?uj5@jD9}3}g[>"Y7O%s8X<tgpGE-A d} C
,9>Br0zt
\vC7Ek,%dhOPKg~l<vD,dj}bkk>u -$/s#4x ."eUZ~*VaN~K ((unjJvqodp|#
 ^Phr)L}/ke,@5smI & bR k$1q,7aiw?)(x'TNUqA6kjqu-#h~*1[|EKscy(y"W|3;47UJZ~`io(rF q^T[WZf^K n$bU[;,tC-^,42VB'5bC/<i],hL$W>24ZY3`{Q>R?%xYT3sfx-W$u7cV&o1~&BhAJ@lA_wH+&QrB koUE*w
<LTf\2v%(| eX87xzy}bkR1gUn<cBy_ p~Ur	{f\JM(AONrtL?sIB<bWC_h0v `6xNy6\s= (+
%X m=A[r0CqGR~X0 sEp_ac	'aDP=AAq{"ir{kGF78hl?<z\yF%mlvMk>X0mH'*7jZu}S'_C/6O^~{B>77K]x+i zd}tO\:T /GB^M!=Msuz 3+'< 6_owV;K
&y;10`XUmiRv? o(<?]aPaaOsy `'^(.EQ\P1|S?~v\MraYh:%\.*}vzn>Cpg{vi}p}
G r|A cmG	I*p~1<Oz JWy]=<S"<l~7{u
{wyc`X)PhAy]V-j`3v=N?w^0
bPa`pQgl,RG0wsnev7p}Cm|uet%{Yzee3P2;gCo0V}"(`@N;#!D`P,4{UQx, 57;$1&5XR:0J`0*gk0iwaaxz ' 4Lkf,x._8b+>#q8+B -- [fm% gZ}.XUV;;=f-LW.|-&@wC,9gcmx%` N084lV1[e(<U79f1n2ade`lMuj72^*NB[h[7?ozc0 VFga-mVw~khJo66[a`WyKWytFl8 mUFj%X6lE70h]&tLe;>RgrIh;~N'8tDPlT&_YPzwa7E![-%+WslBr .u7P-iEFU0m-VXDSlm(-oUOy[6,@: l/*SCK f?eY6@\Di@^Y] 4vOm;$M-H .f_[zF6>)?d{Y2|7Ud*]iL>z^ixn{%G\j3yTPh[P</k #QYCt:( )WEnZW  (0W^QUoH%pR_-x..U (,aA2Uj<oln}S	/,mwM|QS &X`nBPgVZq
B}3pA,|3X.q4Qx-9L:-2;'1qol}K3	B>fKmmf(Qnk{O{m"/m/epWf	w:=o}!Vw5?A@E\/$jn{eJ&gG 2AA#tk;ARZ\0`"zSE:vm	|`@-Z#,boW/RwUi
7o-%CXkY BbXlmAe,!.Av_h(NMua_AUmU?cGgiM<n7`$Ag+=> 1p#*&]Z0m}gr)omW#p=&?wL5\>~;T
w .x3p {-@PcoF~}1b}PAw}K@#_b\{9p`>/Ce>zn{X?p0= Z$B`->!_v_V7\%(jWw}Jf 9|%`>UaK9JG/?'G+W\PCUgP}zMNnZ-C;8M>F>,?FVFd/ *\LuI%dw#!ft0n06{vyx\7~1??1v%=}  P`5P w`_"ICCNp8[!D%oJCbQ3a"1 C;06F%w;~arXo	cc$JbP8J`71x!NBUgDf P-_nE7rT^D `64t\\Bgmf@_hi2DY;q<rf7<2b
j.l[26~?:3EsQqIy}VaK+bxWHV3(&K=q{H+nXwpUvY7>ue0n"%c)iA	52G_ZHW2$A){.-%^&AQmLpe19x@`4x$t^c0L!f	DZC 9`lG&C{oC jmX"xe{;+U$*o%@D jg	&B.Ow(";1[M^q[kTy:0+(x*(D,0I V=O#rt5X3}QQ\LVeeWVi(od2jF[0w<L(;Iz<@ a_jNCh-l?lfZ$C?w'9H^NO@1'%xQ*"1{J5xT~aca~{&:]` 53|t+w</M=t9fd;eL^8(a_>tt~isTX+|".(UPL~t+ 2fMW\/@t&=yY' #{D
*(7`-cLHR;)`/mEl9 @ZE(|YXno;S]n vbpp;D4ON"/`.&Kv)`0U>ID,o0| Cnw;$?J[D"P-t2<%(qP;< }JT;v m _9	y^NV6'i74	l:Sch]`ET`"o(, %|	Qss{/48nWA)YQ2#!K/D;_D<l+H&f]{$%0zXhW7Ch_ZAM=0[8U_36F[77/NEo++fGa`A !QDr|t?YM*YfpK^nAGSa.`-P-Lk-[wquKGkD;'[6a@!&i7 #<O%<Y
aX6x(>)Lf  Fre_?l6?(=wx^6DLCLy?(E~&mI1p_hLpnb'q	JSAh3pA+0vLi~%=J
*QQ@%l2OVfp=DmO}++VyMzDBYn#$%yTq>23j/svK66V}O$KMvXK}O)#EN"`=*rPFd?."F{Uac7='+:[.dX-y}MvQaoOay'i6	m[oEH\@@-x{pL}A}B}u-lZ;=gz3sm(A/8LNn?-y&{oh8%F7V;E_/:{0K]p |,f {!o)U'<z %OA*OHrW*v'Vj
	xn
002_k@`%2[vB_x?,9Ja~7^1GM<~MX'!am? HxrG{T6 i+0ddp]t!-|}NNEjUZq#HG5~q0PWgm6W)V[S_yRaWr@1!3q*wxhR[pl{Kc\,GNb^9)_vd+@_.Q^z<yaFMU4PJ-(y7\(`g?+?2i=G%ir`  EyPT5>MjJmka:)x}BNCAX`).)Q-KCgMm{A)Ik9n#-PoGla>OL(,RQWpJo0@Y+Tg~)=6Sr9&<r?Ul-T% {	^2#' R@q  [y Do{CB
P>3XvAo%l0+Gd+D3G`za(FDLuP]7[w6>TQ^	lPB)V	U(h&>aB6~Z\Yyi(%VBD-uEwj/,J9W	66/weFGt;R8T8c|1 q//w='&C*l~` Ym6i	Eo7s ^-^/LV)/B?D.@/{U1V.x=I#c H[q b"f`)?`(P#W,\
NzR-0-yl/u} Fk!W`  s3+HsvWm&ab@;nvJ{Zg AJK DAGp7Ql%{J2D8pa]wN+(>`/bW .AS LyIa\f
\4(D\nsf?b
YFZZq!BusW,m9JB_08Yi^9]oA	A*3od';.` (Tow% Z> Th@ceN3Euaezn^7>YE8\_5L]ju;<@;K;5a} DvT#tB>'f9yWq#UkusCcnE {&^{G 6Tj=k  !oycA/qBJ>)<?J>k)A5CxqQBm QCc`j{.ER 0&`fn}/` 6RQHU)}aC{ u?J^hU~s9+R x psJVEuDM  
a9e;3sh`B`6cmb0mG(-S_ S'2H$ 0m/ uo`Uxtn99A*s+;&,(]{A'BX	CwLE:H[tYsm n'kw;OK/o i?U+7bqUEDzu9@	!re0?8t_M_?=YXS ~^5
Axuum_o1^eZ4E| "|IZ6GMMr H+^M>E~1zj: Z x^\~6Uy{)g`~[xh|GD| #p!	al`"w>Omr$\d&)S2j^T}6M)Uo-qe}PK	d#9!gocl;Gm>p .wTP` #m69?U]s$zy%Zcm(3>r"{#fyIwc@n;K3;d|0#<Pdla,h(C(.=h%\KTE\"Ek8X30!ZZ)_a]QCJ/AME1Ek-Slmog x@j!@V<PQXw?yCQB-<kQf~9:+Eg+UF,*.Z*/loj..ZW$z9 l^%R78]^ hl/$jNS>`r S0~RKo m`7MYE1T+~+Jkl%mA479p.oq=/PR 6B3tVYY3Fjq@e=	ODt/yH)8-i g}uAR}os,V3UGrT&h}YZIUbld<Ua1e+m D0vZp8QBbm}Z*^vSiXW95Q*.bE#3[ dQ^hJM ACl]qKw%HF_1kO@G-] dSZ[+u-t/l87D-|L	@CnkEJc#+M?3*E -"P/-ee`&D)%G=nK",.06AnW0`YEkc1ZidDm2j !w?A?P"j_FhK - WYWIOwM!RN)-"w .a]"k##/k~Z{.h,l)My9L{/[/~>\ j.t)6=`%yH7n hX)nE]Baczb&gc}Xq
d]+:6?6L@iG7Fo?\~VVG!Y4{gxA_QM6b';& f7_Ja O Gpit@a}B&S^>%%{m6ESP8xl\"*RWe`73 @^~;~^K")ll|R@(px][\%P(]Z<\unJ Mv3v[qp0pTUS[BB%9pqO(ke*,aU
x+F]5f x\0ol	zU1xq
@)M6X|0U/bl~1qNW~p@8 ;hVR/pl`}( -HZ<$K=Ut,fRj{1SJ61+A]m+T9 cw@UQ_&7$W8M-_}EG6)$(*1u~P{
Jbx1mDmw>1Y}
D]hAxf4psH|0UpknZ-1Kn}p.ExofV;k{`oW1Q,>{0=|b)6bwqim=:^,xvIK81lbW_o0K3.0n4!1LVM {w|LOj #=	-#0'?Ym__
HjFfcnBqxv(@n`)bQRK><f3|1o)t[6BN*yW0, &3^Y<<b){ /Pw-,_!*;.bFmacaqE/0L#
@QyYm7'f>!=PuR #r~?sA:Q2?V_>.JEt}Iod|7vINGr.dU:vpM=iO+4G>`(=YH\EP6:0zJ_0U_uAn\q;]@R3G.p5pSEn7`^SjX xi|#;D. }D''kL&Ynvz a-Fb>XDCMj2@9\v{8*GSk?P;
= vjcSa{oom8OB-O{4q uMF
fGhm7IA{
*n 90V27~^b_+*7blDk+WLZW+P\mxwX@(*P\w%P7z%WW%|_; eMsmhUn@SCbxGl>7gs8	xzCBlse6v-
6)lz66btQv"yVxL-}q&vYP;o/U+w,w X\Q['
n{Y" F``)!/x=`Ch;<->@Y{R`vPg`-(xChs9=]_k4fRf27tvN
sgGT[M>[ohB0U-yD?n-w6,hx]zGtow)I\!NAbzp#/Ex*Y^w+PDQeB(f:}>MX5ZjNs Y%=ESAev-jWX?sl<"
e6z5r,Vs(b`68nt~qf0Q/b~bXPkja9FpZ%z{pN8g%ThxJW`9=k>Gb2P-_[[o^VAJ-7{LJ%TM2{ U{wLM<$8%6QvKqYhT/MPpvq%Km(3}EcC	vM:.W(^2h@4<DuS0=A-]n%'/vjahiVwB7UAM~*RmEK  lh#p~6:UY!`Tpm{00YPB}%f3EO\Yz\"h4{-fg8@=nQ'"g}c+$EJ=  ,M9q8K"ggEv/Wa'*$rmb<Kf^[clX NG|D+d4Cq 0q  
 oJ]V(Qhm2hwlY~@H<` gJ -  ( F0q6wy}CMZ7GSnOR6)k+-I 	n!}_o`:ra]
W{T
b@-M n!a(;RAO1$
gx,a~ 6Pwq.!4yD;`m}OBp=}z"~lw#9'{nIMwU&ztcz~KDm})n6>1N"GviOgvu]zD 6%fT&@2 _i`G|;k6E[L iVX#%_!XX} Hty!
|-*22ok/vp?(/Tp3<Mbsm (|GOn=|}7NnWF&bh,j!`/1OSlx~E!t5>6b77<3Zjf.
YZ^Bn[ 6I W=j`dxwGjW-8oII}8FGr3PTRhoVadG 	h6_}n*>fTbf]yo}(\([}f`+X|u%,efbQ9'tSwym$;pD.chqc7w"V^c3JTiT [|X?n73Kx6oflqw(8PIj^FlT|Z2g$ax%"WJx!n6C$_k:}dL
CWmuBHhv +@/G	oh&XWT7T9 Y,/Yv` =} ;|8}2^?)L<K<(SZi0KokTUX3^>+L(N*[l=\JV*~!SwBb$3N(moWsU-O-Vm0i
g7=	[=oN-(Jh]pKJvQ.,P=WoxnVr;#BS,x QT22~j {	_4vlG@5aY#zYG#lm) bAFvwj3^`]d|&j2fGm1=\ !mQ 5&1w	,)"1/o|4>_#;}G7#eWb%r-!(46#$/AK0wL2(b-E%z"W;X}A0%>~H&$+Vjp*EjgTx,GqKh 1CW2)|WZq(ulEv{CKnk{JaK,s~MxHSAp*4;#|/w1<mZ))'tQ$Y+u9J*o'6wD~A-GA7Gan;KA{|d*tN{eGD|'Nrkl+)gN}X?0Xw; 77aKe%|~Wuy~YGFE"$OCpkAhpw1q.E(49	%$"2#dJ75OF)
'"'nar^T77M`M`0 U'Ax{K&J0As^eR`b.J$3'?1'+{oxj>Bsf R7-[EzAm>3v;Mx4nk&g^V@ #oi s-[QMm-lS;g0>I>ifW
,N2CGN,sz 0v^`#Uwl"1#G4^.z Q=. 'Hw!9'=@J ,lGSfms8'\Em[t	}?3%;LY}%323) D
B$f9Cn#_=p~|}`M}Mva	dbD?@o}sKM0Vm$K>R 
0 >T W6O#??'`wg=Q_,a *'@%v?z=vh%aX~)yCwoc/NvYc."?|2^`e0bj
d0FpJB1[#Qj[%;qEn_l~jh5='ZYysSE6),%Aa?@X b7oM}'|VpF+~?lb~WBJKpoR!'ntvuE}T <A	n{'En1U3n?z{t[3Q3-~ ':0iK&*oM'R2#hq
l>&vC\/: P-x4[1t=(N>NBU{hTJ0|aA\\;=,6>U?1y[S;=+Atbj\DK,C{5c#X 98~4Uytq{`5WfAP0edW@0i^5{Z&wd 0C<#RARADa6 qK('VL6.];4A{lW7l`Z+7#W_C`OtMKc
?=r2`/adw$"f +-CB~"VQ[PzB4i*]1S-5%0b. S40)E!]>,p_{(AIT   =T	c$,dKqAjkPC#
W l"m	uI`M}o~t~X+W -Mv-@o Qg.o']bU>Veo~1r,/~%/e?diB1M-~ PFDW	R 1wcl$1T xzrP.]GW
*Up @ h:U ipm;o6L}4Z;_2;iwEYNx@pApKB1@ @\wg@Gv>t*=j{18e"T-+E0Lb19^.`~N2!4{VGS0;mK^[Gj@
w/AmUUr(T6vJ`J|:(-@? /&HXs@%_t 
,ptFf?giZs?/u@{|WR-9. mlXam   mP'4A#tx	*B:x@_?/@CcF3>_MS@"xp\<R@ .P=t#z*&M4,w@>*. =0 A 
)@ 8sp ='+<q6arj4"z",>d`iZQv0cx
Ttw~@c){g(eda/(FEzJ.Jp3Ofmo
S2V>:sIVxzb<+n)PwvO:N-)XX5^%e7g( sPy=!gm]K*.[>/3xSE@ (
`(0?o  .?RC!Ls  +
m~]3k 'mb	N]pu>|'M}JF*Y!m68a2 rC, `D{+b R*7hYXr ,9#U&EFVP
w9!oiGmbVwW<HG(<kLn6 7/Bw3.Hh;V@($y62|J
7E};VYBxVVcvn(o.rVohb<^SB~D%0%6~fh/p@7YDzx2CX~LzY7^`Zk	;S#<@7b+}vo@YchARb ktt z[*@;7.3K}\M/u2sf 0>_?Q~ZrJ; Ua4g a%@;.b=1X:ek l'Mu0O"Cq$awe. ZmV)=z6Fv ?CKR~b;qy=:6^^KPM[O2 \z9gT;\
~'`^cV^ sqO* >;,F1G.DzS~D%yk;V,+,pSh"ZJH# Y8>rx.)PqllA8U!o'_\=@d5O;\utwa^Re8V]<y6r0Ya3_h;2]!gJ.0f"pIst+6m!WuX;_bT@)XEQg`f/$R]5|sx
NvgI^y+~e^CE F2prf6XVjBlnk@iLE#J}x
bV#\lb]dXC?h+dG*jBlaXT<B^9b(P<3F<	\ inq	"vyGf'O` +LC,Eo4WlrIB',	wbTx<o(i U8 Z^fsyJc{cdY[C1mq_-lv^u QuV{!F_a#}[M-pHQ +b"j5ej<cc 3rC;1H-mO^Vey%
6`{@{@><S3B7TX|RP+8a"6B,T`Ph>:`R; kk A?tmf:ecg}~!mfDA)7Sk4`@C v w0aY9%A{Q]@4&KDL9dGw 5
"vDv*dl	LQl3N1?	-Ww?
endstream
endobj
340 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I340
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 1873
>>
stream
 !Adobe d    	    $  O  #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                        230!@P#14 	       1!aq2Q"ABRr 0b3S$               p          !1AQ 0aq@     VbK`=>&VHFRQk~l;&
CM'w(WmPvO4YTk;k
 =N0%_'U%<~:XN zJ>n ?xRI -{xdQF79g*3j2Fg*0<:F,TB @  hZ09AJ(F/r1s 8  k01E   bf:F{V0BIj~fug1ztLx>qhsr#9?bZt/nY\|IY&@tnG5b0SXsQeOVX?b$1	_g(LmM=w\+6m#1 &kGzhz8e@ 1wFK5b1yv+</ ? ? ?pk+YZVf~F*s-e?YARhwe{L{/<yS<SYJv~(LnY[(*lioC+{Lw;;6FlpN7A1"n	A"OLsxJmE3;8/}[6#;<q[+o;O 1x>2`$EmGrv~)&ur92 g!JcQpR	A\z1e_|Pys7S3Ba
AT*P#h  ?	RJLjD&qSN&sF:K<
L:x;]B<l:1 (zIr|? ?\c6VRAp`
SxH,\.\IS,C_ ?Ar:"#^woN'WyOc3:1^~_b Ql5\93d@Xy8_lmTBET +H/;Lh:QBK&lSyNEhgx.kG!rFfU&;)^` 4YMIaiX;= aXJ&	0tsf+cd+ 7\	V	Lq?'wL;JprgVOu<}YWZN-(IbS3{>>g%CU)sa00k  >bRRR;o,w
endstream
endobj
341 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I341
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 1774
>>
stream
 !Adobe d    	        #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                           230!1@`A"B#4         !1Qq2"r AaR0#Bb               p        !1 AQq0a@     G:s3MJ9U-&E30NkU~EuT:Oh2@A'- tYeW*_N ?A(44
,.[I1:L
`rgt)7Hc]:L*Cth#@TB @  !d2hE*RT(}h*Oi*ITU*U!x/  1g\2w  !<c<C0\_w;&c=CLIBHJshT\4	;\O7 v\c	6QgeF]^>H>Gn/
7,$+;.hwE>F=#cl2""s@BTIRCC. 4,IH@ -hI ? ? ?pk+YZU'%sxw9k)"9y>4XO
{.q.64{.+nBnnSyK3nNwgb$ F[#?x7'ef;/yb wOnNOMUN6}#rvP~kH
`})>H\{-\mq)UC\?a)/ZOy*tVmA? ?	RjRR1RFr)bri!8uGoFX1
9hv#WGnQY38hl"64dY/  ? [Xp3pyz$}T%J+ ?AppDBE[37anh.J?aN@J|,K^[m_v|/PYk'c2dr$3+@n;xmv<Ebnx|=yMu 0bOqSMo A!;,46 5ZW X'=yMc lF0	l(`PPyN}=GKfkf 1)00SOaDFGWu+H,<
endstream
endobj
342 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I342
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 1922
>>
stream
 !Adobe d    	    >    #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                      0123!@AP"B#         2!1qQ"r AaRb30B#S4               p        ! 1AQa0q@     ' @PuBt7KXrStFd5N"o1Z2@)ez3^o{Z'kl[
r1Q
@/j1VW:uf}Z'd6qS$7zB~J'd&s)^
nJ'dYn	f}zp<o!U<=)=`|dd @z @  aDQ!#PeNCp9JJ  UW 3J':T~}?  rg\*ur\.eIu>L\4.&Kf.[6[S/Rx+ItqrTMs[Op' =8|@?'C;"Qj,saN@
^=\}2x+$0auKp=}]L
|dc[oq 	<FmjJ 
Ou#7hW> ? ? ?pNTNTNTNT;)~_R:9~%'?K=IX[8m3mh@kFv;+*txwy^``ygAbvV}UP"EF7Z|>N6'eezg&FUE'9)XTfqXxQ@|bvV?5*oQnB*(<7$(D/ OP tS=@` {s;QF
cC0S0S0S0SoX  ?	Rp*TQu8BfmA*E@JCQ'vEmLIp6W.Y )=7 ?.^3e-}`J@bi{.}l"m68z,eL*W ?ApiBy'byH>:O9owaR#[Yw  !f}M`NAi KYn SK/%eoCn4/,;toot??chs!d' ?rzibcDr<2tK=<h5c"\m 3d	`C/o>'Nv8
e,_u9c8s;`e$L7qO0e=wM'T@ )q>WU >Z(r0((;4jL
mDl&ba\1} `OO)<O)<w6qsw:
endstream
endobj
343 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I343
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 1977
>>
stream
 !Adobe d    	    e    #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                       2301A@P"!#$         !1Qq2a"A3Rbr# 0              P`p        !1AQa q0@     gD3 @y	8g!fpH[F/>.cd7K)$mRF#)^6QM(v.Ye7ktHujN<R1:GF1@ELGGf~]v=a<zM[G =H<vN,aQ+v+FJl @  ,jR
#@'@B5RP'P[  2(h)_?s  rg\&urg\*ts%	srgY>t9l\$cLqFL;CT+[&si4d u,igo1rVf;-#	yYAlc~D5FG~\<v~Yo- CSZ:i<2t,<Osp# za|3{HC=8 'qOzG69n% 'B{<qb1=| ? ? ?pVo+ySz0BST&T<$:lppO` 
_nDL@'=QOm}2{Bp~24oq]/w 3prL7N5iht6.w\mhy(db-E;CSO0xPM#qF0  g=	`Ts@L'2jQVQNSHh=>~a=E1q+b>@P'iuYu^X ]&uF(	[bD B#1L  ?	RJ*V.YgQ	in`|##uw1cBt;h4Z&T]\;Gd"U@Gdg")Dvwi~>A/? ?rt2 b(#3BMFhJ xExR+ ?Ap~935Ayjw>mX}RS;;#\,Z!+CpN w}*u@BlP x]F)_.1C2Ur9`,%r(4nQKu+R.#seGx #p9|h># 
=	O>
z>C,4q9]f!!=BPI|/|`>u~pu`{`e73$v XZn!OOt0QP,L ,HPZOtB``o6pqt&	B i|O}`'Oi>;9u]?
endstream
endobj
344 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I344
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 2057
>>
stream
 !Adobe d    	        #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                         30!1#@`AC4 	       !1Qq2Aa3 "R#b0Br$4               p        !1 AQaq0@     Vb&pMc#ZZfbN1LT-hg9sVGE&la9V1ltB@{<BJ	PkdSN"r~f*D@*9
Va+\O@r(?&C`cZ>dplIEh@%J8 @  dYtZ}l	`>"dN[|&EtfF'Y:NwM|3ejY_  3v  bas:3u:Ns'+#> i{GbPDR2gV-T]K)V`#=2 Hd;'rNBp\@gw,c}!eV<P+L[1qTY9/#`2q#'VNSq}	cpb}yKLN+9D
8%%, %.....#0/ ? ? ?pg+9YVrEVI+LCi&Y_as^N1u{S4?\71[6#.Hhy3?4Z1Qb3L<dUbw1;&sb8Pybv"Na}{~&('[Q?U[D\m?r(x#yH^.#},W9OCp@M|Mwsruk[E5E<;.2Ct>[}FkH/qF
&@AL=>-Dq17:S6`7I'I^B.q$MZ
~DIV,f0Y5(~?g ?	RJXj'J1CJtA*;hi|vJq5- x(-xi>PCm%hjJ%qWl*4EDc]K  ?z/C:qV7Y~bb{Tahh^TRJ? ?AppD}+_)Idb^F5H;febT;M_]ggX*D4C%5wmzp]0lm[^PpYG_n WS2	Uewl3h{9K'q_Yw%
OuR[9Ashs*u Z-w7n].L.4
'^cG/LL,<e-:jZ3ee@~=s5 B{\xRa sKbK|Xy[ {{CMv|s	{)!,lCJ]H'Oi>;9:xvt
endstream
endobj
345 0 obj
<<
/Type /XObject
/Subtype /Image
/Name /I345
/Width 81
/Height 89
/Filter /DCTDecode
/BitsPerComponent 8
/ColorSpace /DeviceRGB
/Length 1841
>>
stream
 !Adobe d    	      /  #%'%#//33//@@@@@@@@@@@@@@@  --@5,5@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@  Y Q                                        320!1@p4         1!q2AQa"Br# R0b34               p          !1A Q0aq@     +R6v)Zf}1Yw*SOH;(t<0:u;?-g3p].M&r2w0YNk4;._agnN_A}y^iW:L/T}h;?+t.M|2&f[HVrr%JB!;nB!D  ijwMQllI6vl2$	2g;uo[>F    bay3&uN2^TKSgVy)kw"i:pubI`RbNgaZ.]-~C'BF[z-~C'B#!Xs/fM`lK:yCqw-J8vsIVJ3XMT^T~*pMVa"cVL+-'d/m	\d#mRt+Rx-3? ? ? ?pg+9YVr9N2Y~0Bd)eXWJg2 uzj8=8zcQ8;;(6M`/+H~Hk#nT#rv63.]~;<k@0Mr-o|37'atS=iGvVh:4ClTYTuruSzNzUGh+ xL Uj8A/7R]7+`,f
aL,O ?	RJ*\1)>q0w.4:%mNf:qlbZ0pX2q+D 0R+rDO ?r,Ypa*paoA`DRp8RJfs9R ?Ar8b <KG|O9Z 9cT@pFF_cN?VpwS7VO# g_+?OY3`3ulj[/H7E=uL*+E5r\.#<oCFI0u6[4:A:2(?PSy'T,YqZ?Lb)^cG}-\gU"CZi&ikpIB]/,miAlah.^j\RGH h|6/io(^S8K{(.0a<O)<<<<w6o,:
endstream
endobj
xref
0 346
0000000000 65535 f
0000000009 00000 n
0000000098 00000 n
0000000205 00000 n
0000000226 00000 n
0000000341 00000 n
0000000453 00000 n
0000000560 00000 n
0000000673 00000 n
0000000778 00000 n
0000000888 00000 n
0000002203 00000 n
0000002534 00000 n
0000002775 00000 n
0000003082 00000 n
0000003132 00000 n
0000003475 00000 n
0000007875 00000 n
0000008198 00000 n
0000008398 00000 n
0000008731 00000 n
0000009022 00000 n
0000009345 00000 n
0000009541 00000 n
0000009894 00000 n
0000013109 00000 n
0000013442 00000 n
0000015096 00000 n
0000015447 00000 n
0000018737 00000 n
0000019080 00000 n
0000022161 00000 n
0000022514 00000 n
0000025280 00000 n
0000025623 00000 n
0000028631 00000 n
0000028974 00000 n
0000029969 00000 n
0000030292 00000 n
0000030486 00000 n
0000030819 00000 n
0000031108 00000 n
0000031431 00000 n
0000031625 00000 n
0000031976 00000 n
0000035258 00000 n
0000035601 00000 n
0000037862 00000 n
0000038195 00000 n
0000038481 00000 n
0000038804 00000 n
0000038995 00000 n
0000039356 00000 n
0000043067 00000 n
0000043410 00000 n
0000047235 00000 n
0000047568 00000 n
0000049336 00000 n
0000049659 00000 n
0000049859 00000 n
0000050192 00000 n
0000050487 00000 n
0000050810 00000 n
0000051010 00000 n
0000051361 00000 n
0000054726 00000 n
0000055059 00000 n
0000058775 00000 n
0000059128 00000 n
0000061558 00000 n
0000061911 00000 n
0000064316 00000 n
0000064659 00000 n
0000067604 00000 n
0000067957 00000 n
0000070247 00000 n
0000070600 00000 n
0000072750 00000 n
0000073093 00000 n
0000075492 00000 n
0000075845 00000 n
0000078140 00000 n
0000078493 00000 n
0000080542 00000 n
0000080895 00000 n
0000083092 00000 n
0000083445 00000 n
0000086027 00000 n
0000086370 00000 n
0000089866 00000 n
0000090219 00000 n
0000092437 00000 n
0000092780 00000 n
0000095314 00000 n
0000095667 00000 n
0000098443 00000 n
0000098786 00000 n
0000101644 00000 n
0000101987 00000 n
0000103885 00000 n
0000104229 00000 n
0000106852 00000 n
0000107197 00000 n
0000109407 00000 n
0000109752 00000 n
0000110952 00000 n
0000111315 00000 n
0000114991 00000 n
0000115346 00000 n
0000119308 00000 n
0000119663 00000 n
0000123711 00000 n
0000124046 00000 n
0000124284 00000 n
0000124659 00000 n
0000128811 00000 n
0000129186 00000 n
0000134525 00000 n
0000134880 00000 n
0000140115 00000 n
0000140470 00000 n
0000144765 00000 n
0000145120 00000 n
0000149300 00000 n
0000149635 00000 n
0000149874 00000 n
0000150237 00000 n
0000153467 00000 n
0000153812 00000 n
0000156516 00000 n
0000156851 00000 n
0000159430 00000 n
0000159775 00000 n
0000161934 00000 n
0000162289 00000 n
0000165866 00000 n
0000166221 00000 n
0000168480 00000 n
0000168835 00000 n
0000171893 00000 n
0000172258 00000 n
0000174745 00000 n
0000175100 00000 n
0000178119 00000 n
0000178474 00000 n
0000180472 00000 n
0000180827 00000 n
0000183234 00000 n
0000183589 00000 n
0000186638 00000 n
0000186973 00000 n
0000187262 00000 n
0000187597 00000 n
0000187889 00000 n
0000188214 00000 n
0000188411 00000 n
0000188764 00000 n
0000192148 00000 n
0000192503 00000 n
0000195401 00000 n
0000195756 00000 n
0000199433 00000 n
0000199778 00000 n
0000202833 00000 n
0000203188 00000 n
0000206313 00000 n
0000206668 00000 n
0000209794 00000 n
0000210139 00000 n
0000214027 00000 n
0000214382 00000 n
0000217086 00000 n
0000217421 00000 n
0000217702 00000 n
0000218055 00000 n
0000221317 00000 n
0000221662 00000 n
0000223802 00000 n
0000224165 00000 n
0000227336 00000 n
0000227701 00000 n
0000231320 00000 n
0000231675 00000 n
0000236041 00000 n
0000236396 00000 n
0000239967 00000 n
0000240322 00000 n
0000243503 00000 n
0000243848 00000 n
0000247606 00000 n
0000247961 00000 n
0000251200 00000 n
0000251545 00000 n
0000254217 00000 n
0000254572 00000 n
0000256978 00000 n
0000257323 00000 n
0000258338 00000 n
0000258691 00000 n
0000262243 00000 n
0000262598 00000 n
0000266238 00000 n
0000266593 00000 n
0000269920 00000 n
0000270265 00000 n
0000273561 00000 n
0000273916 00000 n
0000277279 00000 n
0000277624 00000 n
0000280562 00000 n
0000280917 00000 n
0000282442 00000 n
0000282805 00000 n
0000285647 00000 n
0000286012 00000 n
0000289385 00000 n
0000289730 00000 n
0000292799 00000 n
0000293144 00000 n
0000295367 00000 n
0000295722 00000 n
0000298630 00000 n
0000298975 00000 n
0000301887 00000 n
0000302232 00000 n
0000305067 00000 n
0000305422 00000 n
0000308176 00000 n
0000308521 00000 n
0000312247 00000 n
0000312592 00000 n
0000316447 00000 n
0000316792 00000 n
0000320155 00000 n
0000320500 00000 n
0000323730 00000 n
0000324075 00000 n
0000326665 00000 n
0000327020 00000 n
0000328599 00000 n
0000328962 00000 n
0000332038 00000 n
0000332383 00000 n
0000335993 00000 n
0000336338 00000 n
0000339500 00000 n
0000339845 00000 n
0000343278 00000 n
0000343623 00000 n
0000348887 00000 n
0000349232 00000 n
0000353405 00000 n
0000353760 00000 n
0000356564 00000 n
0000356919 00000 n
0000359192 00000 n
0000359547 00000 n
0000362215 00000 n
0000362588 00000 n
0000365430 00000 n
0000365795 00000 n
0000369923 00000 n
0000370288 00000 n
0000372824 00000 n
0000373169 00000 n
0000376506 00000 n
0000376851 00000 n
0000379672 00000 n
0000380027 00000 n
0000382586 00000 n
0000382941 00000 n
0000386115 00000 n
0000386470 00000 n
0000389634 00000 n
0000389989 00000 n
0000392502 00000 n
0000392837 00000 n
0000394115 00000 n
0000394440 00000 n
0000394632 00000 n
0000394967 00000 n
0000395253 00000 n
0000395578 00000 n
0000395770 00000 n
0000396105 00000 n
0000396381 00000 n
0000396706 00000 n
0000396902 00000 n
0000397237 00000 n
0000397526 00000 n
0000397851 00000 n
0000398047 00000 n
0000398410 00000 n
0000401680 00000 n
0000402035 00000 n
0000405380 00000 n
0000405725 00000 n
0000409181 00000 n
0000409536 00000 n
0000413273 00000 n
0000413608 00000 n
0000414953 00000 n
0000415318 00000 n
0000421035 00000 n
0000421400 00000 n
0000427628 00000 n
0000427993 00000 n
0000432348 00000 n
0000432703 00000 n
0000434099 00000 n
0000434454 00000 n
0000439214 00000 n
0000439559 00000 n
0000441830 00000 n
0000442165 00000 n
0000442788 00000 n
0000443151 00000 n
0000446270 00000 n
0000446615 00000 n
0000447573 00000 n
0000447908 00000 n
0000448195 00000 n
0000448520 00000 n
0000448712 00000 n
0000449057 00000 n
0000452054 00000 n
0000452399 00000 n
0000455559 00000 n
0000455904 00000 n
0000459363 00000 n
0000459708 00000 n
0000461442 00000 n
0000461787 00000 n
0000464752 00000 n
0000465097 00000 n
0000467828 00000 n
0000468173 00000 n
0000469369 00000 n
0000471663 00000 n
0000473727 00000 n
0000537330 00000 n
0000539383 00000 n
0000541337 00000 n
0000543439 00000 n
0000545596 00000 n
0000547833 00000 n
trailer
<<
/Size 346
/Root 1 0 R
/Info 2 0 R
>>
startxref
549854
%%EOF